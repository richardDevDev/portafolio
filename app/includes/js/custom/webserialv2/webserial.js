/*! For license information please see webserial.js.LICENSE.txt */
(()=>{var e={757:(e,t,s)=>{e.exports=s(666)},666:e=>{var t=function(e){"use strict";var t,s=Object.prototype,n=s.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function r(e,t,s){return Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{r({},"")}catch(e){r=function(e,t,s){return e[t]=s}}function c(e,t,s,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),l=new D(n||[]);return a._invoke=function(e,t,s){var n=h;return function(i,a){if(n===u)throw new Error("Generator is already running");if(n===x){if("throw"===i)throw a;return P()}for(s.method=i,s.arg=a;;){var l=s.delegate;if(l){var o=S(l,s);if(o){if(o===_)continue;return o}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(n===h)throw n=x,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);n=u;var r=p(e,t,s);if("normal"===r.type){if(n=s.done?x:d,r.arg===_)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(n=x,s.method="throw",s.arg=r.arg)}}}(e,s,l),a}function p(e,t,s){try{return{type:"normal",arg:e.call(t,s)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h="suspendedStart",d="suspendedYield",u="executing",x="completed",_={};function v(){}function f(){}function g(){}var b={};r(b,a,(function(){return this}));var m=Object.getPrototypeOf,w=m&&m(m(M([])));w&&w!==s&&n.call(w,a)&&(b=w);var k=g.prototype=v.prototype=Object.create(b);function y(e){["next","throw","return"].forEach((function(t){r(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function s(i,a,l,o){var r=p(e[i],e,a);if("throw"!==r.type){var c=r.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){s("next",e,l,o)}),(function(e){s("throw",e,l,o)})):t.resolve(h).then((function(e){c.value=e,l(c)}),(function(e){return s("throw",e,l,o)}))}o(r.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){s(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,s){var n=e.iterator[s.method];if(n===t){if(s.delegate=null,"throw"===s.method){if(e.iterator.return&&(s.method="return",s.arg=t,S(e,s),"throw"===s.method))return _;s.method="throw",s.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var i=p(n,e.iterator,s.arg);if("throw"===i.type)return s.method="throw",s.arg=i.arg,s.delegate=null,_;var a=i.arg;return a?a.done?(s[e.resultName]=a.value,s.next=e.nextLoc,"return"!==s.method&&(s.method="next",s.arg=t),s.delegate=null,_):a:(s.method="throw",s.arg=new TypeError("iterator result is not an object"),s.delegate=null,_)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function M(e){if(e){var s=e[a];if(s)return s.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,l=function s(){for(;++i<e.length;)if(n.call(e,i))return s.value=e[i],s.done=!1,s;return s.value=t,s.done=!0,s};return l.next=l}}return{next:P}}function P(){return{value:t,done:!0}}return f.prototype=g,r(k,"constructor",g),r(g,"constructor",f),f.displayName=r(g,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,r(e,o,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},y(C.prototype),r(C.prototype,l,(function(){return this})),e.AsyncIterator=C,e.async=function(t,s,n,i,a){void 0===a&&(a=Promise);var l=new C(c(t,s,n,i),a);return e.isGeneratorFunction(s)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},y(k),r(k,o,"Generator"),r(k,a,(function(){return this})),r(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var s in e)t.push(s);return t.reverse(),function s(){for(;t.length;){var n=t.pop();if(n in e)return s.value=n,s.done=!1,s}return s.done=!0,s}},e.values=M,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var s in this)"t"===s.charAt(0)&&n.call(this,s)&&!isNaN(+s.slice(1))&&(this[s]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var s=this;function i(n,i){return o.type="throw",o.arg=e,s.next=n,i&&(s.method="next",s.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a],o=l.completion;if("root"===l.tryLoc)return i("end");if(l.tryLoc<=this.prev){var r=n.call(l,"catchLoc"),c=n.call(l,"finallyLoc");if(r&&c){if(this.prev<l.catchLoc)return i(l.catchLoc,!0);if(this.prev<l.finallyLoc)return i(l.finallyLoc)}else if(r){if(this.prev<l.catchLoc)return i(l.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return i(l.finallyLoc)}}}},abrupt:function(e,t){for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var l=a?a.completion:{};return l.type=e,l.arg=t,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var s=this.tryEntries[t];if(s.finallyLoc===e)return this.complete(s.completion,s.afterLoc),T(s),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var s=this.tryEntries[t];if(s.tryLoc===e){var n=s.completion;if("throw"===n.type){var i=n.arg;T(s)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,s,n){return this.delegate={iterator:M(e),resultName:s,nextLoc:n},"next"===this.method&&(this.arg=t),_}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,s),a.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=s(757),t=s.n(e);function n(e,t,s,n,i,a,l){try{var o=e[a](l),r=o.value}catch(e){return void s(e)}o.done?t(r):Promise.resolve(r).then(n,i)}function i(e){return function(){var t=this,s=arguments;return new Promise((function(i,a){var l=e.apply(t,s);function o(e){n(l,i,a,o,r,"next",e)}function r(e){n(l,i,a,o,r,"throw",e)}o(void 0)}))}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){c(e,t),t.add(e)}function r(e,t,s){c(e,t),t.set(e,s)}function c(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function p(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function h(e,t,s){return function(e,t,s){if(t.set)t.set.call(e,s);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=s}}(e,x(e,t,"set"),s),s}function d(e,t,s){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return s}function u(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,x(e,t,"get"))}function x(e,t,s){if(!t.has(e))throw new TypeError("attempted to "+s+" private field on non-instance");return t.get(e)}var _=new WeakMap,v=new WeakMap,f=new WeakMap,g=new WeakMap,b=new WeakMap,m=new WeakMap,w=new WeakMap,k=new WeakMap,y=new WeakMap,C=new WeakSet,S=new WeakSet,E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,S),o(this,C),r(this,_,{writable:!0,value:{log:!0,warn:!0,debug:!0,error:!0}}),r(this,v,{writable:!0,value:{}}),r(this,f,{writable:!0,value:0}),r(this,g,{writable:!0,value:1}),r(this,b,{writable:!0,value:0}),r(this,m,{writable:!0,value:0}),r(this,w,{writable:!0,value:u(this,g)+u(this,b)+u(this,m)}),r(this,k,{writable:!0,value:0}),r(this,y,{writable:!0,value:[]}),p(this,"_control",!1),p(this,"_control_page",null),console.debug("Created by danidoble","https://github.com/danidoble","https://danidoble.com")}var s,n,c;return s=e,n=[{key:"onDD",value:function(e){var t="",s="danidoble";document.addEventListener("keydown",(function(n){if((t+=""+n.key)===s)return e();s.indexOf(t)&&(t=""+n.key)}))}},{key:"onTestModeOn",value:function(e){var t="",s="testmodeon";document.addEventListener("keydown",(function(n){if((t+=""+n.key)===s)return e();s.indexOf(t)&&(t=""+n.key)}))}},{key:"onTestModeOff",value:function(e){var t="",s="testmodeoff";document.addEventListener("keydown",(function(n){if((t+=""+n.key)===s)return e();s.indexOf(t)&&(t=""+n.key)}))}},{key:"__",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!==t&&"object"===a(t)?void 0!==t&&t[e]?t[e]:e:"undefined"!=typeof dd_lang&&dd_lang[e]?dd_lang[e]:e}},{key:"decToHex",value:function(e){return parseInt(e).toString(16).toUpperCase()}},{key:"hexToDec",value:function(e){return parseInt(e,16)}},{key:"add0x",value:function(e){var t=[];return e.forEach((function(e,s){t[s]="0x"+e})),t}},{key:"hexMaker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;void 0===e&&(e="00");var s=t-e.toString().length;if(s>0)for(var n=0;n<s;n++)e="0"+e;return e.toString().toUpperCase()}},{key:"arrDecToHex",value:function(e){var t=this,s=[];return e.forEach((function(e,n){s[n]=t.decToHex(e)})),s}},{key:"arrHexToDec",value:function(e){var t=this,s=[];return e.forEach((function(e,n){s[n]=t.decToHex(e)})),s}},{key:"sumHex",value:function(e){var t=0;return e.forEach((function(e){t+=parseInt(e,16)})),t.toString(16)}},{key:"boardroidSumHex",value:function(e){var t=0;return e.forEach((function(e,s){0!==s&&11!==s&&(t+=parseInt(e,16))})),t.toString(16).toUpperCase()}},{key:"jofemarCalcCheckSums",value:function(e){e=this.add0x([this.decToHex(parseInt(e).toString())]);var t=[];return t.push((255&e|240).toString(16).toUpperCase()),t.push((255&e|15).toString(16).toUpperCase()),t}},{key:"log",value:function(){if(u(this,_).log){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];1===t.length?console.log(t[0]):console.log(t),console.debug(d(this,C,T).call(this,"log",t))}}},{key:"error",value:function(){if(u(this,_).error){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];1===t.length?console.error(t[0]):console.error(t),console.debug(d(this,C,T).call(this,"error",t))}}},{key:"debug",value:function(){if(u(this,_).debug){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];1===t.length?console.debug(t[0]):console.debug(t),console.debug(d(this,C,T).call(this,"debug",t))}}},{key:"warn",value:function(){if(u(this,_).warn){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];1===t.length?console.warn(t[0]):console.warn(t),console.debug(d(this,C,T).call(this,"warn",t))}}},{key:"setBoardroidConnectionConstant",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=["F1","06","00","00","00","00","00","00","00","00","F2","F8"];return t[1]=this.hexMaker(this.decToHex((5+e).toString())),t[11]=this.boardroidSumHex(t),this.add0x(t)}},{key:"setLockerConnectionConstant",value:function(){var e=["02","06","00","03","03","1D","F8","1B","03","F9"];return this.add0x(e)}},{key:"setJofemarConnectionConstant",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=["02","30","30",(128+t).toString(16),"53","FF","FF"],n=[];return s.forEach((function(t){n.push(e.hexMaker(t))})),this.jofemarMakeBytes(n)}},{key:"jofemarMakeBytes",value:function(e){for(var t=this.hexToDec(this.sumHex(e)),s=this.jofemarCalcCheckSums(t.toString()),n=0;n<2;n++)e.push(this.hexMaker(s[n]));return e.push("03"),this.add0x(e)}},{key:"isWebserialSupported",value:function(e){var t=document.getElementById(window[e]);return null===t&&(t=document.getElementById(e)),null===t?(console.error(e+" must be an id of element in the DOM"),!1):(t.classList.toggle("hidden","serial"in navigator),"serial"in navigator)}},{key:"setDeviceStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"boardroid",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("boardroid"===e.toLowerCase()){var n=document.getElementById(window["_id_br"+t+"_btn_connect_serial"]);if(null===n)return alert("'_id_br"+t+"_btn_connect_serial' must be an variable with the id of element in the DOM"),!1;s?n.classList.add("hidden"):n.classList.remove("hidden")}else if("jofemar"===e.toLowerCase()){var i=document.getElementById(window["_id_jof"+t+"_btn_connect_serial"]);if(null===i)return alert("'_id_jof"+t+"_btn_connect_serial' must be an variable with the id of element in the DOM"),!1;s?i.classList.add("hidden"):i.classList.remove("hidden")}else if("locker"===e.toLowerCase()){var a=document.getElementById(window["_id_lock"+t+"_btn_connect_serial"]);if(null===a)return alert("'_id_lock"+t+"_btn_connect_serial' must be an variable with the id of element in the DOM"),!1;s?a.classList.add("hidden"):a.classList.remove("hidden")}var l=document.getElementById(_id_vl_modal_permissions);if(null===l)return alert(_id_vl_modal_permissions+" must be an id of element in the DOM"),!1;l.setAttribute("data-action",e),l.click()}},{key:"checkDevicesConnected",value:function(){var e=0;u(this,v).boardroid={},u(this,v).jofemar={},u(this,v).lockers={};for(var t=1;t<=u(this,g);t++){var s=document.getElementById("_id_br"+t+"_btn_connect_serial");if(null===s)return alert("'_id_br"+t+"_btn_connect_serial' must be an variable with the id of element in the DOM"),!1;window["owl_br"+t+"_connected"]?(e++,u(this,v).boardroid["no_"+t]=!0,s.classList.add("hidden")):(u(this,v).boardroid["no_"+t]=!1,s.classList.remove("hidden"),this.setDeviceStatus("boardroid",t,!1))}for(var n=1;n<=u(this,b);n++){var i=document.getElementById("_id_jof"+n+"_btn_connect_serial");if(null===i)return alert("'_id_jof"+n+"_btn_connect_serial' must be an variable with the id of element in the DOM"),!1;window["owl_jof"+n+"_connected"]?(e++,u(this,v).jofemar["no_"+n]=!0,i.classList.add("hidden")):(u(this,v).jofemar["no_"+n]=!1,i.classList.remove("hidden"),this.setDeviceStatus("jofemar",n,!1))}for(var a=1;a<=u(this,m);a++){var l=document.getElementById(window["_id_lock"+a+"_btn_connect_serial"]);if(null===l)return alert("'_id_lock"+a+"_btn_connect_serial' must be an variable with the id of element in the DOM"),!1;window["owl_lock"+a+"_connected"]?(e++,u(this,v).lockers["no_"+a]=!0,l.classList.add("hidden")):(u(this,v).lockers["no_"+a]=!1,l.classList.remove("hidden"),this.setDeviceStatus("locker",a,!1))}var o=document.getElementById(_id_vl_open_modal_permissions);if(null===o)return alert(_id_vl_open_modal_permissions+" must be an id of element in the DOM"),!1;if(0!==u(this,f)&&(clearTimeout(u(this,f)),h(this,f,0)),e>=u(this,w))this.log(dd.__("All devices connected"),u(this,v)),document.querySelector("body").style.overflow="auto",o.classList.add("hidden");else{var r=this;h(this,f,setTimeout((function(){r.error(dd.__("MISSING DEVICES"),u(r,v)),setTimeout((function(){r.checkDevicesConnected()}),3e3)}),1e3)),document.querySelector("body").style.overflow="hidden",o.classList.remove("hidden")}}},{key:"addButtonToPermissions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Boardroid",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="br";"locker"===e.toLowerCase()?n="lock":"jofemar"===e.toLowerCase()&&(n="jof");var a=document.getElementById(window._vl_btns_code_);window["_id_"+n+s+"_btn_connect_serial"]="_id_"+n+s+"_btn_connect_serial",null===document.getElementById(window["_id_"+n+s+"_btn_connect_serial"])&&function(){a.innerHTML+='<button type="button" data-prefix=\''+n+"' data-number='"+s+"' id=\"_id_"+n+s+'_btn_connect_serial" class="btn-connect-serial btn ws-my-1 justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm">'+e+" "+s+": "+dd.__("Choose a port")+"</button>";for(var l=document.querySelectorAll(".btn-connect-serial"),o=function(e){l[e].addEventListener("click",i(t().mark((function s(){var n,i;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l[e].getAttribute("data-prefix"),i=l[e].getAttribute("data-number"),t.next=4,window[n+i].initSerial();case 4:case"end":return t.stop()}}),s)}))))},r=0;r<l.length;r++)o(r)}()}},{key:"getRandomInt",value:function(e,t){return Math.floor(Math.random()*(t-e))+e}},{key:"setExpectedConnectedDevices",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h(this,w,u(this,g)+u(this,b)+u(this,m)),e&&h(this,w,u(this,w)-1),h(this,k,0)}},{key:"removePermissionOverlay",value:function(){if(void 0===window.permission_observer){var e=document.getElementById(window._id_vl_open_modal_permissions);if(null!==e){e.classList.contains("hidden")||(e.classList.add("hidden"),e.style.removeProperty("display")),window.permission_observer=new MutationObserver((function(t){t.forEach((function(t){"attributes"===t.type.toLowerCase()?"class"===t.attributeName.toLowerCase()?e.classList.contains("hidden")||(e.classList.add("hidden"),e.style.removeProperty("display")):"style"===t.attributeName.toLowerCase()?"none"!==e.style.display&&(e.classList.add("hidden"),e.style.removeProperty("display")):console.warn(t):console.warn(t)}))}));var t={attributes:!0,childList:!1,characterData:!1},s=document.getElementById("container-warning-modal-permission");window.permission_observer.observe(s,t)}}}},{key:"restorePermissionOverlay",value:function(){void 0!==window.permission_observer&&(window.permission_observer.disconnect(),window.permission_observer=void 0)}},{key:"number_boardroid_project",get:function(){return u(this,g)},set:function(e){h(this,g,e),this.setExpectedConnectedDevices()}},{key:"number_jofemar_project",get:function(){return u(this,b)},set:function(e){h(this,b,e),this.setExpectedConnectedDevices()}},{key:"number_lockers_project",get:function(){return u(this,m)},set:function(e){h(this,m,e),this.setExpectedConnectedDevices()}},{key:"console",get:function(){return{log:u(this,_).log,warn:u(this,_).warn,error:u(this,_).error,debug:u(this,_).debug}},set:function(e){u(this,_).log=e,u(this,_).error=e,u(this,_).warn=e,u(this,_).debug=e}},{key:"consoleLog",get:function(){return u(this,_).log},set:function(e){u(this,_).log=e}},{key:"consoleWarn",get:function(){return u(this,_).warn},set:function(e){u(this,_).warn=e}},{key:"consoleDebug",get:function(){return u(this,_).debug},set:function(e){u(this,_).debug=e}},{key:"consoleError",get:function(){return u(this,_).error},set:function(e){u(this,_).error=e}},{key:"totalExpectedDevices",get:function(){return u(this,w)}},{key:"connectedDevices",get:function(){return u(this,v)}},{key:"extSaveConsole",value:function(e,t){console.clear()}},{key:"saveConsole",value:function(){d(this,S,D).call(this,{reason:dd.__("unload page, force log of console data to save")},!0)}},{key:"htmlData",value:function(){window._id_vl_boardroid="boardroid-container",window._id_vl_not_support="_owl_serial_navigator_not_supported",window._id_vl_btn_close_not_support="_owl_serial_close_navigator_not_supported",window._id_vl_modal_permissions="_owl_btn_choose_serial_modal",window._id_vl_log_serial="_owl_log_serial",window._id_vl_btn_open_modal_permissions="btn-open-warning-modal-permission",window._id_vl_not_device="owl_device_not_detected",window._id_vl_open_modal_permissions="container-warning-modal-permission",window.owl_image_reload="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIj48cGF0aCBkPSJNNDYzLjcwMiAxNjIuNjU1TDQ0Mi40OTEgMTQuMTY0Yy0xLjc0NC0xMi4xNzQtMTYuNzA3LTE3LjIzMy0yNS40NTktOC40ODFsLTMwLjg5NCAzMC44OTRDMzQ2LjQxMSAxMi42MTIgMzAxLjMwOSAwIDI1NC45MzIgMCAxMTUuNDY0IDAgMy40OTEgMTA5LjE2LjAwNSAyNDguNTExYy0uMTkgNy42MTcgNS4zNDcgMTQuMTUgMTIuODc2IDE1LjIzNGw1OS45NDEgOC41NjljOC45MzYgMS4zMDQgMTcuMjQ5LTUuNzEyIDE3LjEyNS0xNS4wNThDODguNzA0IDE2NS4yODYgMTYyLjk4NiA5MCAyNTQuOTMyIDkwYzIyLjI2NSAwIDQ0LjI2NyA0LjUyNiA2NC42IDEzLjE4M2wtMjkuNzggMjkuNzhjLTguNjk3IDguNjk3LTMuNzYxIDIzLjcwNiA4LjQ4MSAyNS40NTlsMTQ4LjQ5MSAyMS4yMTFjOS43ODQgMS40NzUgMTguMzgxLTcuMDM0IDE2Ljk3OC0xNi45Nzh6TTQ5OS4xMTcgMjQ5LjQxMmwtNTkuODk3LTguNTU1Yy03LjczOC0uOTgtMTcuMTI0IDUuNjUxLTE3LjEyNCAxNi4xNDMgMCA5MC45ODEtNzQuMDE5IDE2NS0xNjUgMTY1YTE2NS4yMDcgMTY1LjIwNyAwIDAxLTY0LjMwNi0xMy4wNTJsMjguODI4LTI4LjgyOGM4LjY5Ny04LjY5NyAzLjc2MS0yMy43MDYtOC40ODEtMjUuNDU5TDY0LjY0NiAzMzMuNDM1Yy05Ljc1My0xLjM5My0xOC4zOSA2Ljk3MS0xNi45NzggMTYuOTc4bDIxLjIxIDE0OC40OTJjMS43NDYgMTIuMTg3IDE2LjY5NiAxNy4yMTIgMjUuNDU5IDguNDgxbDMxLjY0MS0zMS42MjZDMTY1LjUxNCA0OTkuNTA1IDIxMC41ODcgNTEyIDI1Ny4wOTYgNTEyYzEzOC43OTQgMCAyNTAuNzUyLTEwOC42MTggMjU0Ljg5Ny0yNDcuMjguMjItNy42MzItNS4zMTctMTQuMjI0LTEyLjg3Ni0xNS4zMDh6IiBmaWxsPSIjZmZmIiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLz48L3N2Zz4=",window._vl_btns_code_="container_btns_serials",window.__webserial_html__='<div id="'+window._id_vl_boardroid+'"><div class="fixed z-40x inset-0 overflow-y-auto hidden" id="'+window._id_vl_open_modal_permissions+'"><button id="'+window._id_vl_btn_open_modal_permissions+'" class="hidden"></button><div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"><div class="fixed inset-0 transition-opacity" aria-hidden="true"><div class="absolute inset-0 bg-gray-800 opacity-75"></div><span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">​</span><div class="inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6" role="dialog" aria-modal="true" aria-labelledby="modal-headline"><div><div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100"><svg class="h-5 w-5 text-red-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div><div class="mt-3 text-center sm:mt-5"><h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-headline">'+__("You must allow the access to yours serial devices")+'</h3><div class="mt-2"><p class="text-sm text-gray-500">'+__("Please click the button below, and choose the device you want to use.")+'</p></div><h3 class="text-lg leading-6 font-medium text-gray-900" id="_message-txt-permissions"></h3></div></div><div class="mt-5 sm:mt-6"><button type="button" id="'+window._id_vl_modal_permissions+'" class="hidden"></button><div id="'+window._vl_btns_code_+'"></div></div></div></div></div><div id="'+window._id_vl_log_serial+'"></div><div id="'+window._id_vl_not_device+'" class="'+window._id_vl_not_device+'" style="display: none"><img src="'+window.owl_image_not_device_detected+'" alt="'+__("Device disconnected")+'" class="owl-w-100 owl-p-4 owl-max-h-80vh"><a href="'+location.toString()+'" class="owl-btn owl-btn-link owl-fixed-bottom"><img src="'+window.owl_image_reload+'" style="max-width:60px;margin:0 auto;" alt="'+__("Reload")+'"></a></div></div><div id="'+window._id_vl_not_support+'" class="hidden mt-4 w-full mx-auto fixed position-fixed bg-tw-gray-50 text-tw-gray-900 left-0 bottom-0 dd-shadow z-index:31"><button id="'+window._id_vl_btn_close_not_support+'" class="btn btn-outline-dark position-absolute top-0 end-0 rounded-0 me-1 mt-1">X</button><div class="rounded-md bg-red-50 p-4"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/></svg></div><div class="ms-3"><h3 class="ms-2 text-sm font-medium text-red-800">'+__("Sorry your browser is not compatible with")+" <b>Web Serial</b>.<br>"+__("Make sure you are in a compatible browser")+'</h3><div class="mt-2 text-sm text-red-700"><ul class="list-disc pl-5 space-y-1"><li>'+__("In Chrome 78 - 88 you can enable support in")+" <code>chrome://flags</code> "+__("enabling the flag")+" <code>#enable-experimental-web-platform-features</code></li><li>"+__("In Chrome 89 the functionality is already integrated into the browser")+"</li><li>"+__("You can use Microsoft Edge ^ v89 (Chromium) in versions lower than 89 should work the same as chrome.")+"<br><code>edge://flags</code> "+__("enabling the flag")+" <code>#enable-experimental-web-platform-features</code></li></ul></div></div></div>"}}],n&&l(s.prototype,n),c&&l(s,c),Object.defineProperty(s,"prototype",{writable:!1}),e}();function T(e,t){var s=null,n=new Error;try{n.name=__(e.toLowerCase()),n.message=JSON.stringify(t)}catch(e){s=e}finally{null===s&&(s=n),console.debug("_trace_real_",e+": ",t,s)}var i={__trace__:s.stack.toString().split("\n    "),info:t};return d(this,S,D).call(this,i),i}function D(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=new Date,n=s.getTime(),i=dd.hexMaker(s.getDate()),a=s.getFullYear(),l=dd.hexMaker(s.getMonth()+1),o=dd.hexMaker(s.getHours()),r=dd.hexMaker(s.getMinutes()),c=dd.hexMaker(s.getSeconds()),p=s.getMilliseconds(),d=new URL(window.location),x={unix:n,date:a+"-"+l+"-"+i,time:o+":"+r+":"+c+"."+p,uri:d.href},_={object:e,date:x};u(this,y).push(_),(u(this,y).length>=300||!0===t)&&(this.extSaveConsole(JSON.stringify(u(this,y)),JSON.stringify(x)),h(this,y,[]))}function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function P(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function B(e,t,s){return L(e,t),F(s,"get"),function(e,t){if(t.get)return t.get.call(e);return t.value}(e,s)}function I(e,t,s,n){return L(e,t),F(s,"set"),function(e,t,s){if(t.set)t.set.call(e,s);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=s}}(e,s,n),n}function F(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function W(e,t,s){return L(e,t),s}function L(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}p(E,"enable_simulator",!1);var R=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),dd.warn(dd.__("Be careful using all this functions, because emulate response can expose your application to errors, or loses of money.")),console.debug("Created by danidoble","https://github.com/danidoble","https://danidoble.com")}var t,s,n;return t=e,n=[{key:"status",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!1!==W(e,e,U).call(e,t)){var s=[];switch(B(e,e,G)){case"Boardroid":s=["2",(5+B(e,e,Q)).toString(16).toUpperCase()];break;case"Jofemar":s=["6"];break;case"Locker":s=["0","8"]}W(e,e,q).call(e,s)}}},{key:"cellOpen",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,z).call(e)||W(e,e,q).call(e,["0","7","4"])}},{key:"cellInactive",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,z).call(e)||W(e,e,q).call(e,["0","7","5"])}},{key:"cellConfig",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,z).call(e)||W(e,e,q).call(e,["0","6"])}},{key:"keyPressed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!1!==W(e,e,U).call(e,t)&&!W(e,e,Y).call(e)){var s=["30","31","32","33","34","35","36","37","38","39","2A","23","41","42","43","44"];W(e,e,q).call(e,["2",dd.decToHex(128+B(e,e,Q)),"54",s[dd.getRandomInt(0,15)]])}}},{key:"doorOpen",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!1!==W(e,e,U).call(e,t)&&!W(e,e,J).call(e)){var s=[];switch(B(e,e,G)){case"Boardroid":s=["2","D8","dc"];break;case"Jofemar":s=["2",dd.decToHex(128+B(e,e,Q)),"50","4F"]}W(e,e,q).call(e,s)}}},{key:"doorClose",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!1!==W(e,e,U).call(e,t)&&!W(e,e,J).call(e)){var s=[];switch(B(e,e,G)){case"Boardroid":s=["2","D8","db"];break;case"Jofemar":s=["2",dd.decToHex(128+B(e,e,Q)),"50","43"]}W(e,e,q).call(e,s)}}},{key:"channelDisconnected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["2",dd.decToHex(128+B(e,e,Q)),"43","43","43","FD"])}},{key:"channelConnected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["2",dd.decToHex(128+B(e,e,Q)),"43","43","43","FC"])}},{key:"channelEmpty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["2",dd.decToHex(128+B(e,e,Q)),"43","43","43","FF"])}},{key:"currentAssignTemperature",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["2",dd.decToHex(128+B(e,e,Q)),"43","54","16"])}},{key:"currentTemperature",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!1!==W(e,e,U).call(e,t)&&!W(e,e,J).call(e)){var s=[];switch(B(e,e,G)){case"Boardroid":s=["2","D9","44","30"];break;case"Jofemar":s=["2",dd.decToHex(128+B(e,e,Q)),"43","74","2B","30","39","2E","31","7F","43"]}W(e,e,q).call(e,s)}}},{key:"machineReady",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","30"])}},{key:"machineBusy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","31"])}},{key:"invalidTray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","32"])}},{key:"invalidChannel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","33"])}},{key:"statusEmptyChannel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","34"])}},{key:"elevatorJam",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","35"])}},{key:"elevatorMalfunction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","36"])}},{key:"phototransistorsFailure",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","37"])}},{key:"allChannelsEmpty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","38"])}},{key:"productDetectorFault",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","39"])}},{key:"displayMachineDisconnected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","41"])}},{key:"productUnderElevator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","42"])}},{key:"elevatorSettingAlarm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","43"])}},{key:"buttonPanelFault",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","44"])}},{key:"errorWritingEEPROM",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","45"])}},{key:"errorControlTemperature",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","46"])}},{key:"thermometerDisconnected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","47"])}},{key:"thermometerMisconfigured",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","48"])}},{key:"thermometerFault",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","49"])}},{key:"errorExtractorConsumption",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","4A"])}},{key:"channelSearchError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","4B"])}},{key:"productExitMouthSearchError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","4C"])}},{key:"elevatorInteriorLocked",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","4D"])}},{key:"productDetectorVerifierError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","4E"])}},{key:"waitingForProductRecall",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","4F"])}},{key:"productExpiredByTemperature",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","50"])}},{key:"faultyAutomaticDoor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,Y).call(e)||W(e,e,q).call(e,["6","51"])}},{key:"rejectLever",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","A0","1"])}},{key:"resetCoinPurse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","A0","2"])}},{key:"coinInsertedBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!1!==W(e,e,U).call(e,t)&&!W(e,e,H).call(e)){var s=["40","41","42","43","44","45"];W(e,e,q).call(e,["2","A0",s[dd.getRandomInt(0,5)]])}}},{key:"coinInsertedTube",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!1!==W(e,e,U).call(e,t)&&!W(e,e,H).call(e)){var s=["50","51","52","53","54","55"];W(e,e,q).call(e,["2","A0",s[dd.getRandomInt(0,5)]])}}},{key:"banknoteInsertedStacker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!1!==W(e,e,U).call(e,t)&&!W(e,e,H).call(e)){var s=["80","81","82","83","84"];W(e,e,q).call(e,["2","B0",s[dd.getRandomInt(0,5)]])}}},{key:"banknoteInsertedPreStacker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!1!==W(e,e,U).call(e,t)&&!W(e,e,H).call(e)){var s=["90","91","92","93","94"];W(e,e,q).call(e,["2","B0",s[dd.getRandomInt(0,5)]])}}},{key:"banknoteEjected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!1!==W(e,e,U).call(e,t)&&!W(e,e,H).call(e)){var s=["a0","a1","a2","a3","a4"];W(e,e,q).call(e,["2","B0",s[dd.getRandomInt(0,5)]])}}},{key:"banknoteInsertedRecycler",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!1!==W(e,e,U).call(e,t)&&!W(e,e,H).call(e)){var s=["b0","b1","b2","b3","b4"];W(e,e,q).call(e,["2","B0",s[dd.getRandomInt(0,5)]])}}},{key:"banknoteTaken",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","B0","2a"])}},{key:"coinPurseEnabled",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","D0","1"])}},{key:"coinPurseDisabled",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","D0","0"])}},{key:"billPurseDisabled",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!1!==W(e,e,U).call(e,t)&&!W(e,e,H).call(e)){var s=["0","1"];W(e,e,q).call(e,["2","D1","0",s[dd.getRandomInt(0,1)]])}}},{key:"billPurseEnabled",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!1!==W(e,e,U).call(e,t)&&!W(e,e,H).call(e)){var s=["0","1"];W(e,e,q).call(e,["2","D1","1",s[dd.getRandomInt(0,1)]])}}},{key:"readTubes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!1!==W(e,e,U).call(e,t)&&!W(e,e,H).call(e)){var s=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f"];W(e,e,q).call(e,["2","D2",s[dd.getRandomInt(0,30)],s[dd.getRandomInt(0,30)],s[dd.getRandomInt(0,30)],s[dd.getRandomInt(0,30)],s[dd.getRandomInt(0,30)],s[dd.getRandomInt(0,30)]])}}},{key:"readBillPurse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!1!==W(e,e,U).call(e,t)&&!W(e,e,H).call(e)){var s=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c"];if(t._ict){var n="0",i="0",a="0",l="0",o="0";switch(t._ict_bill){case 0:n=s[dd.getRandomInt(0,31)];break;case 1:i=s[dd.getRandomInt(0,31)];break;case 2:a=s[dd.getRandomInt(0,31)];break;case 3:l=s[dd.getRandomInt(0,31)];break;case 4:o=s[dd.getRandomInt(0,31)]}W(e,e,q).call(e,["2","D3",n,i,a,l,o,"0"])}else W(e,e,q).call(e,["2","D3",s[dd.getRandomInt(0,30)],s[dd.getRandomInt(0,30)],s[dd.getRandomInt(0,30)],s[dd.getRandomInt(0,2)],s[dd.getRandomInt(0,1)],s[dd.getRandomInt(0,1)]])}}},{key:"banknoteAccepted",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","D4","1"])}},{key:"banknoteRejected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","D4","0"])}},{key:"banknotesDispensed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!1!==W(e,e,U).call(e,t)&&!W(e,e,H).call(e)){var s=["1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c"];if(t._ict){var n="0",i="0",a="0",l="0",o="0";switch(t._ict_bill){case 0:n=s[dd.getRandomInt(0,30)];break;case 1:i=s[dd.getRandomInt(0,30)];break;case 2:a=s[dd.getRandomInt(0,30)];break;case 3:l=s[dd.getRandomInt(0,30)];break;case 4:o=s[dd.getRandomInt(0,30)]}W(e,e,q).call(e,["2","D5",n,i,a,l,o,"0"])}else W(e,e,q).call(e,["2","D5",s[dd.getRandomInt(0,30)],s[dd.getRandomInt(0,30)],s[dd.getRandomInt(0,30)],s[dd.getRandomInt(0,2)],s[dd.getRandomInt(0,1)],s[dd.getRandomInt(0,1)]])}}},{key:"coinsDispensed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","D6"])}},{key:"productDispensed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","D7","0"])}},{key:"productNotDispensed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","D7","1"])}},{key:"relayOn",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","DA","1"])}},{key:"relayOff",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","DA","0"])}},{key:"nayaxEnabled",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","DD","1"])}},{key:"nayaxDisabled",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","DD","0"])}},{key:"nayaxPreCreditAuthorized",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","DD","3"])}},{key:"nayaxCancelRequest",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","DD","4"])}},{key:"nayaxSellApproved",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","DD","5"])}},{key:"nayaxSellDenied",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","DD","6"])}},{key:"nayaxEndSession",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","DD","7"])}},{key:"nayaxCancelled",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","DD","8"])}},{key:"nayaxDispensed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","DD","A","0"])}},{key:"nayaxNotDispensed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===W(e,e,U).call(e,t)||W(e,e,H).call(e)||W(e,e,q).call(e,["2","DD","A","1"])}}],(s=null)&&P(t.prototype,s),n&&P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(){var e=!0===Danidoble.enable_simulator&&!0===R.enable_simulator;return e||W(R,R,N).call(R,dd.__("The emulation is disabled")),e}function j(e){return void 0===JSON.parse(e.toString()).__class?(W(R,R,N).call(R,dd.__("This instance is incorrect to do an emulation")),!1):(I(R,R,G,JSON.parse(e.toString()).__class),I(R,R,Q,JSON.parse(e.toString()).__number_device),!0)}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t?dd.error(e):dd.error(e,t)}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!!W(R,R,O).call(R)&&(null!==e&&"object"===M(e)?(R.instance=e,W(R,R,j).call(R,e)?(dd.warn(dd.__("Be careful using all this functions, because emulate response can expose your application to errors, or loses of money.")),!0):(R.instance=null,!1)):null!==R.instance&&"object"===M(R.instance)?!!W(R,R,j).call(R,R.instance)||(R.instance=null,!1):(W(R,R,N).call(R,dd.__("This instance is incorrect to do an emulation")),!1))}function q(e){R.instance.extEmulate({code:e})}function z(){return"Locker"!==B(R,R,G)&&(dd.warn(dd.__("This function only works with locker instance")),!0)}function H(){return"Boardroid"!==B(R,R,G)&&(dd.warn(dd.__("This function only works with boardroid instance")),!0)}function Y(){return"Jofemar"!==B(R,R,G)&&(dd.warn(dd.__("This function only works with jofemar instance")),!0)}function J(){return"Locker"===B(R,R,G)&&(dd.warn(dd.__("This function not works with locker instance")),!0)}A(R,"enable_simulator",!1),A(R,"instance",null);var G={writable:!0,value:"Boardroid"},Q={writable:!0,value:1};function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function Z(e,t,s,n,i,a,l){try{var o=e[a](l),r=o.value}catch(e){return void s(e)}o.done?t(r):Promise.resolve(r).then(n,i)}function $(e){return function(){var t=this,s=arguments;return new Promise((function(n,i){var a=e.apply(t,s);function l(e){Z(a,n,i,l,o,"next",e)}function o(e){Z(a,n,i,l,o,"throw",e)}l(void 0)}))}}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ee(e,t){ne(e,t),t.add(e)}function te(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function se(e,t,s){ne(e,t),t.set(e,s)}function ne(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ie(e,t,s){return function(e,t,s){if(t.set)t.set.call(e,s);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=s}}(e,oe(e,t,"set"),s),s}function ae(e,t,s){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return s}function le(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,oe(e,t,"get"))}function oe(e,t,s){if(!t.has(e))throw new TypeError("attempted to "+s+" private field on non-instance");return t.get(e)}var re=new WeakMap,ce=new WeakMap,pe=new WeakMap,he=new WeakMap,de=new WeakMap,ue=new WeakMap,xe=new WeakMap,_e=new WeakMap,ve=new WeakMap,fe=new WeakMap,ge=new WeakMap,be=new WeakMap,me=new WeakMap,we=new WeakMap,ke=new WeakMap,ye=new WeakMap,Ce=new WeakMap,Se=new WeakMap,Ee=new WeakMap,Te=new WeakMap,De=new WeakMap,Me=new WeakMap,Pe=new WeakMap,Ae=new WeakMap,Be=new WeakMap,Ie=new WeakMap,Fe=new WeakMap,We=new WeakMap,Le=new WeakMap,Re=new WeakMap,Oe=new WeakMap,je=new WeakMap,Ne=new WeakMap,Ue=new WeakMap,qe=new WeakSet,ze=new WeakSet,He=new WeakSet,Ye=new WeakSet,Je=new WeakSet,Ge=new WeakSet,Qe=new WeakSet,Ve=new WeakSet,Ze=new WeakSet,$e=new WeakSet,Xe=new WeakSet,Ke=new WeakSet,et=new WeakSet,tt=new WeakSet,st=new WeakSet,nt=new WeakSet,it=new WeakSet,at=new WeakSet,lt=new WeakSet,ot=new WeakSet,rt=new WeakSet,ct=new WeakSet,pt=new WeakSet,ht=new WeakSet,dt=new WeakSet,ut=new WeakSet,xt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;X(this,e),ee(this,ut),ee(this,dt),ee(this,ht),ee(this,pt),ee(this,ct),ee(this,rt),ee(this,ot),ee(this,lt),ee(this,at),ee(this,it),ee(this,nt),ee(this,st),ee(this,tt),ee(this,et),ee(this,Ke),ee(this,Xe),ee(this,$e),ee(this,Ze),ee(this,Ve),ee(this,Qe),ee(this,Ge),ee(this,Je),ee(this,Ye),ee(this,He),ee(this,ze),ee(this,qe),se(this,re,{writable:!0,value:!1}),se(this,ce,{writable:!0,value:void 0}),se(this,pe,{writable:!0,value:void 0}),se(this,he,{writable:!0,value:void 0}),se(this,de,{writable:!0,value:void 0}),se(this,ue,{writable:!0,value:void 0}),se(this,xe,{writable:!0,value:!0}),se(this,_e,{writable:!0,value:new Uint8Array(0)}),se(this,ve,{writable:!0,value:14}),se(this,fe,{writable:!0,value:dd.setBoardroidConnectionConstant(1)}),se(this,ge,{writable:!0,value:1}),se(this,be,{writable:!0,value:0}),se(this,me,{writable:!0,value:[]}),se(this,we,{writable:!0,value:void 0}),se(this,ke,{writable:!0,value:500}),se(this,ye,{writable:!0,value:void 0}),se(this,Ce,{writable:!0,value:10}),se(this,Se,{writable:!0,value:0}),se(this,Ee,{writable:!0,value:0}),se(this,Te,{writable:!0,value:void 0}),se(this,De,{writable:!0,value:void 0}),se(this,Me,{writable:!0,value:{tubes:{G50:0,C50:0,P1:0,P2:0,P5:0,P10:0},box:{G50:0,C50:0,P1:0,P2:0,P5:0,P10:0},G50:0,C50:0,P1:0,P2:0,P5:0,P10:0,total:0}}),se(this,Pe,{writable:!0,value:{stacker:{P20:0,P50:0,P100:0,P200:0,P500:0,P1000:0},recycler:{P20:0,P50:0,P100:0,P200:0,P500:0,P1000:0},recyclerOut:{P20:0,P50:0,P100:0,P200:0,P500:0,P1000:0},P20:0,P50:0,P100:0,P200:0,P500:0,P1000:0,total:0}}),se(this,Ae,{writable:!0,value:"_id_vl_not_support"}),se(this,Be,{writable:!0,value:void 0}),se(this,Ie,{writable:!0,value:null}),se(this,Fe,{writable:!0,value:null}),se(this,We,{writable:!0,value:void 0}),se(this,Le,{writable:!0,value:void 0}),se(this,Re,{writable:!0,value:void 0}),se(this,Oe,{writable:!0,value:{_interval_reconnection:void 0,_waiting_for_sense:void 0,_price:void 0,_change:0,_timer_until_response:void 0,_status_dispense:void 0,_amount_inserted:0,_amount_retired:0,_aux_iteration:10,_time_response_general:3e3,_time_response_connect_start:500,_time_response_engines:15e3,_time_to_reconnect:7e3,_arr_log_temperature:[],_last_error:{message:null,handler:null,code:null,no_code:666},_arr_coins:{tubes:{G50:0,C50:0,P1:0,P2:0,P5:0,P10:0},box:{G50:0,C50:0,P1:0,P2:0,P5:0,P10:0},G50:0,C50:0,P1:0,P2:0,P5:0,P10:0,total:0},_arr_bills:{stacker:{P20:0,P50:0,P100:0,P200:0,P500:0,P1000:0},recycler:{P20:0,P50:0,P100:0,P200:0,P500:0,P1000:0},recyclerOut:{P20:0,P50:0,P100:0,P200:0,P500:0,P1000:0},P20:0,P50:0,P100:0,P200:0,P500:0,P1000:0,total:0},_time_to_reload:2e3}}),te(this,"_serial_filters",[]),te(this,"_serial_config_port",{baudRate:115200,dataBits:8,stopBits:1,parity:"none",bufferSize:32768,flowControl:"none"}),te(this,"_time_response_general",3e3),te(this,"_time_response_engines",15e3),te(this,"_nayax_max_pre_credit",0),te(this,"_price",void 0),te(this,"_change",0),te(this,"_arr_log_temperature",[]),te(this,"_last_error",{message:null,handler:null,code:null,no_code:666}),te(this,"_time_to_reconnect",7e3),te(this,"_show_without_device",!0),te(this,"_change_returned_verified",0),te(this,"_no_dispense_all_money",!1),te(this,"_last_change_coin_purse",0),te(this,"_ict",!0),te(this,"_ict_bill",1),te(this,"_reload_when_finished",!0),te(this,"_log_time_door_open",[{name:"open",listen_since:(new Date).getTime(),listen_until:(new Date).getTime()}]),te(this,"_log_time_door_close",[{name:"close",listen_since:(new Date).getTime(),listen_until:(new Date).getTime()}]),te(this,"_counter_sense_door",1),te(this,"_limit_sense_door",30),se(this,je,{writable:!0,value:0}),se(this,Ne,{writable:!0,value:2e3}),se(this,Ue,{writable:!0,value:500}),te(this,"__sense_selection",null),te(this,"__sense_id_movement",null);var n="text-shadow: -1px -1px hsl(0,100%,50%), 1px 1px hsl(5.4, 100%, 50%), 3px 2px hsl(10.8, 100%, 50%), 5px 3px hsl(16.2, 100%, 50%), 7px 4px hsl(21.6, 100%, 50%), 9px 5px hsl(27, 100%, 50%), 11px 6px hsl(32.4, 100%, 50%), 13px 7px hsl(37.8, 100%, 50%), 14px 8px hsl(43.2, 100%, 50%), 16px 9px hsl(48.6, 100%, 50%), 18px 10px hsl(54, 100%, 50%), 20px 11px hsl(59.4, 100%, 50%), 22px 12px hsl(64.8, 100%, 50%), 23px 13px hsl(70.2, 100%, 50%), 25px 14px hsl(75.6, 100%, 50%), 27px 15px hsl(81, 100%, 50%), 28px 16px hsl(86.4, 100%, 50%), 30px 17px hsl(91.8, 100%, 50%), 32px 18px hsl(97.2, 100%, 50%), 33px 19px hsl(102.6, 100%, 50%), 35px 20px hsl(108, 100%, 50%), 36px 21px hsl(113.4, 100%, 50%), 38px 22px hsl(118.8, 100%, 50%), 39px 23px hsl(124.2, 100%, 50%), 41px 24px hsl(129.6, 100%, 50%), 42px 25px hsl(135, 100%, 50%), 43px 26px hsl(140.4, 100%, 50%), 45px 27px hsl(145.8, 100%, 50%), 46px 28px hsl(151.2, 100%, 50%), 47px 29px hsl(156.6, 100%, 50%), 48px 30px hsl(162, 100%, 50%), 49px 31px hsl(167.4, 100%, 50%), 50px 32px hsl(172.8, 100%, 50%), 51px 33px hsl(178.2, 100%, 50%), 52px 34px hsl(183.6, 100%, 50%), 53px 35px hsl(189, 100%, 50%), 54px 36px hsl(194.4, 100%, 50%), 55px 37px hsl(199.8, 100%, 50%), 55px 38px hsl(205.2, 100%, 50%), 56px 39px hsl(210.6, 100%, 50%), 57px 40px hsl(216, 100%, 50%), 57px 41px hsl(221.4, 100%, 50%), 58px 42px hsl(226.8, 100%, 50%), 58px 43px hsl(232.2, 100%, 50%), 58px 44px hsl(237.6, 100%, 50%), 59px 45px hsl(243, 100%, 50%), 59px 46px hsl(248.4, 100%, 50%), 59px 47px hsl(253.8, 100%, 50%), 59px 48px hsl(259.2, 100%, 50%), 59px 49px hsl(264.6, 100%, 50%), 60px 50px hsl(270, 100%, 50%), 59px 51px hsl(275.4, 100%, 50%), 59px 52px hsl(280.8, 100%, 50%), 59px 53px hsl(286.2, 100%, 50%), 59px 54px hsl(291.6, 100%, 50%), 59px 55px hsl(297, 100%, 50%), 58px 56px hsl(302.4, 100%, 50%), 58px 57px hsl(307.8, 100%, 50%), 58px 58px hsl(313.2, 100%, 50%), 57px 59px hsl(318.6, 100%, 50%), 57px 60px hsl(324, 100%, 50%), 56px 61px hsl(329.4, 100%, 50%), 55px 62px hsl(334.8, 100%, 50%), 55px 63px hsl(340.2, 100%, 50%), 54px 64px hsl(345.6, 100%, 50%), 53px 65px hsl(351, 100%, 50%), 52px 66px hsl(356.4, 100%, 50%), 51px 67px hsl(361.8, 100%, 50%), 50px 68px hsl(367.2, 100%, 50%), 49px 69px hsl(372.6, 100%, 50%), 48px 70px hsl(378, 100%, 50%), 47px 71px hsl(383.4, 100%, 50%), 46px 72px hsl(388.8, 100%, 50%), 45px 73px hsl(394.2, 100%, 50%), 43px 74px hsl(399.6, 100%, 50%), 42px 75px hsl(405, 100%, 50%), 41px 76px hsl(410.4, 100%, 50%), 39px 77px hsl(415.8, 100%, 50%), 38px 78px hsl(421.2, 100%, 50%), 36px 79px hsl(426.6, 100%, 50%), 35px 80px hsl(432, 100%, 50%), 33px 81px hsl(437.4, 100%, 50%), 32px 82px hsl(442.8, 100%, 50%), 30px 83px hsl(448.2, 100%, 50%), 28px 84px hsl(453.6, 100%, 50%), 27px 85px hsl(459, 100%, 50%), 25px 86px hsl(464.4, 100%, 50%), 23px 87px hsl(469.8, 100%, 50%), 22px 88px hsl(475.2, 100%, 50%), 20px 89px hsl(480.6, 100%, 50%), 18px 90px hsl(486, 100%, 50%), 16px 91px hsl(491.4, 100%, 50%), 14px 92px hsl(496.8, 100%, 50%), 13px 93px hsl(502.2, 100%, 50%), 11px 94px hsl(507.6, 100%, 50%), 9px 95px hsl(513, 100%, 50%), 7px 96px hsl(518.4, 100%, 50%), 5px 97px hsl(523.8, 100%, 50%), 3px 98px hsl(529.2, 100%, 50%), 1px 99px hsl(534.6, 100%, 50%), 7px 100px hsl(540, 100%, 50%), -1px 101px hsl(545.4, 100%, 50%), -3px 102px hsl(550.8, 100%, 50%), -5px 103px hsl(556.2, 100%, 50%), -7px 104px hsl(561.6, 100%, 50%), -9px 105px hsl(567, 100%, 50%), -11px 106px hsl(572.4, 100%, 50%), -13px 107px hsl(577.8, 100%, 50%), -14px 108px hsl(583.2, 100%, 50%), -16px 109px hsl(588.6, 100%, 50%), -18px 110px hsl(594, 100%, 50%), -20px 111px hsl(599.4, 100%, 50%), -22px 112px hsl(604.8, 100%, 50%), -23px 113px hsl(610.2, 100%, 50%), -25px 114px hsl(615.6, 100%, 50%), -27px 115px hsl(621, 100%, 50%), -28px 116px hsl(626.4, 100%, 50%), -30px 117px hsl(631.8, 100%, 50%), -32px 118px hsl(637.2, 100%, 50%), -33px 119px hsl(642.6, 100%, 50%), -35px 120px hsl(648, 100%, 50%), -36px 121px hsl(653.4, 100%, 50%), -38px 122px hsl(658.8, 100%, 50%), -39px 123px hsl(664.2, 100%, 50%), -41px 124px hsl(669.6, 100%, 50%), -42px 125px hsl(675, 100%, 50%), -43px 126px hsl(680.4, 100%, 50%), -45px 127px hsl(685.8, 100%, 50%), -46px 128px hsl(691.2, 100%, 50%), -47px 129px hsl(696.6, 100%, 50%), -48px 130px hsl(702, 100%, 50%), -49px 131px hsl(707.4, 100%, 50%), -50px 132px hsl(712.8, 100%, 50%), -51px 133px hsl(718.2, 100%, 50%), -52px 134px hsl(723.6, 100%, 50%), -53px 135px hsl(729, 100%, 50%), -54px 136px hsl(734.4, 100%, 50%), -55px 137px hsl(739.8, 100%, 50%), -55px 138px hsl(745.2, 100%, 50%), -56px 139px hsl(750.6, 100%, 50%), -57px 140px hsl(756, 100%, 50%), -57px 141px hsl(761.4, 100%, 50%), -58px 142px hsl(766.8, 100%, 50%), -58px 143px hsl(772.2, 100%, 50%), -58px 144px hsl(777.6, 100%, 50%), -59px 145px hsl(783, 100%, 50%), -59px 146px hsl(788.4, 100%, 50%), -59px 147px hsl(793.8, 100%, 50%), -59px 148px hsl(799.2, 100%, 50%), -59px 149px hsl(804.6, 100%, 50%), -60px 150px hsl(810, 100%, 50%), -59px 151px hsl(815.4, 100%, 50%), -59px 152px hsl(820.8, 100%, 50%), -59px 153px hsl(826.2, 100%, 50%), -59px 154px hsl(831.6, 100%, 50%), -59px 155px hsl(837, 100%, 50%), -58px 156px hsl(842.4, 100%, 50%), -58px 157px hsl(847.8, 100%, 50%), -58px 158px hsl(853.2, 100%, 50%), -57px 159px hsl(858.6, 100%, 50%), -57px 160px hsl(864, 100%, 50%), -56px 161px hsl(869.4, 100%, 50%), -55px 162px hsl(874.8, 100%, 50%), -55px 163px hsl(880.2, 100%, 50%), -54px 164px hsl(885.6, 100%, 50%), -53px 165px hsl(891, 100%, 50%), -52px 166px hsl(896.4, 100%, 50%), -51px 167px hsl(901.8, 100%, 50%), -50px 168px hsl(907.2, 100%, 50%), -49px 169px hsl(912.6, 100%, 50%), -48px 170px hsl(918, 100%, 50%), -47px 171px hsl(923.4, 100%, 50%), -46px 172px hsl(928.8, 100%, 50%), -45px 173px hsl(934.2, 100%, 50%), -43px 174px hsl(939.6, 100%, 50%), -42px 175px hsl(945, 100%, 50%), -41px 176px hsl(950.4, 100%, 50%), -39px 177px hsl(955.8, 100%, 50%), -38px 178px hsl(961.2, 100%, 50%), -36px 179px hsl(966.6, 100%, 50%), -35px 180px hsl(972, 100%, 50%), -33px 181px hsl(977.4, 100%, 50%), -32px 182px hsl(982.8, 100%, 50%), -30px 183px hsl(988.2, 100%, 50%), -28px 184px hsl(993.6, 100%, 50%), -27px 185px hsl(999, 100%, 50%), -25px 186px hsl(1004.4, 100%, 50%), -23px 187px hsl(1009.8, 100%, 50%), -22px 188px hsl(1015.2, 100%, 50%), -20px 189px hsl(1020.6, 100%, 50%), -18px 190px hsl(1026, 100%, 50%), -16px 191px hsl(1031.4, 100%, 50%), -14px 192px hsl(1036.8, 100%, 50%), -13px 193px hsl(1042.2, 100%, 50%), -11px 194px hsl(1047.6, 100%, 50%), -9px 195px hsl(1053, 100%, 50%), -7px 196px hsl(1058.4, 100%, 50%), -5px 197px hsl(1063.8, 100%, 50%), -3px 198px hsl(1069.2, 100%, 50%), -1px 199px hsl(1074.6, 100%, 50%), -1px 200px hsl(1080, 100%, 50%), 1px 201px hsl(1085.4, 100%, 50%), 3px 202px hsl(1090.8, 100%, 50%), 5px 203px hsl(1096.2, 100%, 50%), 7px 204px hsl(1101.6, 100%, 50%), 9px 205px hsl(1107, 100%, 50%), 11px 206px hsl(1112.4, 100%, 50%), 13px 207px hsl(1117.8, 100%, 50%), 14px 208px hsl(1123.2, 100%, 50%), 16px 209px hsl(1128.6, 100%, 50%), 18px 210px hsl(1134, 100%, 50%), 20px 211px hsl(1139.4, 100%, 50%), 22px 212px hsl(1144.8, 100%, 50%), 23px 213px hsl(1150.2, 100%, 50%), 25px 214px hsl(1155.6, 100%, 50%), 27px 215px hsl(1161, 100%, 50%), 28px 216px hsl(1166.4, 100%, 50%), 30px 217px hsl(1171.8, 100%, 50%), 32px 218px hsl(1177.2, 100%, 50%), 33px 219px hsl(1182.6, 100%, 50%), 35px 220px hsl(1188, 100%, 50%), 36px 221px hsl(1193.4, 100%, 50%), 38px 222px hsl(1198.8, 100%, 50%), 39px 223px hsl(1204.2, 100%, 50%), 41px 224px hsl(1209.6, 100%, 50%), 42px 225px hsl(1215, 100%, 50%), 43px 226px hsl(1220.4, 100%, 50%), 45px 227px hsl(1225.8, 100%, 50%), 46px 228px hsl(1231.2, 100%, 50%), 47px 229px hsl(1236.6, 100%, 50%), 48px 230px hsl(1242, 100%, 50%), 49px 231px hsl(1247.4, 100%, 50%), 50px 232px hsl(1252.8, 100%, 50%), 51px 233px hsl(1258.2, 100%, 50%), 52px 234px hsl(1263.6, 100%, 50%), 53px 235px hsl(1269, 100%, 50%), 54px 236px hsl(1274.4, 100%, 50%), 55px 237px hsl(1279.8, 100%, 50%), 55px 238px hsl(1285.2, 100%, 50%), 56px 239px hsl(1290.6, 100%, 50%), 57px 240px hsl(1296, 100%, 50%), 57px 241px hsl(1301.4, 100%, 50%), 58px 242px hsl(1306.8, 100%, 50%), 58px 243px hsl(1312.2, 100%, 50%), 58px 244px hsl(1317.6, 100%, 50%), 59px 245px hsl(1323, 100%, 50%), 59px 246px hsl(1328.4, 100%, 50%), 59px 247px hsl(1333.8, 100%, 50%), 59px 248px hsl(1339.2, 100%, 50%), 59px 249px hsl(1344.6, 100%, 50%), 60px 250px hsl(1350, 100%, 50%), 59px 251px hsl(1355.4, 100%, 50%), 59px 252px hsl(1360.8, 100%, 50%), 59px 253px hsl(1366.2, 100%, 50%), 59px 254px hsl(1371.6, 100%, 50%), 59px 255px hsl(1377, 100%, 50%), 58px 256px hsl(1382.4, 100%, 50%), 58px 257px hsl(1387.8, 100%, 50%), 58px 258px hsl(1393.2, 100%, 50%), 57px 259px hsl(1398.6, 100%, 50%), 57px 260px hsl(1404, 100%, 50%), 56px 261px hsl(1409.4, 100%, 50%), 55px 262px hsl(1414.8, 100%, 50%), 55px 263px hsl(1420.2, 100%, 50%), 54px 264px hsl(1425.6, 100%, 50%), 53px 265px hsl(1431, 100%, 50%), 52px 266px hsl(1436.4, 100%, 50%), 51px 267px hsl(1441.8, 100%, 50%), 50px 268px hsl(1447.2, 100%, 50%), 49px 269px hsl(1452.6, 100%, 50%), 48px 270px hsl(1458, 100%, 50%), 47px 271px hsl(1463.4, 100%, 50%), 46px 272px hsl(1468.8, 100%, 50%), 45px 273px hsl(1474.2, 100%, 50%), 43px 274px hsl(1479.6, 100%, 50%), 42px 275px hsl(1485, 100%, 50%), 41px 276px hsl(1490.4, 100%, 50%), 39px 277px hsl(1495.8, 100%, 50%), 38px 278px hsl(1501.2, 100%, 50%), 36px 279px hsl(1506.6, 100%, 50%), 35px 280px hsl(1512, 100%, 50%), 33px 281px hsl(1517.4, 100%, 50%), 32px 282px hsl(1522.8, 100%, 50%), 30px 283px hsl(1528.2, 100%, 50%), 28px 284px hsl(1533.6, 100%, 50%), 27px 285px hsl(1539, 100%, 50%), 25px 286px hsl(1544.4, 100%, 50%), 23px 287px hsl(1549.8, 100%, 50%), 22px 288px hsl(1555.2, 100%, 50%), 20px 289px hsl(1560.6, 100%, 50%), 18px 290px hsl(1566, 100%, 50%), 16px 291px hsl(1571.4, 100%, 50%), 14px 292px hsl(1576.8, 100%, 50%), 13px 293px hsl(1582.2, 100%, 50%), 11px 294px hsl(1587.6, 100%, 50%), 9px 295px hsl(1593, 100%, 50%), 7px 296px hsl(1598.4, 100%, 50%), 5px 297px hsl(1603.8, 100%, 50%), 3px 298px hsl(1609.2, 100%, 50%), 1px 299px hsl(1614.6, 100%, 50%), 2px 300px hsl(1620, 100%, 50%), -1px 301px hsl(1625.4, 100%, 50%), -3px 302px hsl(1630.8, 100%, 50%), -5px 303px hsl(1636.2, 100%, 50%), -7px 304px hsl(1641.6, 100%, 50%), -9px 305px hsl(1647, 100%, 50%), -11px 306px hsl(1652.4, 100%, 50%), -13px 307px hsl(1657.8, 100%, 50%), -14px 308px hsl(1663.2, 100%, 50%), -16px 309px hsl(1668.6, 100%, 50%), -18px 310px hsl(1674, 100%, 50%), -20px 311px hsl(1679.4, 100%, 50%), -22px 312px hsl(1684.8, 100%, 50%), -23px 313px hsl(1690.2, 100%, 50%), -25px 314px hsl(1695.6, 100%, 50%), -27px 315px hsl(1701, 100%, 50%), -28px 316px hsl(1706.4, 100%, 50%), -30px 317px hsl(1711.8, 100%, 50%), -32px 318px hsl(1717.2, 100%, 50%), -33px 319px hsl(1722.6, 100%, 50%), -35px 320px hsl(1728, 100%, 50%), -36px 321px hsl(1733.4, 100%, 50%), -38px 322px hsl(1738.8, 100%, 50%), -39px 323px hsl(1744.2, 100%, 50%), -41px 324px hsl(1749.6, 100%, 50%), -42px 325px hsl(1755, 100%, 50%), -43px 326px hsl(1760.4, 100%, 50%), -45px 327px hsl(1765.8, 100%, 50%), -46px 328px hsl(1771.2, 100%, 50%), -47px 329px hsl(1776.6, 100%, 50%), -48px 330px hsl(1782, 100%, 50%), -49px 331px hsl(1787.4, 100%, 50%), -50px 332px hsl(1792.8, 100%, 50%), -51px 333px hsl(1798.2, 100%, 50%), -52px 334px hsl(1803.6, 100%, 50%), -53px 335px hsl(1809, 100%, 50%), -54px 336px hsl(1814.4, 100%, 50%), -55px 337px hsl(1819.8, 100%, 50%), -55px 338px hsl(1825.2, 100%, 50%), -56px 339px hsl(1830.6, 100%, 50%), -57px 340px hsl(1836, 100%, 50%), -57px 341px hsl(1841.4, 100%, 50%), -58px 342px hsl(1846.8, 100%, 50%), -58px 343px hsl(1852.2, 100%, 50%), -58px 344px hsl(1857.6, 100%, 50%), -59px 345px hsl(1863, 100%, 50%), -59px 346px hsl(1868.4, 100%, 50%), -59px 347px hsl(1873.8, 100%, 50%), -59px 348px hsl(1879.2, 100%, 50%), -59px 349px hsl(1884.6, 100%, 50%), -60px 350px hsl(1890, 100%, 50%), -59px 351px hsl(1895.4, 100%, 50%), -59px 352px hsl(1900.8, 100%, 50%), -59px 353px hsl(1906.2, 100%, 50%), -59px 354px hsl(1911.6, 100%, 50%), -59px 355px hsl(1917, 100%, 50%), -58px 356px hsl(1922.4, 100%, 50%), -58px 357px hsl(1927.8, 100%, 50%), -58px 358px hsl(1933.2, 100%, 50%), -57px 359px hsl(1938.6, 100%, 50%), -57px 360px hsl(1944, 100%, 50%), -56px 361px hsl(1949.4, 100%, 50%), -55px 362px hsl(1954.8, 100%, 50%), -55px 363px hsl(1960.2, 100%, 50%), -54px 364px hsl(1965.6, 100%, 50%), -53px 365px hsl(1971, 100%, 50%), -52px 366px hsl(1976.4, 100%, 50%), -51px 367px hsl(1981.8, 100%, 50%), -50px 368px hsl(1987.2, 100%, 50%), -49px 369px hsl(1992.6, 100%, 50%), -48px 370px hsl(1998, 100%, 50%), -47px 371px hsl(2003.4, 100%, 50%), -46px 372px hsl(2008.8, 100%, 50%), -45px 373px hsl(2014.2, 100%, 50%), -43px 374px hsl(2019.6, 100%, 50%), -42px 375px hsl(2025, 100%, 50%), -41px 376px hsl(2030.4, 100%, 50%), -39px 377px hsl(2035.8, 100%, 50%), -38px 378px hsl(2041.2, 100%, 50%), -36px 379px hsl(2046.6, 100%, 50%), -35px 380px hsl(2052, 100%, 50%), -33px 381px hsl(2057.4, 100%, 50%), -32px 382px hsl(2062.8, 100%, 50%), -30px 383px hsl(2068.2, 100%, 50%), -28px 384px hsl(2073.6, 100%, 50%), -27px 385px hsl(2079, 100%, 50%), -25px 386px hsl(2084.4, 100%, 50%), -23px 387px hsl(2089.8, 100%, 50%), -22px 388px hsl(2095.2, 100%, 50%), -20px 389px hsl(2100.6, 100%, 50%), -18px 390px hsl(2106, 100%, 50%), -16px 391px hsl(2111.4, 100%, 50%), -14px 392px hsl(2116.8, 100%, 50%), -13px 393px hsl(2122.2, 100%, 50%), -11px 394px hsl(2127.6, 100%, 50%), -9px 395px hsl(2133, 100%, 50%), -7px 396px hsl(2138.4, 100%, 50%), -5px 397px hsl(2143.8, 100%, 50%), -3px 398px hsl(2149.2, 100%, 50%), -1px 399px hsl(2154.6, 100%, 50%); font-size: 40px;";console.debug("%cBoardroid webserial. %s",n,"Created by danidoble"),dd.addButtonToPermissions("Boardroid",le(this,ge)),null!==t&&(this._serial_filters=t),null!==s&&(this._serial_config_port={baudRate:s.baudRate?s.baudRate:115200,dataBits:s.dataBits?s.dataBits:8,stopBits:s.stopBits?s.stopBits:1,parity:s.parity?s.parity:"none",bufferSize:s.bufferSize?s.bufferSize:32768,flowControl:s.flowControl?s.flowControl:"none"}),ae(this,qe,_t).call(this)}var s,n,i,a,l;return s=e,n=[{key:"softReload",value:function(){ie(this,ye,le(this,Oe)._interval_reconnection),ie(this,Te,le(this,Oe)._waiting_for_sense),this._price=le(this,Oe)._price,this._change=le(this,Oe)._change,ie(this,we,le(this,Oe)._timer_until_response),ie(this,We,le(this,Oe)._status_dispense),ie(this,Se,le(this,Oe)._amount_inserted),ie(this,Ee,le(this,Oe)._amount_retired),ie(this,Ce,le(this,Oe)._aux_iteration),this._time_response_general=le(this,Oe)._time_response_general,this._time_to_reconnect=le(this,Oe)._time_to_reconnect,this._arr_log_temperature=le(this,Oe)._arr_log_temperature,this._last_error=le(this,Oe)._last_error,ie(this,Me,le(this,Oe)._arr_coins),ie(this,Pe,le(this,Oe)._arr_bills),this._time_response_engines=le(this,Oe)._time_response_engines,ie(this,Ne,le(this,Oe)._time_to_reload),this._log_time_door_open=[{name:"open",listen_since:(new Date).getTime(),listen_until:(new Date).getTime()}],this._log_time_door_close=[{name:"close",listen_since:(new Date).getTime(),listen_until:(new Date).getTime()}],this._counter_sense_door=1,ie(this,Be,void 0),this._limit_sense_door=30,this.extSoftReload()}},{key:"disconnect",value:(l=$(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le(this,re)&&extAppMessage({description:"Disconnected",message:"disconnect",no_code:303}),e.next=3,ae(this,He,gt).call(this);case 3:ie(this,re,!1),window["owl_br"+le(this,ge)+"_connected"]=le(this,re);case 5:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"initSerial",value:(a=$(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dd.isWebserialSupported(le(this,Ae))){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ae(this,ze,vt).call(this);case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"setBytesConnection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;ie(this,ge,e),ie(this,fe,dd.setBoardroidConnectionConstant(e)),dd.addButtonToPermissions("Boardroid",le(this,ge))}},{key:"connect",value:function(){for(var e=[],t=0;t<le(this,fe).length;t++)e.push(le(this,fe)[t].toLowerCase().replaceAll("0x",""));ae(this,at,It).call(this,e,"connect")}},{key:"reconnect",value:function(){this.extReconnectionMessage()}},{key:"configCoinPurse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"00",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FF",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FF",n=["F1","C1",e,t,s,"00","00","00","00","00","F2","00"];ae(this,at,It).call(this,n,"01"===e.toString()?"Coin purse enabled":"Coin purse disabled")}},{key:"readCoinTubes",value:function(){ae(this,at,It).call(this,["F1","C2","00","00","00","00","00","00","00","00","F2","00"],"read tubes")}},{key:"dispenseCoins",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"00",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"00",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"00",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"00",a=["F1","C6",e,t,s,n,i,"00","00","00","F2","00"];ae(this,at,It).call(this,a,"coins dispensed")}},{key:"enableCoinPurse",value:function(){this.configCoinPurse("01")}},{key:"configBillPurse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"00",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00",s=["F1","C0",e,t,"00","00","00","00","00","00","F2","00"];ae(this,at,It).call(this,s,"01"===e.toString()?"Bill purse enabled":"Bill purse disabled")}},{key:"dispenseBanknotes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"00",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"00",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"00",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"00",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"00",l=["F1","C5",e,t,s,n,i,a,"00","00","F2","00"];ae(this,at,It).call(this,l,"bank note dispensed")}},{key:"dispenseBanknotesICT",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"01",t=dd.decToHex(this._ict_bill.toString()),s=["F1","C5",t,e,"00","00","00","00","00","00","F2","00"];ae(this,at,It).call(this,s,"bank note dispensed")}},{key:"dispense",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"00",n=["F1","C7",e,t,s,"00","00","00","00","00","F2","00"];ae(this,at,It).call(this,n,"dispense")}},{key:"coolingRelay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"00",t=["F1","CC",e,"00","00","00","00","00","00","00","F2","00"];ae(this,at,It).call(this,t,"01"===e.toString()?"Relay on":"Relay off")}},{key:"disableNayax",value:function(){ae(this,at,It).call(this,["F1","CD","00","00","00","00","00","00","00","00","F2","00"],"Nayax disabled")}},{key:"disableCoinPurse",value:function(){this.configCoinPurse()}},{key:"enableBillPurse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"00";this.configBillPurse("01",e)}},{key:"disableBillPurse",value:function(){this.configBillPurse()}},{key:"disablePaymentPurses",value:function(){var e=this;setTimeout((function(){e.disableCoinPurse(),setTimeout((function(){e.disableBillPurse()}),1e3)}),200)}},{key:"executeTestEnginesMatrix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;90!==le(t,Ce)?setTimeout((function(){var s=dd.decToHex((le(t,Ce)-1).toString()),n="00";!0===e&&(n=dd.decToHex(le(t,Ce).toString())),setTimeout((function(){t.dispense(s,n,"04")}),500),le(t,Ce)<90&&t.executeTestEnginesMatrix(e),ie(t,Ce,+le(t,Ce)+1)}),1e3):ie(t,Ce,10)}},{key:"countMoney",value:function(e,t){switch(e.toUpperCase()){case"G50":"tube"===t?le(this,Me).tubes.G50+=1:le(this,Me).box.G50+=1,le(this,Me).G50+=1,ie(this,Se,le(this,Se)+.5);break;case"C50":"tube"===t?le(this,Me).tubes.C50+=1:le(this,Me).box.C50+=1,le(this,Me).C50+=1,ie(this,Se,le(this,Se)+.5);break;case"P1":"tube"===t?le(this,Me).tubes.P1+=1:le(this,Me).box.P1+=1,le(this,Me).P1+=1,ie(this,Se,le(this,Se)+1);break;case"P2":"tube"===t?le(this,Me).tubes.P2+=1:le(this,Me).box.P2+=1,le(this,Me).P2+=1,ie(this,Se,le(this,Se)+2);break;case"P5":"tube"===t?le(this,Me).tubes.P5+=1:le(this,Me).box.P5+=1,le(this,Me).P5+=1,ie(this,Se,le(this,Se)+5);break;case"P10":"tube"===t?le(this,Me).tubes.P10+=1:le(this,Me).box.P10+=1,le(this,Me).P10+=1,ie(this,Se,le(this,Se)+10);break;case"P20":"stacker"===t?le(this,Pe).stacker.P20+=1:le(this,Pe).recycler.P20+=1,le(this,Pe).P20+=1,ie(this,Se,le(this,Se)+20);break;case"P50":"stacker"===t?le(this,Pe).stacker.P50+=1:le(this,Pe).recycler.P50+=1,le(this,Pe).P50+=1,ie(this,Se,le(this,Se)+50);break;case"P100":"stacker"===t?le(this,Pe).stacker.P100+=1:le(this,Pe).recycler.P100+=1,le(this,Pe).P100+=1,ie(this,Se,le(this,Se)+100);break;case"P200":"stacker"===t?le(this,Pe).stacker.P200+=1:le(this,Pe).recycler.P200+=1,le(this,Pe).P200+=1,ie(this,Se,le(this,Se)+200);break;case"P500":"stacker"===t?le(this,Pe).stacker.P500+=1:le(this,Pe).recycler.P500+=1,le(this,Pe).P500+=1,ie(this,Se,le(this,Se)+500);break;case"P1000":"stacker"===t?le(this,Pe).stacker.P1000+=1:le(this,Pe).recycler.P1000+=1,le(this,Pe).P1000+=1,ie(this,Se,le(this,Se)+1e3);break;case"R50":dd.log(dd.__("Dispensing bill")),"recyclerOut"===t&&(le(this,Pe).recyclerOut.P50+=1),le(this,Pe).P50-=1,ie(this,Ee,le(this,Ee)-50)}le(this,Pe).total=le(this,Se),this.extMoneySession()}},{key:"customCode",value:function(e){ae(this,at,It).call(this,e,"custom code")}},{key:"acceptBanknote",value:function(){ae(this,at,It).call(this,["F1","C4","01","00","00","00","00","00","00","00","F2","00"],"Bank note accepted")}},{key:"rejectBanknote",value:function(){ae(this,at,It).call(this,["F1","C4","00","00","00","00","00","00","00","00","F2","00"],"Bank note rejected")}},{key:"readTemperature",value:function(){ae(this,at,It).call(this,["F1","CB","00","00","00","00","00","00","00","00","F2","00"],"temperature status")}},{key:"saveMemoryBillPurse",value:function(e,t,s,n,i,a,l){var o=["F1","C8",e,"00",t,s,n,i,a,l,"F2","00"];ae(this,at,It).call(this,o,"Save memory bill purse")}},{key:"dispenseSensor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00";this.dispense(e,t,"00")}},{key:"dispenseTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1E";"00"===dd.hexMaker(s.toString(),2)&&(s="1E"),this.dispense(e,t,s)}},{key:"enableCoolingRelay",value:function(){this.coolingRelay("01")}},{key:"disableCoolingRelay",value:function(){this.coolingRelay()}},{key:"nayaxCashless",value:function(e,t,s,n,i,a){if("00"!==dd.hexMaker(e.toString()))if(0===this._nayax_max_pre_credit)this.nayaxPreCreditFail("define");else{var l=parseInt(256*dd.decToHex(i)+dd.decToHex(a));if(!isNaN(l)&&this._nayax_max_pre_credit>=l){var o=["F1","CD",e,t,s,n,i,a,"00","00","F2","00"];ae(this,at,It).call(this,o,"Nayax enabled")}else this.nayaxPreCreditFail("amount")}else this.disableNayax()}},{key:"calcNayaxPrice",value:function(e){e=parseInt(e);var t=Math.floor(e/256),s=dd.hexMaker(dd.decToHex((0).toString())).toUpperCase();return t>=1&&(s=dd.hexMaker(dd.decToHex(t.toString())).toUpperCase()),{high:s,low:dd.hexMaker(dd.decToHex((e-256*t).toString())).toUpperCase()}}},{key:"returnChange",value:function(){var e=this;this._last_change_coin_purse=0;var t=.5*le(this,Me).tubes.G50+le(this,Me).tubes.P1+2*le(this,Me).tubes.P2+5*le(this,Me).tubes.P5+10*le(this,Me).tubes.P10,s=20*le(this,Pe).recycler.P20+50*le(this,Pe).recycler.P50;dd.log([this._change,"billetes disponibles",le(this,Pe).recycler,"Monedas disponibles",le(this,Me).tubes]);var n={coins:{c50:0,p1:0,p2:0,p5:0,p10:0},bills:{b20:0,b50:0,b100:0,b200:0,b500:0,b1000:0,total_to_dispense:0}},i=this._change,a=!1;if(this._change>0)for(var l=!1,o=0;o<20&&0!==i;o++)if(i-1e3>=0&&le(this,Pe).recycler.P1000>n.bills.b1000?(n.bills.b1000++,n.bills.total_to_dispense+=1e3,i-=1e3):i-500>=0&&le(this,Pe).recycler.P500>n.bills.b500?(n.bills.b500++,n.bills.total_to_dispense+=500,i-=500):i-200>=0&&le(this,Pe).recycler.P200>n.bills.b200?(n.bills.b200++,n.bills.total_to_dispense+=200,i-=200):i-100>=0&&le(this,Pe).recycler.P100>n.bills.b100?(n.bills.b100++,n.bills.total_to_dispense+=100,i-=100):i-50>=0&&le(this,Pe).recycler.P50>n.bills.b50?(n.bills.b50++,n.bills.total_to_dispense+=50,i-=50):i-20>=0&&le(this,Pe).recycler.P20>n.bills.b20?(n.bills.b20++,n.bills.total_to_dispense+=20,i-=20):i-10>=0&&le(this,Me).tubes.P10>n.coins.p10?(n.coins.p10++,i-=10):i-5>=0&&le(this,Me).tubes.P5>n.coins.p5?(n.coins.p5++,i-=5):i-2>=0&&le(this,Me).tubes.P2>n.coins.p2?(n.coins.p2++,i-=2):i-1>=0&&le(this,Me).tubes.P1>n.coins.p1?(n.coins.p1++,i-=1):i-.5>=0&&le(this,Me).tubes.G50>n.coins.c50&&(n.coins.c50++,i-=.5),19===o&&i>0){if(o=0,l){a=!0;break}l=!0}var r=JSON.stringify({coins:{c50:n.coins.c50,p1:n.coins.p1,p2:n.coins.p2,p5:n.coins.p5,p10:n.coins.p10},bills:{p20:n.bills.b20,p50:n.bills.b50,p100:n.bills.b100,p200:n.bills.b200,p500:n.bills.b500,p1000:n.bills.b1000},change:this._change});this._change_returned_verified=this._change,this._change>t+s?(this._change_returned_verified=t+s,dd.warn("El cambio es mas de lo que se puede entregar")):a&&(dd.warn("El cambio es mas de lo que se puede entregar, mostrando alerta en pantalla"),this._no_dispense_all_money=!0,this.extRetireBill(!0));var c=JSON.parse(r);if(c.change>0){var p=!1;Object.keys(c.bills).forEach((function(e){!p&&c.bills[e]>0&&(p=!0)}));var h=!1;if(Object.keys(c.coins).forEach((function(e){!h&&c.coins[e]>0&&(h=!0)})),dd.log([c,{bills:p},{coins:h}]),p)if(!0===this._ict){var d=0;0===this._ict_bill?d=n.bills.b20:1===this._ict_bill?d=n.bills.b50:2===this._ict_bill?d=n.bills.b100:3===this._ict_bill?d=n.bills.b200:4===this._ict_bill?d=n.bills.b500:5===this._ict_bill&&(d=n.bills.b1000),this.dispenseBanknotesICT(dd.decToHex(d.toString()))}else{var u={b20:c.bills.p20.toString(16),b50:c.bills.p50.toString(16),b100:c.bills.p100.toString(16),b200:c.bills.p200.toString(16),b500:c.bills.p500.toString(16),b1000:c.bills.p1000.toString(16)};this.dispenseBanknotes(u.b20,u.b50,u.b100,u.b200,u.b500,u.b1000)}if(h){le(this,Me).tubes.G50>=c.coins.c50?this._last_change_coin_purse+=.5*c.coins.c50:this._last_change_coin_purse+=.5*le(this,Me).tubes.G50,le(this,Me).tubes.P1>=c.coins.p1?this._last_change_coin_purse+=1*c.coins.p1:this._last_change_coin_purse+=le(this,Me).tubes.P1,le(this,Me).tubes.P2>=c.coins.p2?this._last_change_coin_purse+=2*c.coins.p2:this._last_change_coin_purse+=2*le(this,Me).tubes.P2,le(this,Me).tubes.P5>=c.coins.p5?this._last_change_coin_purse+=5*c.coins.p5:this._last_change_coin_purse+=5*le(this,Me).tubes.P5,le(this,Me).tubes.P10>=c.coins.p10?this._last_change_coin_purse+=10*c.coins.p10:this._last_change_coin_purse+=10*le(this,Me).tubes.P10,dd.error(this._last_change_coin_purse);var x={c50:c.coins.c50.toString(16),p1:c.coins.p1.toString(16),p2:c.coins.p2.toString(16),p5:c.coins.p5.toString(16),p10:c.coins.p10.toString(16)};setTimeout((function(){e.dispenseCoins(x.c50,x.p1,x.p2,x.p5,x.p10)}),1500)}}}},{key:"returnChangeCoinPurse",value:function(){var e={coins:{c50:0,p1:0,p2:0,p5:0,p10:0}},t=this._change;if(this._change>0)for(var s=!1,n=0;n<20&&0!==t;n++)if(t-10>=0&&le(this,Me).tubes.P10>e.coins.p10?(e.coins.p10++,t-=10):t-5>=0&&le(this,Me).tubes.P5>e.coins.p5?(e.coins.p5++,t-=5):t-2>=0&&le(this,Me).tubes.P2>e.coins.p2?(e.coins.p2++,t-=2):t-1>=0&&le(this,Me).tubes.P1>e.coins.p1?(e.coins.p1++,t-=1):t-.5>=0&&le(this,Me).tubes.G50>e.coins.c50&&(e.coins.c50++,t-=.5),19===n&&t>0){if(n=0,s)break;s=!0}var i=JSON.stringify({coins:{c50:e.coins.c50,p1:e.coins.p1,p2:e.coins.p2,p5:e.coins.p5,p10:e.coins.p10},change:this._change}),a=JSON.parse(i);if(a.change>0){var l=!1;if(Object.keys(a.coins).forEach((function(e){!l&&a.coins[e]>0&&(l=!0)})),dd.log(a),l){var o={c50:a.coins.c50.toString(16),p1:a.coins.p1.toString(16),p2:a.coins.p2.toString(16),p5:a.coins.p5.toString(16),p10:a.coins.p10.toString(16)};this.dispenseCoins(o.c50,o.p1,o.p2,o.p5,o.p10)}}}},{key:"returnChangeBillPurse",value:function(){var e={bills:{b20:0,b50:0,b100:0,b200:0,b500:0,b1000:0}},t=this._change;if(this._change>0)for(var s=!1,n=0;n<20&&0!==t;n++)if(t-1e3>=0&&le(this,Pe).recycler.P1000>e.bills.b1000?(e.bills.b1000++,e.bills.total_to_dispense+=1e3,t-=1e3):t-500>=0&&le(this,Pe).recycler.P500>e.bills.b500?(e.bills.b500++,e.bills.total_to_dispense+=500,t-=500):t-200>=0&&le(this,Pe).recycler.P200>e.bills.b200?(e.bills.b200++,e.bills.total_to_dispense+=200,t-=200):t-100>=0&&le(this,Pe).recycler.P100>e.bills.b100?(e.bills.b100++,e.bills.total_to_dispense+=100,t-=100):t-50>=0&&le(this,Pe).recycler.P50>e.bills.b50?(e.bills.b50++,e.bills.total_to_dispense+=50,t-=50):t-20>=0&&le(this,Pe).recycler.P20>e.bills.b20&&(e.bills.b20++,e.bills.total_to_dispense+=20,t-=20),19===n&&t>0){if(n=0,s)break;s=!0}var i=JSON.stringify({bills:{p20:e.bills.b20,p50:e.bills.b50,p100:e.bills.b100,p200:e.bills.b200,p500:e.bills.b500,p1000:e.bills.b1000},change:this._change}),a=JSON.parse(i);if(a.change>0){var l=!1,o=0;if(Object.keys(a.bills).forEach((function(e){!l&&a.bills[e]>0&&("p20"===e?o+=20*a.bills[e]:"p50"===e?o+=50*a.bills[e]:"p100"===e?o+=100*a.bills[e]:"p200"===e?o+=200*a.bills[e]:"p500"===e?o+=500*a.bills[e]:"p1000"===e&&(o+=1e3*a.bills[e]),l=!0)})),!0===this._ict){var r=0;0===this._ict_bill?r=o/20:1===this._ict_bill?r=o/50:2===this._ict_bill?r=o/100:3===this._ict_bill?r=o/200:4===this._ict_bill?r=o/500:5===this._ict_bill&&(r=o/1e3),this.dispenseBanknotesICT(dd.decToHex(r.toString())),dd._control||this._ict_bill}else this.dispenseBanknotes(a.bills.p20.toString(16),a.bills.p50.toString(16),a.bills.p100.toString(16),a.bills.p200.toString(16),a.bills.p500.toString(16),a.bills.p1000.toString(16))}}},{key:"calcChange",value:function(){if(void 0!==this._price)return{error:dd.__("The price it is not defined, can not make a calc with a undefined value")};if(le(this,Se)===this._price)this._change=0;else{if(!(le(this,Se)>this._price))return{error:dd.__("The amount to be collected has not been covered")};this._change=le(this,Se)-this._price}return{change:this._change,error:0}}},{key:"clearErrors",value:function(){this._last_error=le(this,Oe)._last_error}},{key:"clearSenseProduct",value:function(){clearInterval(le(this,Te)),ie(this,Te,void 0),ie(this,We,void 0)}},{key:"reloadPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];void 0===this._reload_when_finished?dd.error(dd.__("You must declare a boolean value for '_reload_when_finished'")):this._reload_when_finished&&(!0===e?location.reload():this.softReload())}},{key:"percentageTubes",value:function(){var e={p10:(le(this,Me).tubes.P10/58*100).format(0,3,",","."),p5:(le(this,Me).tubes.P5/69*100).format(0,3,",","."),p2:(le(this,Me).tubes.P2/78*100).format(0,3,",","."),p1:(le(this,Me).tubes.P1/90*100).format(0,3,",","."),c50:(le(this,Me).tubes.G50/78*100).format(0,3,",",".")};this.extPercentageTubes(e)}},{key:"startSenseDoor",value:function(){var e=this;this._log_time_door_open=[{name:"open",listen_since:(new Date).getTime(),listen_until:(new Date).getTime()+3e4}],this._log_time_door_close=[{name:"close",listen_since:(new Date).getTime(),listen_until:(new Date).getTime()+3e4}],ie(this,Be,setInterval((function(){e.extBikeMessageElapsedTimeSenseDoor(),e._counter_sense_door++,e._counter_sense_door>e._limit_sense_door&&(clearInterval(le(e,Be)),ie(e,Be,void 0),e._counter_sense_door=0,e.extBikeCalc())}),1e3))}},{key:"nayaxPreCreditFail",value:function(e){"amount"===e?dd.warn(dd.__("The amount overflow pre-credit max for nayax")):dd.error(dd.__("Define a pre-credit max for nayax"))}},{key:"waitingForSense",value:function(e,t){var s=this;this.__sense_selection=e,this.__sense_id_movement=t,ie(this,Te,setInterval((function(){void 0===le(s,We)?(dd.log("dispensando... #timeout:",le(s,je)+"/20"),le(s,je)>=20?(ie(s,je,0),ie(s,We,!1)):ie(s,je,+le(s,je)+1),s.extWaitingForSense("undefined")):le(s,We)?(dd.log("dispensing: "+le(s,We)),s.clearSenseProduct(),s.extWaitingForSense("dispensed")):le(s,We)||(s.clearSenseProduct(),s.extWaitingForSense("not-dispensed"))}),le(this,Ue)))}},{key:"waitingForSenseTest",value:function(e,t){var s=this;this.__sense_selection=e,this.__sense_id_movement=t,ie(this,Te,setInterval((function(){void 0===le(s,We)?(dd.log("dispensando... #timeout:",le(s,je)+"/20"),le(s,je)>=20?(ie(s,je,0),ie(s,We,!1)):ie(s,je,+le(s,je)+1),s.extWaitingForSenseTest("undefined")):le(s,We)?(dd.log("dispensing: "+le(s,We)),s.clearSenseProduct(),s.extWaitingForSenseTest("dispensed")):le(s,We)||(s.clearSenseProduct(),s.extWaitingForSenseTest("not-dispensed"))}),le(this,Ue)))}},{key:"hasToReturnChange",value:function(e){var t=.5*dd.hexToDec(le(this,Me).tubes.G50)+1*dd.hexToDec(le(this,Me).tubes.P1)+2*dd.hexToDec(le(this,Me).tubes.P2)+5*dd.hexToDec(le(this,Me).tubes.P5)+10*dd.hexToDec(le(this,Me).tubes.P10),s=20*le(this,Pe).recycler.P20+50*le(this,Pe).recycler.P50,n={coins:{c50:0,p1:0,p2:0,p5:0,p10:0},bills:{b20:0,b50:0,b100:0,b200:0,b500:0,b1000:0,total_to_dispense:0}},i=e,a=!1;if(e>0)for(var l=!1,o=0;o<20&&0!==i;o++)if(i-1e3>=0&&le(this,Pe).recycler.P1000>n.bills.b1000?(n.bills.b1000++,n.bills.total_to_dispense+=1e3,i-=1e3):i-500>=0&&le(this,Pe).recycler.P500>n.bills.b500?(n.bills.b500++,n.bills.total_to_dispense+=500,i-=500):i-200>=0&&le(this,Pe).recycler.P200>n.bills.b200?(n.bills.b200++,n.bills.total_to_dispense+=200,i-=200):i-100>=0&&le(this,Pe).recycler.P100>n.bills.b100?(n.bills.b100++,n.bills.total_to_dispense+=100,i-=100):i-50>=0&&le(this,Pe).recycler.P50>n.bills.b50?(n.bills.b50++,n.bills.total_to_dispense+=50,i-=50):i-20>=0&&le(this,Pe).recycler.P20>n.bills.b20?(n.bills.b20++,n.bills.total_to_dispense+=20,i-=20):i-10>=0&&dd.hexToDec(le(this,Me).tubes.P10)>n.coins.p10?(n.coins.p10++,i-=10):i-5>=0&&dd.hexToDec(le(this,Me).tubes.P5)>n.coins.p5?(n.coins.p5++,i-=5):i-2>=0&&dd.hexToDec(le(this,Me).tubes.P2)>n.coins.p2?(n.coins.p2++,i-=2):i-1>=0&&dd.hexToDec(le(this,Me).tubes.P1)>n.coins.p1?(n.coins.p1++,i-=1):i-.5>=0&&dd.hexToDec(le(this,Me).tubes.G50)>n.coins.c50&&(n.coins.c50++,i-=.5),19===o&&i>0){if(o=0,l){a=!0;break}l=!0}return!(e>t+s||a)}},{key:"readBillPurse",value:function(){ae(this,at,It).call(this,["F1","C3","00","00","00","00","00","00","00","00","F2","B5"],"read bill")}},{key:"readTubes",value:function(){ae(this,at,It).call(this,["F1","C2","00","00","00","00","00","00","00","00","F2","00"],"read tubes")}},{key:"arrCoins",get:function(){return le(this,Me)}},{key:"arrBills",get:function(){return le(this,Pe)}},{key:"__isConnected",get:function(){return le(this,re)},set:function(e){ie(this,re,e),window["owl_br"+le(this,ge)+"_connected"]=le(this,re)}},{key:"__originalValues",get:function(){return le(this,Oe)}},{key:"__serialPort",get:function(){return le(this,ce)}},{key:"__amount_retired",get:function(){return le(this,Ee)}},{key:"__amount_inserted",get:function(){return le(this,Se)}},{key:"toString",value:function(){var e=this;return JSON.stringify({__class:"Boardroid",__number_device:le(e,ge),__connected:le(e,re),__connection:le(e,fe)})}},{key:"extSerialMessage",value:function(e){dd.log(e)}},{key:"extAppMessage",value:function(e){dd.log(e)}},{key:"extReconnectionMessage",value:function(){dd.log(dd.__("Trying reconnect"))}},{key:"extTimeoutMessage",value:function(e,t){dd.warn("Timeout",e,t)}},{key:"extPercentageTubes",value:function(e){dd.log(e)}},{key:"extMoneySession",value:function(){dd.log("Make your own function with this same name","Example: br1.extMoneySession = function(){console.log('Customize me')}")}},{key:"extConnectionLost",value:function(){dd.log("Make your own function with this same name","Example: br1.extConnectionLost = function(){console.log('Customize me')}")}},{key:"extSoftReload",value:function(){dd.log("Make your own function with this same name","Example: br1.extSoftReload = function(){console.log('Customize me')}")}},{key:"extSentData",value:function(e){dd.log(e)}},{key:"extUnexpectedDisconnection",value:function(e){dd.warn(dd.__("There was an unexpected disconnection. an attempt was made to disconnect the port but it was already disconnected"),e)}},{key:"extBikeMessageElapsedTimeSenseDoor",value:function(){document.querySelector("body").innerText=this._counter_sense_door+" Segundos han transcurrido"}},{key:"extBikeCalc",value:function(){this._log_time_door_open[0].listen_since;this._log_time_door_open.forEach((function(e){e.listen_since||(e.time,e.time)})),dd.log(this._log_time_door_open)}},{key:"extDividedCodeMessage",value:function(e,t){dd.log(e,t)}},{key:"extDefaultLoad",value:function(){this.disablePaymentPurses()}},{key:"extWithDevice",value:function(){dd.log(dd.__("Device connected"))}},{key:"extWithoutDevice",value:function(){dd.log(dd.__("Without device"))}},{key:"extLogDoorStatus",value:function(e){dd.warn(e)}},{key:"extRetireBill",value:function(){dd.log("Make your own function with this same name","Example: br1.extRetireBill = function(){console.log('Customize me')}")}},{key:"extWaitingForSense",value:function(e){var t=this;switch(e){case"dispensed":dd.log('Result of dispense: "dispensed"'),setTimeout((function(){t.softReload()}),le(this,Ne));break;case"not-dispensed":dd.log('not-Result of dispense: "dispensed"'),setTimeout((function(){t.softReload()}),le(this,Ne))}}},{key:"extWaitingForSenseTest",value:function(e){var t=this;switch(e){case"dispensed":dd.log('Result of test dispense: "dispensed"'),setTimeout((function(){t.softReload()}),le(this,Ne));break;case"not-dispensed":dd.log('not-Result of test dispense: "not dispensed"'),setTimeout((function(){t.softReload()}),le(this,Ne))}}},{key:"extEmulate",value:function(e){ae(this,ut,Nt).call(this,e)}}],n&&K(s.prototype,n),i&&K(s,i),Object.defineProperty(s,"prototype",{writable:!1}),e}();function _t(){Object.freeze(le(this,Oe))}function vt(){return ft.apply(this,arguments)}function ft(){return(ft=$(t().mark((function e(){var s,n,i,a,l,o=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=this._serial_filters,e.next=4,navigator.serial.getPorts({filters:s});case 4:if(!((n=e.sent).length>0)){e.next=46;break}if(e.prev=6,!(le(this,be)<n.length)){e.next=21;break}if(i=le(this,be),a=n[i].getInfo(),!(s.length>0)){e.next=18;break}if(a.usbProductId!==s[0].usbProductId||a.usbVendorId!==s[0].usbVendorId){e.next=15;break}ie(this,ce,n[i]),e.next=16;break;case 15:throw new Error("The port is already open.");case 16:e.next=19;break;case 18:ie(this,ce,n[i]);case 19:e.next=36;break;case 21:return ie(this,be,0),e.prev=22,e.t0=ie,e.t1=this,e.t2=ce,e.next=28,navigator.serial.requestPort({filters:s});case 28:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3),e.next=36;break;case 32:return e.prev=32,e.t4=e.catch(22),ae(this,Ze,Ct).call(this,e.t4),e.abrupt("return");case 36:if(le(this,ce)){e.next=38;break}throw new Error("Select another port please");case 38:e.next=44;break;case 40:return e.prev=40,e.t5=e.catch(6),ae(this,Ze,Ct).call(this,e.t5),e.abrupt("return");case 44:e.next=60;break;case 46:return e.prev=46,e.t6=ie,e.t7=this,e.t8=ce,e.next=52,navigator.serial.requestPort({filters:s});case 52:e.t9=e.sent,(0,e.t6)(e.t7,e.t8,e.t9),e.next=60;break;case 56:return e.prev=56,e.t10=e.catch(46),ae(this,Ze,Ct).call(this,e.t10),e.abrupt("return");case 60:e.next=65;break;case 62:e.prev=62,e.t11=e.catch(0),ae(this,Ze,Ct).call(this,e.t11);case 65:return e.prev=65,ae(this,$e,St).call(this,!0),e.next=69,le(this,ce).open(this._serial_config_port);case 69:return l=this,le(this,ce).ondisconnect=function(e){ae(l,ot,Wt).call(l,e)},le(this,ce).onconnect=function(e){ae(l,ot,Wt).call(l,e)},this.extSentData({message:"Boardroid  "+dd.__("Opening with"),hex:le(this,fe)}),ie(this,me,[]),ie(this,we,setTimeout($(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(o,Je,kt).call(o,le(o,fe),"connect_start");case 2:case"end":return e.stop()}}),e)}))),le(this,ke))),ae(this,Ke,Tt).call(this,le(this,fe)),e.next=78,ae(this,Ye,mt).call(this);case 78:e.next=83;break;case 80:e.prev=80,e.t12=e.catch(65),ae(this,Ze,Ct).call(this,e.t12);case 83:return e.abrupt("return",0);case 84:case"end":return e.stop()}}),e,this,[[0,62],[6,40],[22,32],[46,56],[65,80]])})))).apply(this,arguments)}function gt(){return bt.apply(this,arguments)}function bt(){return(bt=$(t().mark((function e(){var s,n=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!le(this,pe)){e.next=8;break}return(s=le(this,pe).cancel())&&s.then((function(e){e&&dd.log(e)})).catch((function(e){ae(n,Ze,Ct).call(n,e)})),e.next=6,le(this,he);case 6:ie(this,pe,null),ie(this,he,null);case 8:if(!le(this,ue)){e.next=17;break}return e.next=11,le(this,ue).getWriter().close();case 11:return e.next=13,le(this,ue).getWriter().close();case 13:return e.next=15,le(this,de);case 15:ie(this,ue,null),ie(this,de,null);case 17:ie(this,ce,null),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),ae(this,Ze,Ct).call(this,e.t0);case 23:case"end":return e.stop()}}),e,this,[[0,20]])})))).apply(this,arguments)}function mt(){return wt.apply(this,arguments)}function wt(){return(wt=$(t().mark((function e(){var s,n,i,a,l,o,r,c,p,h,d;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!le(this,ce).readable||!le(this,xe)){e.next=27;break}ie(this,pe,le(this,ce).readable.getReader()),e.prev=2;case 3:return e.next=6,le(this,pe).read();case 6:if(s=e.sent,n=s.value,!s.done){e.next=13;break}return le(this,pe).releaseLock(),ie(this,xe,!1),e.abrupt("break",17);case 13:if(ae(this,Xe,Et).call(this,n),le(this,_e).length===le(this,ve)){for(a in i=[],le(this,_e))i.push(le(this,_e)[a].toString(16));le(this,_e)&&ae(this,tt,Mt).call(this,i),ie(this,_e,new Uint8Array(0))}else if(le(this,_e).length<le(this,ve))setTimeout((function(){}),1e3);else if(le(this,_e).length>le(this,ve)){for(l=[],o=0;o<le(this,ve);o++)l[o]=le(this,_e)[o];if(l.length===le(this,ve)){for(c in r=[],l)r.push(l[c].toString(16));l&&ae(this,tt,Mt).call(this,r)}if(l=void 0,l=[],9999,le(this,_e).length===2*le(this,ve))for(p=14;p<2*le(this,ve);p++)l[p-le(this,ve)]=le(this,_e)[p];if(l.length===le(this,ve)){for(d in h=[],l)h.push(l[d].toString(16));l&&ae(this,tt,Mt).call(this,h)}l=void 0,l=[],ie(this,_e,new Uint8Array(0)),le(this,_e).length===2*le(this,ve)&&ie(this,_e,new Uint8Array(0))}e.next=3;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),ae(this,Ze,Ct).call(this,e.t0);case 22:return e.prev=22,le(this,pe).releaseLock(),e.finish(22);case 25:e.next=0;break;case 27:return ie(this,xe,!0),e.next=30,le(this,ce).close();case 30:case"end":return e.stop()}}),e,this,[[2,19,22,25]])})))).apply(this,arguments)}function kt(e,t){return yt.apply(this,arguments)}function yt(){return(yt=$(t().mark((function e(s,n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._last_error.message=dd.__("Operation response timed out."),this._last_error.handler=n,this._last_error.code=s,clearTimeout(le(this,we)),ie(this,we,void 0),"connect"!==this._last_error.handler){e.next=10;break}ae(this,dt,jt).call(this),this.reconnect(),e.next=17;break;case 10:if("connect_start"!==this._last_error.handler){e.next=17;break}return ae(this,He,gt).call(this),ie(this,re,!1),window["owl_br"+le(this,ge)+"_connected"]=le(this,re),ie(this,be,le(this,be)+1),e.next=17,ae(this,ze,vt).call(this);case 17:this.extTimeoutMessage(s,n);case 18:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Ct(e){var s=this;if(null===document.getElementById(_id_vl_btn_open_modal_permissions))return dd.error(e),void dd.error("_id_vl_btn_open_modal_permissions doesn't exist in DOM");e.toString().includes("Failed to execute 'requestPort' on 'Serial': Must be handling a user gesture to show a permission request")?(document.getElementById(window["_id_br"+le(this,ge)+"_btn_connect_serial"]).classList.remove("hidden"),document.getElementById(_id_vl_btn_open_modal_permissions).click()):e.toString().includes("The port is already open.")?(dd.debug(e),dd.warn(dd.__("Failed to open serial port. Trying again.")),ae(this,ht,Ot).call(this),ae(this,He,gt).call(this),setTimeout($(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(s,be,le(s,be)+1),e.next=3,ae(s,ze,vt).call(s);case 3:case"end":return e.stop()}}),e)}))),500),document.getElementById(_id_vl_btn_open_modal_permissions).click()):e.toString().includes("Cannot read properties of undefined (reading 'writable')")?(dd.warn(dd.__("The port isn't open.")),ae(this,dt,jt).call(this),ae(this,He,gt).call(this),setTimeout($(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(s,ze,vt).call(s);case 2:case"end":return e.stop()}}),e)}))),500)):e.toString().includes("Cannot read properties of null (reading 'writable')")?(dd.warn(dd.__("The port isn't open.")),ae(this,dt,jt).call(this),ae(this,He,gt).call(this),setTimeout($(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(s,ze,vt).call(s);case 2:case"end":return e.stop()}}),e)}))),500)):e.toString().includes("Failed to execute 'open' on 'SerialPort': A call to open() is already in progress.")?dd.warn(dd.__("Failed to execute 'open' on 'SerialPort': A call to open() is already in progress.")):e.toString().includes("The port is closed.")?document.getElementById(_id_vl_btn_open_modal_permissions).click():e.toString().includes("Select another port please")||e.toString().includes("No port selected by the user")||e.toString().includes("Cannot read property 'writable' of null")?(document.getElementById(window["_id_br"+le(this,ge)+"_btn_connect_serial"]).classList.remove("hidden"),document.getElementById(_id_vl_btn_open_modal_permissions).click()):e.toString().includes("Cannot read property 'writable' of undefined")?(document.getElementById(window["_id_br"+le(this,ge)+"_btn_connect_serial"]).classList.remove("hidden"),ae(this,dt,jt).call(this),setTimeout($(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.initSerial();case 2:case"end":return e.stop()}}),e)}))),100)):e.toString().includes("The device has been lost")?(document.getElementById(window["_id_br"+le(this,ge)+"_btn_connect_serial"]).classList.remove("hidden"),ae(this,dt,jt).call(this)):e.toString().includes("Failed to open serial port")?(dd.warn(dd.__("Failed to open serial port. Trying again.")),ae(this,dt,jt).call(this),ae(this,He,gt).call(this),setTimeout($(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(s,ze,vt).call(s);case 2:case"end":return e.stop()}}),e)}))),500)):e.toString().includes("navigator.serial is undefined")?document.getElementById(le(this,Ae)).classList.remove("hidden"):e.toString().includes("This readable stream reader has been released and cannot be used to cancel its previous owner stream")?(document.getElementById(window["_id_br"+le(this,ge)+"_btn_connect_serial"]).classList.remove("hidden"),ae(this,dt,jt).call(this),dd.checkDevicesConnected(),this.extUnexpectedDisconnection(e)):dd.error(e)}function St(e){ie(this,re,e),window["owl_br"+le(this,ge)+"_connected"]=le(this,re),dd.setDeviceStatus("boardroid",le(this,ge),e);var t=dd.__("Connect");if(e?t=dd.__("Disconnect"):(this.__connected_devices-=1,dd.checkDevicesConnected()),null!==le(this,Fe))for(var s=0;s<le(this,Fe).length;s++)le(this,Fe)[s].textContent=t}function Et(e){if(void 0!==e){var t=new Uint8Array(le(this,_e).length+e.byteLength);t.set(le(this,_e),0),t.set(new Uint8Array(e),le(this,_e).length),ie(this,_e,t)}}function Tt(e){try{var t=new Uint8Array(e),s=le(this,ce).writable.getWriter();s.write(t).then((function(e){e&&dd.log(e)})),s.releaseLock()}catch(e){ae(this,Ze,Ct).call(this,e)}}function Dt(e){var t=0;return e.forEach((function(e,s){0!==s&&11!==s&&(t+=parseInt(e,16))})),t.toString(16)}function Mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;0===e?ae(this,it,Bt).call(this,t):e&&14===e.length?(ie(this,re,!0),window["owl_br"+le(this,ge)+"_connected"]=le(this,re),void 0!==le(this,ye)&&(clearInterval(le(this,ye)),ie(this,ye,void 0)),clearTimeout(le(this,we)),ie(this,we,void 0),ae(this,nt,At).call(this,e)):ae(this,st,Pt).call(this,e,t)}function Pt(e,t){this.extDividedCodeMessage(e,t)}function At(e){var t={},s={};switch(e[1].toString().toUpperCase()){case(5+le(this,ge)).toString(16).toUpperCase():dd.checkDevicesConnected(),ae(this,pt,Rt).call(this),t.name=dd.__("Connection with the serial device completed."),t.description=dd.__("Your connection with the serial device was successfully completed."),t.request=dd.__("connect"),t.no_code=200;break;case"A0":switch(t.name=dd.__("Coin Inserted"),t.request=dd.__("insert coin"),s.tube="tube",s.box="profit box",s.where="",s.coin="0",e[2].toString()){case"1":t.name=dd.__("Coin Inserted"),t.description=dd.__("Reject lever"),t.no_code=210;break;case"2":t.name=dd.__("Reset coin purse"),t.description=dd.__("The configuration of coin purse was reset"),t.no_code=211;break;case"40":t.name=dd.__("Coin inserted in "+s.box),t.description=dd.__("50 pennies (the big one)"),s.coin="G50",t.no_code=212,s.where="box";break;case"41":t.name=dd.__("Coin inserted in "+s.box),t.description=dd.__("50 pennies (the little one)"),s.coin="C50",t.no_code=213,s.where="box";break;case"42":t.name=dd.__("Coin inserted in "+s.box),t.description=dd.__("1 peso"),s.coin="P1",t.no_code=214,s.where="box";break;case"43":t.name=dd.__("Coin inserted in "+s.box),t.description=dd.__("2 pesos"),s.coin="P2",t.no_code=215,s.where="box";break;case"44":t.name=dd.__("Coin inserted in "+s.box),t.description=dd.__("5 pesos"),s.coin="P5",t.no_code=216,s.where="box";break;case"45":t.name=dd.__("Coin inserted in "+s.box),t.description=dd.__("10 pesos"),s.coin="P10",t.no_code=217,s.where="box";break;case"46":t.name=dd.__("Coin inserted in "+s.box),t.description=dd.__("Undefined value:")+" ¿46?",t.no_code=218,s.where="box";break;case"47":t.name=dd.__("Coin inserted in "+s.box),t.description=dd.__("Undefined value:")+" ¿47?",t.no_code=219,s.where="box";break;case"50":t.name=dd.__("Coin inserted in "+s.tube),t.description=dd.__("50 pennies (the big one)"),s.coin="G50",t.no_code=220,s.where="tube";break;case"51":t.name=dd.__("Coin inserted in "+s.tube),t.description=dd.__("50 pennies (the little one)"),s.coin="C50",t.no_code=221,s.where="tube";break;case"52":t.name=dd.__("Coin inserted in "+s.tube),t.description=dd.__("1 peso"),s.coin="P1",t.no_code=222,s.where="tube";break;case"53":t.name=dd.__("Coin inserted in "+s.tube),t.description=dd.__("2 pesos"),s.coin="P2",t.no_code=223,s.where="tube";break;case"54":t.name=dd.__("Coin inserted in "+s.tube),t.description=dd.__("5 pesos"),s.coin="P5",t.no_code=224,s.where="tube";break;case"55":t.name=dd.__("Coin inserted in "+s.tube),t.description=dd.__("10 pesos"),s.coin="P10",t.no_code=225,s.where="tube";break;case"56":t.name=dd.__("Coin inserted in "+s.tube),t.description=dd.__("Undefined value:")+" ¿56?",t.no_code=226,s.where="tube";break;case"57":t.name=dd.__("Coin inserted in "+s.tube),t.description=dd.__("Undefined value:")+" ¿57?",t.no_code=227,s.where="tube";break;default:t.name=dd.__("Coin inserted"),t.description=dd.__("Undefined status. Without information of this coin"),t.no_code=228}this.countMoney(s.coin,s.where);break;case"B0":switch(t.request=dd.__("Bank note inserted"),s.aux_name="",s.bill="0",s.value,s.inserted=dd.__("Bank note in pre-stacker, waiting instruction of banknote"),s.rejected=dd.__("Bank note rejected"),s.accepted=dd.__("Bank note accepted"),s.bill_stacker=dd.__("Bank note inserted in stacker"),s.bill_recycler=dd.__("Bank note inserted in recycler"),s.where="",s.bills={b20:"20 pesos",b50:"50 pesos",b100:"100 pesos",b200:"200 pesos",b500:"500 pesos",b1000:"1000 pesos"},s.billRetire={r20:"20 pesos",r50:"50 pesos",r100:"100 pesos",r200:"200 pesos",r500:"500 pesos",r1000:"1000 pesos"},e[2].toString()){case"80":s.value=s.bills.b20,s.aux_name=s.bill_stacker,s.bill="P20",t.no_code=229,s.where="stacker";break;case"81":s.value=s.bills.b50,s.aux_name=s.bill_stacker,s.bill="P50",t.no_code=230,s.where="stacker";break;case"82":s.value=s.bills.b100,s.aux_name=s.bill_stacker,s.bill="P100",t.no_code=231,s.where="stacker";break;case"83":s.value=s.bills.b200,s.aux_name=s.bill_stacker,s.bill="P200",t.no_code=232,s.where="stacker";break;case"84":s.value=s.bills.b500,s.aux_name=s.bill_stacker,s.bill="P500",t.no_code=233,s.where="stacker";break;case"85":s.value=dd.__("Unknown value:")+" ¿85?",s.aux_name=s.bill_stacker,t.no_code=234,s.where="stacker";break;case"86":s.value=dd.__("Unknown value:")+" ¿86?",s.aux_name=s.bill_stacker,t.no_code=235,s.where="stacker";break;case"87":s.value=dd.__("Unknown value:")+" ¿87?",s.aux_name=s.bill_stacker,t.no_code=236,s.where="stacker";break;case"90":s.value=s.bills.b20,s.aux_name=s.inserted,t.no_code=237;break;case"91":s.value=s.bills.b50,s.aux_name=s.inserted,t.no_code=238;break;case"92":s.value=s.bills.b100,s.aux_name=s.inserted,t.no_code=239;break;case"93":s.value=s.bills.b200,s.aux_name=s.inserted,t.no_code=240;break;case"94":s.value=s.bills.b500,s.aux_name=s.inserted,t.no_code=241;break;case"95":s.value=dd.__("Unknown value:")+" ¿95?",s.aux_name=s.inserted,t.no_code=242;break;case"96":s.value=dd.__("Unknown value:")+" ¿96?",s.aux_name=s.inserted,t.no_code=243;break;case"97":s.value=dd.__("Unknown value:")+" ¿97?",s.aux_name=s.inserted,t.no_code=244;break;case"a0":s.value=s.bills.b20,s.aux_name=s.rejected,t.no_code=245;break;case"a1":s.value=s.bills.b50,s.aux_name=s.rejected,t.no_code=246;break;case"a2":s.value=s.bills.b100,s.aux_name=s.rejected,t.no_code=247;break;case"a3":s.value=s.bills.b200,s.aux_name=s.rejected,t.no_code=248;break;case"a4":s.value=s.bills.b500,s.aux_name=s.rejected,t.no_code=249;break;case"a5":s.value=dd.__("Unknown value:")+" ¿a5?",s.aux_name=s.rejected,t.no_code=250;break;case"a6":s.value=dd.__("Unknown value:")+" ¿a6?",s.aux_name=s.rejected,t.no_code=251;break;case"a7":s.value=dd.__("Unknown value:")+" ¿a7?",s.aux_name=s.rejected,t.no_code=252;break;case"b0":s.value=s.bills.b20,s.aux_name=s.bill_recycler,s.bill="P20",t.no_code=253,s.where="recycler";break;case"b1":s.value=s.bills.b50,s.aux_name=s.bill_recycler,s.bill="P50",t.no_code=254,s.where="recycler";break;case"b2":s.value=s.bills.b100,s.aux_name=s.bill_recycler,s.bill="P100",t.no_code=255,s.where="recycler";break;case"b3":s.value=s.bills.b200,s.aux_name=s.bill_recycler,s.bill="P200",t.no_code=256,s.where="recycler";break;case"b4":s.value=s.bills.b500,s.aux_name=s.bill_recycler,s.bill="P500",t.no_code=257,s.where="recycler";break;case"b5":s.value=dd.__("Unknown value:")+" ¿a5",s.aux_name=s.bill_recycler,t.no_code=258,s.where="recycler";break;case"b6":s.value=dd.__("Unknown value:")+" ¿a6",s.aux_name=s.bill_recycler,t.no_code=259,s.where="recycler";break;case"b7":s.value=dd.__("Unknown value:")+" ¿a7",s.aux_name=s.bill_recycler,t.no_code=260,s.where="recycler";break;case"2a":s.value=s.billRetire.r50,s.aux_name=s.billRetire,s.bill="R50",t.no_code=260,s.where="recyclerOut"}t.name=s.aux_name,t.description=s.value,this.countMoney(s.bill,s.where);break;case"D0":switch(t.request=dd.__("Config coin purse"),s.message1="",s.message2="",e[2].toString()){case"1":s.message1=dd.__("Coin purse enabled"),s.message2=dd.__("Configuration complete"),t.no_code=261;break;case"0":s.message1=dd.__("Coin purse disabled"),s.message2=dd.__("Disabled by system request"),t.no_code=262;break;default:s.message1=dd.__("Status unknown"),s.message2=dd.__("The response of coin purse doesn't identify successfully"),t.no_code=263}t.name=dd.__(s.message1),t.description=dd.__(s.message2);break;case"D1":switch(t.request=dd.__("Configure bill purse"),s.status_pre_scrow="",e[3].toString()){case"0":s.status_pre_scrow=dd.__("Configuration pre scroll disabled, bank note received automatic"),t.no_code=265;break;case"1":s.status_pre_scrow=dd.__("Configuration pre scroll enabled"),t.no_code=266}switch(e[2].toString()){case"0":s.message1=dd.__("Bill purse disabled");break;case"1":s.message1=dd.__("Bill purse enabled")}"0"===e[2].toString()&&(s.status_pre_scrow="",t.no_code=264),t.name=s.message1,t.description=s.status_pre_scrow;break;case"D2":t.request=dd.__("read tubes"),t.no_code=267,s.coins={c50c:e[2],c50g:e[3],p1:e[4],p2:e[5],p5:e[6],p10:e[7]},le(this,Me).tubes.C50=dd.hexToDec(s.coins.c50c),le(this,Me).tubes.G50=dd.hexToDec(s.coins.c50g),le(this,Me).tubes.P1=dd.hexToDec(s.coins.p1),le(this,Me).tubes.P2=dd.hexToDec(s.coins.p2),le(this,Me).tubes.P5=dd.hexToDec(s.coins.p5),le(this,Me).tubes.P10=dd.hexToDec(s.coins.p10),t.name=dd.__("read tubes"),t.description=dd.__("Quantity of coins approx"),this.percentageTubes();break;case"D3":t.request=dd.__("read bank notes"),t.no_code=268,s.bills={b20:e[2],b50:e[3],b100:e[4],b200:e[5],b500:e[6],b1000:e[7]},le(this,Pe).stacker.P20=dd.hexToDec(s.bills.b20),le(this,Pe).stacker.P50=dd.hexToDec(s.bills.b50),le(this,Pe).stacker.P100=dd.hexToDec(s.bills.b100),le(this,Pe).stacker.P200=dd.hexToDec(s.bills.b200),le(this,Pe).stacker.P500=dd.hexToDec(s.bills.b500),le(this,Pe).stacker.P1000=dd.hexToDec(s.bills.b1000),t.name=dd.__("Quantity of bank notes"),t.description=dd.__("Quantity of bank notes approx:")+" 20 pesos = "+s.bills.b20+" "+dd.__("bank notes")+" 50 pesos = "+s.bills.b50+" "+dd.__("bank notes")+" 100 pesos = "+s.bills.b100+" "+dd.__("bank notes")+" 200 pesos = "+s.bills.b200+" "+dd.__("bank notes")+" 500 pesos = "+s.bills.b500+" "+dd.__("bank notes")+" 1000 pesos = "+s.bills.b1000+" "+dd.__("bank notes")+dd.__("Quantity of bank notes approx:")+" ";break;case"D4":switch(t.request=dd.__("bank note status"),s.status_bill="",e[2].toString()){case"1":s.status_bill=dd.__("Bank note accepted"),t.no_code=269;break;case"0":s.status_bill=dd.__("Bank note rejected"),t.no_code=270;break;default:s.status_bill=dd.__("Unknown status bank note"),t.no_code=271}t.name=s.status_bill,t.description="";break;case"D5":t.request=dd.__("bank notes dispensed"),t.no_code=272,s.bills={b20cc:parseInt(e[2],16),b50cc:parseInt(e[3],16),b100cc:parseInt(e[4],16),b200cc:parseInt(e[5],16),b500cc:parseInt(e[6],16),b1000cc:parseInt(e[7],16)},s.quantity_dispensed=20*s.bills.b20cc+50*s.bills.b50cc+100*s.bills.b100cc+200*s.bills.b200cc+500*s.bills.b500cc+1e3*s.bills.b1000cc,s.message1=dd.__("Dispensed")+"  "+s.quantity_dispensed+" pesos",s.message2=dd.__("Quantity approx.")+" $20x"+s.bills.b20cc+". $50x"+s.bills.b50cc+". $100x"+s.bills.b100cc+". $200x"+s.bills.b200cc+". $500x"+s.bills.b500cc+". $1000x"+s.bills.b1000cc,0===s.quantity_dispensed&&(s.message1=dd.__("No money dispensed"),s.message2=dd.__("Probably bill purse is empty"),t.no_code=273),t.name=s.message1,t.description=s.message2;break;case"D6":if(t.request=dd.__("coins dispensed"),t.no_code=274,t.name=dd.__("coins dispensed"),t.description="",isNaN(this._last_change_coin_purse)&&("function"==typeof Swal.fire?Swal.fire(dd.__("The price of the last read of coin purse doesn't have registered correctly")):dd.warn(dd.__("The price of the last read of coin purse doesn't have registered correctly"))),ie(this,Ee,le(this,Ee)-this._last_change_coin_purse),void 0===le(this,Le)){var n=this;ie(this,Le,setTimeout((function(){n.extRetireBill(),clearTimeout(le(n,Le)),ie(n,Le,void 0)}),500))}break;case"D7":switch(t.request=dd.__("status of dispense product"),s.status_dispense="",e[5].toString()){case"1":s.status_dispense=dd.__("Product not delivered"),s.message2=dd.__("The product requested wasn't delivered"),t.no_code=275,ie(this,We,!1);break;case"0":s.status_dispense=dd.__("Product delivered"),s.message2=dd.__("The product requested was delivered")+": "+parseInt(e[2],16),t.no_code=276,ie(this,We,!0);break;default:s.status_dispense=dd.__("Status unknown"),s.message2=dd.__("Error"),t.no_code=277,ie(this,We,!1)}t.name=s.status_dispense,t.description=s.message2;break;case"D8":switch(t.request=dd.__("status door"),t.no_code=211,s.status="",e[13]){case"db":s.status=dd.__("Door closed"),t.no_code=278,ae(this,ct,Lt).call(this,"close");break;case"dc":s.status=dd.__("Door open"),t.no_code=279,ae(this,ct,Lt).call(this,"open");break;default:s.status=dd.__("Status unknown"),t.no_code=280}t.name=s.status,t.description="";break;case"D9":t.request=dd.__("temperature status"),t.no_code=281,s.temp_high=parseInt(e[2],16),s.temp_low=parseInt(e[3],16),t.name=dd.__("Status of temperature"),t.description=dd.__("Temperature high")+": "+s.temp_high+". "+dd.__("Temperature low")+": "+s.temp_low,this._arr_log_temperature.push({high:s.temp_high,low:s.temp_low});break;case"DA":t.request=dd.__("Relay status"),t.no_code=213,"1"===e[2].toString()?(t.name=dd.__("Relay on"),t.no_code=282):"0"===e[2].toString()?(t.name=dd.__("Relay off"),t.no_code=283):(t.name=dd.__("Status unknown"),t.no_code=284),t.description="";break;case"DB":t.request=dd.__("Save memory bill purse"),t.no_code=285,t.name=dd.__("Status unknown"),t.description=dd.__("Without information");break;case"DC":t.request=dd.__("Read memory bill purse"),t.no_code=295,t.name=dd.__("Status unknown"),t.description=dd.__("Without information");break;case"DD":switch(t.request=dd.__("Card reader status"),e[2].toString().toUpperCase()){case"0":t.no_code=505,t.name=dd.__("Nayax disabled"),t.description=dd.__("The Nayax device was disabled successfully");break;case"1":case"2":t.no_code=506,t.name=dd.__("Nayax enabled"),t.description=dd.__("The Nayax device now is enabled");break;case"3":t.no_code=507,t.name=dd.__("Pre authorized credit"),t.description=dd.__("The pre credit was authorized successfully");break;case"4":t.no_code=508,t.name=dd.__("Cancellation in progress"),t.description=dd.__("Cancellation request done successfully");break;case"5":t.no_code=509,t.name=dd.__("Sell approved"),t.description=dd.__("Sell approved, starting dispense product");break;case"6":t.no_code=510,t.name=dd.__("Sell denied"),t.description=dd.__("This sell was denied, try again");break;case"7":t.no_code=511,t.name=dd.__("Session ended"),t.description=dd.__("The session ended");break;case"8":t.no_code=512,t.name=dd.__("Cancelled"),t.description=dd.__("Cancellation complete");break;case"A":switch(e[8]){case"1":t.no_code=513,t.name=dd.__("Product not dispensed"),t.description=dd.__("Product not dispensed, payed with nayax device");break;case"0":t.no_code=514,t.name=dd.__("Product dispensed"),t.description=dd.__("The process of dispensing product ended successfully");break;default:t.no_code=515,t.name=dd.__("Status unknown"),t.description=dd.__("No more information about dispense status")}break;default:t.no_code=516,t.name=dd.__("Status unknown"),t.description=dd.__("The status of card reader does not identified correctly")}break;default:t.request=dd.__("undefined"),t.name=dd.__("Response unrecognized"),t.description=dd.__("The response of application was received, but dont identify with any of current parameters"),t.no_code=404}this.extSerialMessage({code:e,message:t.name,description:t.description,request:t.request,no_code:t.no_code})}function Bt(e){clearTimeout(le(this,we));var t={},s=this;switch(t.name="",t.description="",e.no_code){case 700:t.name=e.message,t.description=dd.__("The application connect successfully with website");break;case 701:t.name=e.message,t.description=dd.__("The connection with the serial device was ended by system request");break;case 702:t.name=e.message,t.description=dd.__("The last instruction is not compatible with this version of the application");break;case 703:ae(this,dt,jt).call(this),void 0===le(this,ye)&&ie(this,ye,setInterval((function(){s.reconnect()}),s._time_to_reconnect)),t.name=dd.__("Serial device disconnected"),t.description=e.description;break;case 704:t.name=e.message,t.description=e.description;break;case 705:ae(this,dt,jt).call(this),void 0===le(this,ye)&&ie(this,ye,setInterval((function(){s.reconnect()}),s._time_to_reconnect)),t.name=dd.__("Connection with the serial device is not complete"),t.description=dd.__("Check the device is connected correctly");break;case 706:t.name=e.message,t.description=dd.__("The port was not linked to the serial device, so we closed");break;case 707:t.name=e.message,t.description=dd.__("The response was not received in the time specified by the application");break;default:t.name=e.message,t.description=dd.__("Oops! you ran into an unknown error")}this.extAppMessage({message:t.name,description:t.description,no_code:e.no_code})}function It(e){var s=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=[];e.forEach((function(e){i.push(dd.hexMaker(e))})),i[11]=dd.hexMaker(ae(this,et,Dt).call(this,i)),i=dd.add0x(i),void 0!==le(this,we)?(le(this,me).push({bytes:i,to_do:n}),dd.warn(dd.__("You send a new command to serial device before have an answer")+". "+dd.__("Commands in queue:")+" "+le(this,me).length),ie(this,De,setInterval((function(){void 0===le(s,we)&&le(s,me).length>0&&(dd.log(dd.__("Sending in delay mode")+". "+dd.__("Commands in queue:")+" "+le(s,me).length),clearInterval(le(s,De)),ie(s,De,void 0),ie(s,we,setTimeout($(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!le(s,me)[0].bytes){e.next=3;break}return e.next=3,ae(s,Je,kt).call(s,le(s,me)[0].bytes,le(s,me)[0].to_do);case 3:case"end":return e.stop()}}),e)}))),"dispense"===le(s,me)[0].to_do?s._time_response_engines:s._time_response_general)),s.extSentData({message:n,hex:le(s,me)[0].bytes}),ae(s,Ke,Tt).call(s,le(s,me)[0].bytes),ie(s,me,le(s,me).splice(1)))}),500))):(ie(this,me,[]),ie(this,we,setTimeout($(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(s,Je,kt).call(s,i,n);case 2:case"end":return e.stop()}}),e)}))),"dispense"===n?this._time_response_engines:this._time_response_general)),this.extSentData({message:n,hex:i}),ae(this,Ke,Tt).call(this,i))}function Ft(e){ie(this,re,!1),window["owl_br"+le(this,ge)+"_connected"]=le(this,re),dd.warn(e),this.extConnectionLost(e)}function Wt(e){var s=this;ie(this,re,!1),window["owl_br"+le(this,ge)+"_connected"]=le(this,re),ae(this,lt,Ft).call(this,e),ie(this,be,0),setTimeout($(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.disconnect();case 2:case"end":return e.stop()}}),e)}))),100)}function Lt(e){this.extLogDoorStatus(e)}function Rt(){this.extDefaultLoad()}function Ot(){this.extWithDevice()}function jt(){this.extWithoutDevice()}function Nt(e){"object"===V(e.code)?(dd.warn(dd.__("Executing emulator be carefully")),le(this,re)||(ie(this,re,!0),window["owl_br"+le(this,ge)+"_connected"]=le(this,re),void 0!==le(this,ye)&&(clearInterval(le(this,ye)),ie(this,ye,void 0))),clearTimeout(le(this,we)),ie(this,we,void 0),ae(this,nt,At).call(this,e.code)):dd.error(dd.__("Invalid data to emulate"))}function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function qt(e,t,s,n,i,a,l){try{var o=e[a](l),r=o.value}catch(e){return void s(e)}o.done?t(r):Promise.resolve(r).then(n,i)}function zt(e){return function(){var t=this,s=arguments;return new Promise((function(n,i){var a=e.apply(t,s);function l(e){qt(a,n,i,l,o,"next",e)}function o(e){qt(a,n,i,l,o,"throw",e)}l(void 0)}))}}function Ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yt(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jt(e,t){Vt(e,t),t.add(e)}function Gt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Qt(e,t,s){Vt(e,t),t.set(e,s)}function Vt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Zt(e,t,s){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return s}function $t(e,t,s){return function(e,t,s){if(t.set)t.set.call(e,s);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=s}}(e,Kt(e,t,"set"),s),s}function Xt(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,Kt(e,t,"get"))}function Kt(e,t,s){if(!t.has(e))throw new TypeError("attempted to "+s+" private field on non-instance");return t.get(e)}var es=new WeakMap,ts=new WeakMap,ss=new WeakMap,ns=new WeakMap,is=new WeakMap,as=new WeakMap,ls=new WeakMap,os=new WeakMap,rs=new WeakMap,cs=new WeakMap,ps=new WeakMap,hs=new WeakMap,ds=new WeakMap,us=new WeakMap,xs=new WeakMap,_s=new WeakMap,vs=new WeakMap,fs=new WeakMap,gs=new WeakMap,bs=new WeakMap,ms=new WeakMap,ws=new WeakMap,ks=new WeakMap,ys=new WeakMap,Cs=new WeakMap,Ss=new WeakMap,Es=new WeakMap,Ts=new WeakMap,Ds=new WeakMap,Ms=new WeakMap,Ps=new WeakMap,As=new WeakMap,Bs=new WeakMap,Is=new WeakMap,Fs=new WeakMap,Ws=new WeakMap,Ls=new WeakMap,Rs=new WeakMap,Os=new WeakMap,js=new WeakMap,Ns=new WeakMap,Us=new WeakMap,qs=new WeakMap,zs=new WeakMap,Hs=new WeakMap,Ys=new WeakMap,Js=new WeakMap,Gs=new WeakMap,Qs=new WeakSet,Vs=new WeakSet,Zs=new WeakSet,$s=new WeakSet,Xs=new WeakSet,Ks=new WeakSet,en=new WeakSet,tn=new WeakSet,sn=new WeakSet,nn=new WeakSet,an=new WeakSet,ln=new WeakSet,on=new WeakSet,rn=new WeakSet,cn=new WeakSet,pn=new WeakSet,hn=new WeakSet,dn=new WeakSet,un=new WeakSet,xn=new WeakSet,_n=new WeakSet,vn=new WeakSet,fn=new WeakSet,gn=new WeakSet,bn=new WeakSet,mn=new WeakSet,wn=new WeakSet,kn=new WeakSet,yn=new WeakSet,Cn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ht(this,e),Jt(this,yn),Jt(this,kn),Jt(this,wn),Jt(this,mn),Jt(this,bn),Jt(this,gn),Jt(this,fn),Jt(this,vn),Jt(this,_n),Jt(this,xn),Jt(this,un),Jt(this,dn),Jt(this,hn),Jt(this,pn),Jt(this,cn),Jt(this,rn),Jt(this,on),Jt(this,ln),Jt(this,an),Jt(this,nn),Jt(this,sn),Jt(this,tn),Jt(this,en),Jt(this,Ks),Jt(this,Xs),Jt(this,$s),Jt(this,Zs),Jt(this,Vs),Jt(this,Qs),Qt(this,es,{writable:!0,value:!1}),Qt(this,ts,{writable:!0,value:void 0}),Qt(this,ss,{writable:!0,value:void 0}),Qt(this,ns,{writable:!0,value:void 0}),Qt(this,is,{writable:!0,value:void 0}),Qt(this,as,{writable:!0,value:void 0}),Qt(this,ls,{writable:!0,value:!0}),Qt(this,os,{writable:!0,value:new Uint8Array(0)}),Qt(this,rs,{writable:!0,value:void 0}),Qt(this,cs,{writable:!0,value:dd.setJofemarConnectionConstant(1)}),Qt(this,ps,{writable:!0,value:1}),Gt(this,"_serial_filters",[{usbVendorId:1027,usbProductId:24577}]),Gt(this,"_serial_config_port",{baudRate:9600,dataBits:8,stopBits:1,parity:"none",bufferSize:32768,flowControl:"none"}),Qt(this,hs,{writable:!0,value:0}),Gt(this,"_serial_btn_connect_serial",null),Qt(this,ds,{writable:!0,value:[]}),Qt(this,us,{writable:!0,value:[]}),Qt(this,xs,{writable:!0,value:[]}),Qt(this,_s,{writable:!0,value:[]}),Qt(this,vs,{writable:!0,value:!1}),Qt(this,fs,{writable:!0,value:!1}),Qt(this,gs,{writable:!0,value:0}),Qt(this,bs,{writable:!0,value:void 0}),Qt(this,ms,{writable:!0,value:void 0}),Qt(this,ws,{writable:!0,value:500}),Qt(this,ks,{writable:!0,value:800}),Qt(this,ys,{writable:!0,value:25e3}),Qt(this,Cs,{writable:!0,value:void 0}),Qt(this,Ss,{writable:!0,value:void 0}),Qt(this,Es,{writable:!0,value:void 0}),Qt(this,Ts,{writable:!0,value:void 0}),Qt(this,Ds,{writable:!0,value:0}),Gt(this,"_last_error",{message:null,handler:null,code:null,no_code:666}),Qt(this,Ms,{writable:!0,value:void 0}),Qt(this,Ps,{writable:!0,value:7e3}),Gt(this,"_show_without_device",!0),Qt(this,As,{writable:!0,value:"_id_vl_not_support"}),Qt(this,Bs,{writable:!0,value:109}),Qt(this,Is,{writable:!0,value:189}),Qt(this,Fs,{writable:!0,value:void 0}),Qt(this,Ws,{writable:!0,value:0}),Qt(this,Ls,{writable:!0,value:0}),Qt(this,Rs,{writable:!0,value:0}),Qt(this,Os,{writable:!0,value:!0}),Qt(this,js,{writable:!0,value:0}),Qt(this,Ns,{writable:!0,value:!1}),Qt(this,Us,{writable:!0,value:{_interval_reconnection:void 0,_waiting_for_sense:void 0,_timer_until_response:void 0,_status_dispense:void 0,_time_response_general:3e3,_time_response_connect_start:500,_time_response_engines:25e3,_time_to_reconnect:7e3,_last_error:{message:null,handler:null,code:null,no_code:666},_channel_start_verification:109,_channel_stop_verification:189,_multi_session:!1,_number_dispensing:0,_multi_dispense_queue:[],_backup_multi_dispense_queue:[],_arr_multi_dispense:[],_waiting_withdrawal:!1,_waiting_withdrawal_timer:0,_waiting_withdrawal_interval:void 0,_quantity_dispensed_cart:0,_waiting_aux:!1}}),Qt(this,qs,{writable:!0,value:0}),Qt(this,zs,{writable:!0,value:2e3}),Qt(this,Hs,{writable:!0,value:1e3}),Gt(this,"__sense_selection",null),Gt(this,"__sense_id_movement",null),Qt(this,Ys,{writable:!0,value:!1}),Qt(this,Js,{writable:!0,value:0}),Qt(this,Gs,{writable:!0,value:[]});var n="text-shadow: -1px -1px hsl(0,100%,50%), 1px 1px hsl(5.4, 100%, 50%), 3px 2px hsl(10.8, 100%, 50%), 5px 3px hsl(16.2, 100%, 50%), 7px 4px hsl(21.6, 100%, 50%), 9px 5px hsl(27, 100%, 50%), 11px 6px hsl(32.4, 100%, 50%), 13px 7px hsl(37.8, 100%, 50%), 14px 8px hsl(43.2, 100%, 50%), 16px 9px hsl(48.6, 100%, 50%), 18px 10px hsl(54, 100%, 50%), 20px 11px hsl(59.4, 100%, 50%), 22px 12px hsl(64.8, 100%, 50%), 23px 13px hsl(70.2, 100%, 50%), 25px 14px hsl(75.6, 100%, 50%), 27px 15px hsl(81, 100%, 50%), 28px 16px hsl(86.4, 100%, 50%), 30px 17px hsl(91.8, 100%, 50%), 32px 18px hsl(97.2, 100%, 50%), 33px 19px hsl(102.6, 100%, 50%), 35px 20px hsl(108, 100%, 50%), 36px 21px hsl(113.4, 100%, 50%), 38px 22px hsl(118.8, 100%, 50%), 39px 23px hsl(124.2, 100%, 50%), 41px 24px hsl(129.6, 100%, 50%), 42px 25px hsl(135, 100%, 50%), 43px 26px hsl(140.4, 100%, 50%), 45px 27px hsl(145.8, 100%, 50%), 46px 28px hsl(151.2, 100%, 50%), 47px 29px hsl(156.6, 100%, 50%), 48px 30px hsl(162, 100%, 50%), 49px 31px hsl(167.4, 100%, 50%), 50px 32px hsl(172.8, 100%, 50%), 51px 33px hsl(178.2, 100%, 50%), 52px 34px hsl(183.6, 100%, 50%), 53px 35px hsl(189, 100%, 50%), 54px 36px hsl(194.4, 100%, 50%), 55px 37px hsl(199.8, 100%, 50%), 55px 38px hsl(205.2, 100%, 50%), 56px 39px hsl(210.6, 100%, 50%), 57px 40px hsl(216, 100%, 50%), 57px 41px hsl(221.4, 100%, 50%), 58px 42px hsl(226.8, 100%, 50%), 58px 43px hsl(232.2, 100%, 50%), 58px 44px hsl(237.6, 100%, 50%), 59px 45px hsl(243, 100%, 50%), 59px 46px hsl(248.4, 100%, 50%), 59px 47px hsl(253.8, 100%, 50%), 59px 48px hsl(259.2, 100%, 50%), 59px 49px hsl(264.6, 100%, 50%), 60px 50px hsl(270, 100%, 50%), 59px 51px hsl(275.4, 100%, 50%), 59px 52px hsl(280.8, 100%, 50%), 59px 53px hsl(286.2, 100%, 50%), 59px 54px hsl(291.6, 100%, 50%), 59px 55px hsl(297, 100%, 50%), 58px 56px hsl(302.4, 100%, 50%), 58px 57px hsl(307.8, 100%, 50%), 58px 58px hsl(313.2, 100%, 50%), 57px 59px hsl(318.6, 100%, 50%), 57px 60px hsl(324, 100%, 50%), 56px 61px hsl(329.4, 100%, 50%), 55px 62px hsl(334.8, 100%, 50%), 55px 63px hsl(340.2, 100%, 50%), 54px 64px hsl(345.6, 100%, 50%), 53px 65px hsl(351, 100%, 50%), 52px 66px hsl(356.4, 100%, 50%), 51px 67px hsl(361.8, 100%, 50%), 50px 68px hsl(367.2, 100%, 50%), 49px 69px hsl(372.6, 100%, 50%), 48px 70px hsl(378, 100%, 50%), 47px 71px hsl(383.4, 100%, 50%), 46px 72px hsl(388.8, 100%, 50%), 45px 73px hsl(394.2, 100%, 50%), 43px 74px hsl(399.6, 100%, 50%), 42px 75px hsl(405, 100%, 50%), 41px 76px hsl(410.4, 100%, 50%), 39px 77px hsl(415.8, 100%, 50%), 38px 78px hsl(421.2, 100%, 50%), 36px 79px hsl(426.6, 100%, 50%), 35px 80px hsl(432, 100%, 50%), 33px 81px hsl(437.4, 100%, 50%), 32px 82px hsl(442.8, 100%, 50%), 30px 83px hsl(448.2, 100%, 50%), 28px 84px hsl(453.6, 100%, 50%), 27px 85px hsl(459, 100%, 50%), 25px 86px hsl(464.4, 100%, 50%), 23px 87px hsl(469.8, 100%, 50%), 22px 88px hsl(475.2, 100%, 50%), 20px 89px hsl(480.6, 100%, 50%), 18px 90px hsl(486, 100%, 50%), 16px 91px hsl(491.4, 100%, 50%), 14px 92px hsl(496.8, 100%, 50%), 13px 93px hsl(502.2, 100%, 50%), 11px 94px hsl(507.6, 100%, 50%), 9px 95px hsl(513, 100%, 50%), 7px 96px hsl(518.4, 100%, 50%), 5px 97px hsl(523.8, 100%, 50%), 3px 98px hsl(529.2, 100%, 50%), 1px 99px hsl(534.6, 100%, 50%), 7px 100px hsl(540, 100%, 50%), -1px 101px hsl(545.4, 100%, 50%), -3px 102px hsl(550.8, 100%, 50%), -5px 103px hsl(556.2, 100%, 50%), -7px 104px hsl(561.6, 100%, 50%), -9px 105px hsl(567, 100%, 50%), -11px 106px hsl(572.4, 100%, 50%), -13px 107px hsl(577.8, 100%, 50%), -14px 108px hsl(583.2, 100%, 50%), -16px 109px hsl(588.6, 100%, 50%), -18px 110px hsl(594, 100%, 50%), -20px 111px hsl(599.4, 100%, 50%), -22px 112px hsl(604.8, 100%, 50%), -23px 113px hsl(610.2, 100%, 50%), -25px 114px hsl(615.6, 100%, 50%), -27px 115px hsl(621, 100%, 50%), -28px 116px hsl(626.4, 100%, 50%), -30px 117px hsl(631.8, 100%, 50%), -32px 118px hsl(637.2, 100%, 50%), -33px 119px hsl(642.6, 100%, 50%), -35px 120px hsl(648, 100%, 50%), -36px 121px hsl(653.4, 100%, 50%), -38px 122px hsl(658.8, 100%, 50%), -39px 123px hsl(664.2, 100%, 50%), -41px 124px hsl(669.6, 100%, 50%), -42px 125px hsl(675, 100%, 50%), -43px 126px hsl(680.4, 100%, 50%), -45px 127px hsl(685.8, 100%, 50%), -46px 128px hsl(691.2, 100%, 50%), -47px 129px hsl(696.6, 100%, 50%), -48px 130px hsl(702, 100%, 50%), -49px 131px hsl(707.4, 100%, 50%), -50px 132px hsl(712.8, 100%, 50%), -51px 133px hsl(718.2, 100%, 50%), -52px 134px hsl(723.6, 100%, 50%), -53px 135px hsl(729, 100%, 50%), -54px 136px hsl(734.4, 100%, 50%), -55px 137px hsl(739.8, 100%, 50%), -55px 138px hsl(745.2, 100%, 50%), -56px 139px hsl(750.6, 100%, 50%), -57px 140px hsl(756, 100%, 50%), -57px 141px hsl(761.4, 100%, 50%), -58px 142px hsl(766.8, 100%, 50%), -58px 143px hsl(772.2, 100%, 50%), -58px 144px hsl(777.6, 100%, 50%), -59px 145px hsl(783, 100%, 50%), -59px 146px hsl(788.4, 100%, 50%), -59px 147px hsl(793.8, 100%, 50%), -59px 148px hsl(799.2, 100%, 50%), -59px 149px hsl(804.6, 100%, 50%), -60px 150px hsl(810, 100%, 50%), -59px 151px hsl(815.4, 100%, 50%), -59px 152px hsl(820.8, 100%, 50%), -59px 153px hsl(826.2, 100%, 50%), -59px 154px hsl(831.6, 100%, 50%), -59px 155px hsl(837, 100%, 50%), -58px 156px hsl(842.4, 100%, 50%), -58px 157px hsl(847.8, 100%, 50%), -58px 158px hsl(853.2, 100%, 50%), -57px 159px hsl(858.6, 100%, 50%), -57px 160px hsl(864, 100%, 50%), -56px 161px hsl(869.4, 100%, 50%), -55px 162px hsl(874.8, 100%, 50%), -55px 163px hsl(880.2, 100%, 50%), -54px 164px hsl(885.6, 100%, 50%), -53px 165px hsl(891, 100%, 50%), -52px 166px hsl(896.4, 100%, 50%), -51px 167px hsl(901.8, 100%, 50%), -50px 168px hsl(907.2, 100%, 50%), -49px 169px hsl(912.6, 100%, 50%), -48px 170px hsl(918, 100%, 50%), -47px 171px hsl(923.4, 100%, 50%), -46px 172px hsl(928.8, 100%, 50%), -45px 173px hsl(934.2, 100%, 50%), -43px 174px hsl(939.6, 100%, 50%), -42px 175px hsl(945, 100%, 50%), -41px 176px hsl(950.4, 100%, 50%), -39px 177px hsl(955.8, 100%, 50%), -38px 178px hsl(961.2, 100%, 50%), -36px 179px hsl(966.6, 100%, 50%), -35px 180px hsl(972, 100%, 50%), -33px 181px hsl(977.4, 100%, 50%), -32px 182px hsl(982.8, 100%, 50%), -30px 183px hsl(988.2, 100%, 50%), -28px 184px hsl(993.6, 100%, 50%), -27px 185px hsl(999, 100%, 50%), -25px 186px hsl(1004.4, 100%, 50%), -23px 187px hsl(1009.8, 100%, 50%), -22px 188px hsl(1015.2, 100%, 50%), -20px 189px hsl(1020.6, 100%, 50%), -18px 190px hsl(1026, 100%, 50%), -16px 191px hsl(1031.4, 100%, 50%), -14px 192px hsl(1036.8, 100%, 50%), -13px 193px hsl(1042.2, 100%, 50%), -11px 194px hsl(1047.6, 100%, 50%), -9px 195px hsl(1053, 100%, 50%), -7px 196px hsl(1058.4, 100%, 50%), -5px 197px hsl(1063.8, 100%, 50%), -3px 198px hsl(1069.2, 100%, 50%), -1px 199px hsl(1074.6, 100%, 50%), -1px 200px hsl(1080, 100%, 50%), 1px 201px hsl(1085.4, 100%, 50%), 3px 202px hsl(1090.8, 100%, 50%), 5px 203px hsl(1096.2, 100%, 50%), 7px 204px hsl(1101.6, 100%, 50%), 9px 205px hsl(1107, 100%, 50%), 11px 206px hsl(1112.4, 100%, 50%), 13px 207px hsl(1117.8, 100%, 50%), 14px 208px hsl(1123.2, 100%, 50%), 16px 209px hsl(1128.6, 100%, 50%), 18px 210px hsl(1134, 100%, 50%), 20px 211px hsl(1139.4, 100%, 50%), 22px 212px hsl(1144.8, 100%, 50%), 23px 213px hsl(1150.2, 100%, 50%), 25px 214px hsl(1155.6, 100%, 50%), 27px 215px hsl(1161, 100%, 50%), 28px 216px hsl(1166.4, 100%, 50%), 30px 217px hsl(1171.8, 100%, 50%), 32px 218px hsl(1177.2, 100%, 50%), 33px 219px hsl(1182.6, 100%, 50%), 35px 220px hsl(1188, 100%, 50%), 36px 221px hsl(1193.4, 100%, 50%), 38px 222px hsl(1198.8, 100%, 50%), 39px 223px hsl(1204.2, 100%, 50%), 41px 224px hsl(1209.6, 100%, 50%), 42px 225px hsl(1215, 100%, 50%), 43px 226px hsl(1220.4, 100%, 50%), 45px 227px hsl(1225.8, 100%, 50%), 46px 228px hsl(1231.2, 100%, 50%), 47px 229px hsl(1236.6, 100%, 50%), 48px 230px hsl(1242, 100%, 50%), 49px 231px hsl(1247.4, 100%, 50%), 50px 232px hsl(1252.8, 100%, 50%), 51px 233px hsl(1258.2, 100%, 50%), 52px 234px hsl(1263.6, 100%, 50%), 53px 235px hsl(1269, 100%, 50%), 54px 236px hsl(1274.4, 100%, 50%), 55px 237px hsl(1279.8, 100%, 50%), 55px 238px hsl(1285.2, 100%, 50%), 56px 239px hsl(1290.6, 100%, 50%), 57px 240px hsl(1296, 100%, 50%), 57px 241px hsl(1301.4, 100%, 50%), 58px 242px hsl(1306.8, 100%, 50%), 58px 243px hsl(1312.2, 100%, 50%), 58px 244px hsl(1317.6, 100%, 50%), 59px 245px hsl(1323, 100%, 50%), 59px 246px hsl(1328.4, 100%, 50%), 59px 247px hsl(1333.8, 100%, 50%), 59px 248px hsl(1339.2, 100%, 50%), 59px 249px hsl(1344.6, 100%, 50%), 60px 250px hsl(1350, 100%, 50%), 59px 251px hsl(1355.4, 100%, 50%), 59px 252px hsl(1360.8, 100%, 50%), 59px 253px hsl(1366.2, 100%, 50%), 59px 254px hsl(1371.6, 100%, 50%), 59px 255px hsl(1377, 100%, 50%), 58px 256px hsl(1382.4, 100%, 50%), 58px 257px hsl(1387.8, 100%, 50%), 58px 258px hsl(1393.2, 100%, 50%), 57px 259px hsl(1398.6, 100%, 50%), 57px 260px hsl(1404, 100%, 50%), 56px 261px hsl(1409.4, 100%, 50%), 55px 262px hsl(1414.8, 100%, 50%), 55px 263px hsl(1420.2, 100%, 50%), 54px 264px hsl(1425.6, 100%, 50%), 53px 265px hsl(1431, 100%, 50%), 52px 266px hsl(1436.4, 100%, 50%), 51px 267px hsl(1441.8, 100%, 50%), 50px 268px hsl(1447.2, 100%, 50%), 49px 269px hsl(1452.6, 100%, 50%), 48px 270px hsl(1458, 100%, 50%), 47px 271px hsl(1463.4, 100%, 50%), 46px 272px hsl(1468.8, 100%, 50%), 45px 273px hsl(1474.2, 100%, 50%), 43px 274px hsl(1479.6, 100%, 50%), 42px 275px hsl(1485, 100%, 50%), 41px 276px hsl(1490.4, 100%, 50%), 39px 277px hsl(1495.8, 100%, 50%), 38px 278px hsl(1501.2, 100%, 50%), 36px 279px hsl(1506.6, 100%, 50%), 35px 280px hsl(1512, 100%, 50%), 33px 281px hsl(1517.4, 100%, 50%), 32px 282px hsl(1522.8, 100%, 50%), 30px 283px hsl(1528.2, 100%, 50%), 28px 284px hsl(1533.6, 100%, 50%), 27px 285px hsl(1539, 100%, 50%), 25px 286px hsl(1544.4, 100%, 50%), 23px 287px hsl(1549.8, 100%, 50%), 22px 288px hsl(1555.2, 100%, 50%), 20px 289px hsl(1560.6, 100%, 50%), 18px 290px hsl(1566, 100%, 50%), 16px 291px hsl(1571.4, 100%, 50%), 14px 292px hsl(1576.8, 100%, 50%), 13px 293px hsl(1582.2, 100%, 50%), 11px 294px hsl(1587.6, 100%, 50%), 9px 295px hsl(1593, 100%, 50%), 7px 296px hsl(1598.4, 100%, 50%), 5px 297px hsl(1603.8, 100%, 50%), 3px 298px hsl(1609.2, 100%, 50%), 1px 299px hsl(1614.6, 100%, 50%), 2px 300px hsl(1620, 100%, 50%), -1px 301px hsl(1625.4, 100%, 50%), -3px 302px hsl(1630.8, 100%, 50%), -5px 303px hsl(1636.2, 100%, 50%), -7px 304px hsl(1641.6, 100%, 50%), -9px 305px hsl(1647, 100%, 50%), -11px 306px hsl(1652.4, 100%, 50%), -13px 307px hsl(1657.8, 100%, 50%), -14px 308px hsl(1663.2, 100%, 50%), -16px 309px hsl(1668.6, 100%, 50%), -18px 310px hsl(1674, 100%, 50%), -20px 311px hsl(1679.4, 100%, 50%), -22px 312px hsl(1684.8, 100%, 50%), -23px 313px hsl(1690.2, 100%, 50%), -25px 314px hsl(1695.6, 100%, 50%), -27px 315px hsl(1701, 100%, 50%), -28px 316px hsl(1706.4, 100%, 50%), -30px 317px hsl(1711.8, 100%, 50%), -32px 318px hsl(1717.2, 100%, 50%), -33px 319px hsl(1722.6, 100%, 50%), -35px 320px hsl(1728, 100%, 50%), -36px 321px hsl(1733.4, 100%, 50%), -38px 322px hsl(1738.8, 100%, 50%), -39px 323px hsl(1744.2, 100%, 50%), -41px 324px hsl(1749.6, 100%, 50%), -42px 325px hsl(1755, 100%, 50%), -43px 326px hsl(1760.4, 100%, 50%), -45px 327px hsl(1765.8, 100%, 50%), -46px 328px hsl(1771.2, 100%, 50%), -47px 329px hsl(1776.6, 100%, 50%), -48px 330px hsl(1782, 100%, 50%), -49px 331px hsl(1787.4, 100%, 50%), -50px 332px hsl(1792.8, 100%, 50%), -51px 333px hsl(1798.2, 100%, 50%), -52px 334px hsl(1803.6, 100%, 50%), -53px 335px hsl(1809, 100%, 50%), -54px 336px hsl(1814.4, 100%, 50%), -55px 337px hsl(1819.8, 100%, 50%), -55px 338px hsl(1825.2, 100%, 50%), -56px 339px hsl(1830.6, 100%, 50%), -57px 340px hsl(1836, 100%, 50%), -57px 341px hsl(1841.4, 100%, 50%), -58px 342px hsl(1846.8, 100%, 50%), -58px 343px hsl(1852.2, 100%, 50%), -58px 344px hsl(1857.6, 100%, 50%), -59px 345px hsl(1863, 100%, 50%), -59px 346px hsl(1868.4, 100%, 50%), -59px 347px hsl(1873.8, 100%, 50%), -59px 348px hsl(1879.2, 100%, 50%), -59px 349px hsl(1884.6, 100%, 50%), -60px 350px hsl(1890, 100%, 50%), -59px 351px hsl(1895.4, 100%, 50%), -59px 352px hsl(1900.8, 100%, 50%), -59px 353px hsl(1906.2, 100%, 50%), -59px 354px hsl(1911.6, 100%, 50%), -59px 355px hsl(1917, 100%, 50%), -58px 356px hsl(1922.4, 100%, 50%), -58px 357px hsl(1927.8, 100%, 50%), -58px 358px hsl(1933.2, 100%, 50%), -57px 359px hsl(1938.6, 100%, 50%), -57px 360px hsl(1944, 100%, 50%), -56px 361px hsl(1949.4, 100%, 50%), -55px 362px hsl(1954.8, 100%, 50%), -55px 363px hsl(1960.2, 100%, 50%), -54px 364px hsl(1965.6, 100%, 50%), -53px 365px hsl(1971, 100%, 50%), -52px 366px hsl(1976.4, 100%, 50%), -51px 367px hsl(1981.8, 100%, 50%), -50px 368px hsl(1987.2, 100%, 50%), -49px 369px hsl(1992.6, 100%, 50%), -48px 370px hsl(1998, 100%, 50%), -47px 371px hsl(2003.4, 100%, 50%), -46px 372px hsl(2008.8, 100%, 50%), -45px 373px hsl(2014.2, 100%, 50%), -43px 374px hsl(2019.6, 100%, 50%), -42px 375px hsl(2025, 100%, 50%), -41px 376px hsl(2030.4, 100%, 50%), -39px 377px hsl(2035.8, 100%, 50%), -38px 378px hsl(2041.2, 100%, 50%), -36px 379px hsl(2046.6, 100%, 50%), -35px 380px hsl(2052, 100%, 50%), -33px 381px hsl(2057.4, 100%, 50%), -32px 382px hsl(2062.8, 100%, 50%), -30px 383px hsl(2068.2, 100%, 50%), -28px 384px hsl(2073.6, 100%, 50%), -27px 385px hsl(2079, 100%, 50%), -25px 386px hsl(2084.4, 100%, 50%), -23px 387px hsl(2089.8, 100%, 50%), -22px 388px hsl(2095.2, 100%, 50%), -20px 389px hsl(2100.6, 100%, 50%), -18px 390px hsl(2106, 100%, 50%), -16px 391px hsl(2111.4, 100%, 50%), -14px 392px hsl(2116.8, 100%, 50%), -13px 393px hsl(2122.2, 100%, 50%), -11px 394px hsl(2127.6, 100%, 50%), -9px 395px hsl(2133, 100%, 50%), -7px 396px hsl(2138.4, 100%, 50%), -5px 397px hsl(2143.8, 100%, 50%), -3px 398px hsl(2149.2, 100%, 50%), -1px 399px hsl(2154.6, 100%, 50%); font-size: 40px;";console.debug("%cJofemar webserial. %s",n,"Created by danidoble"),dd.addButtonToPermissions("Jofemar",Xt(this,ps)),null!==t&&(this._serial_filters=t),null!==s&&(this._serial_config_port={baudRate:s.baudRate?s.baudRate:9600,dataBits:s.dataBits?s.dataBits:8,stopBits:s.stopBits?s.stopBits:1,parity:s.parity?s.parity:"none",bufferSize:s.bufferSize?s.bufferSize:32768,flowControl:s.flowControl?s.flowControl:"none"}),Zt(this,Qs,Sn).call(this)}var s,n,i,a,l;return s=e,n=[{key:"clearSenseProduct",value:function(){void 0!==Xt(this,Ss)&&0!==Xt(this,Ss)&&clearInterval(Xt(this,Ss)),void 0!==Xt(this,Es)&&0!==Xt(this,Es)&&clearInterval(Xt(this,Es)),$t(this,Ss,void 0),$t(this,Ts,void 0),$t(this,vs,!1)}},{key:"__isConnected",get:function(){return Xt(this,es)},set:function(e){$t(this,es,e),window["owl_jof"+Xt(this,ps)+"_connected"]=Xt(this,es)}},{key:"__originalValues",get:function(){return Xt(this,Us)}},{key:"__serialPort",get:function(){return Xt(this,ts)}},{key:"channelStartVerification",get:function(){return Xt(this,Bs)},set:function(e){$t(this,Bs,e)}},{key:"channelStopVerification",get:function(){return Xt(this,Is)},set:function(e){$t(this,Is,e)}},{key:"toString",value:function(){var e=this;return JSON.stringify({__class:"Jofemar",__number_device:Xt(e,ps),__connected:Xt(e,es),__connection:Xt(e,cs)})}},{key:"useWarnings",get:function(){return Xt(this,Os)},set:function(e){$t(this,Os,e)}},{key:"disconnect",value:(l=zt(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xt(this,es)&&this.extAppMessage({description:"Disconnected",message:"disconnect",no_code:303}),e.next=3,Zt(this,Zs,Dn).call(this);case 3:$t(this,es,!1),window["owl_jof"+Xt(this,ps)+"_connected"]=Xt(this,es);case 5:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"initSerial",value:(a=zt(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dd.isWebserialSupported(Xt(this,As))){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Zt(this,Vs,En).call(this);case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"setBytesConnection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;$t(this,ps,e),$t(this,cs,dd.setJofemarConnectionConstant(e)),dd.addButtonToPermissions("Jofemar",Xt(this,ps))}},{key:"setDOMElsBtnConnect",value:function(e){this._serial_btn_connect_serial=document.querySelectorAll(e)}},{key:"softReload",value:function(){$t(this,Cs,Xt(this,Us)._interval_reconnection),$t(this,Ss,Xt(this,Us)._waiting_for_sense),$t(this,ms,Xt(this,Us)._timer_until_response),$t(this,Ts,Xt(this,Us)._status_dispense),$t(this,ks,Xt(this,Us)._time_response_general),$t(this,Ps,Xt(this,Us)._time_to_reconnect),this._last_error=Xt(this,Us)._last_error,$t(this,ys,Xt(this,Us)._time_response_engines),$t(this,Bs,Xt(this,Us)._channel_start_verification),$t(this,Is,Xt(this,Us)._channel_stop_verification),$t(this,Js,Xt(this,Us)._number_dispensing),$t(this,xs,Xt(this,Us)._multi_dispense_queue),$t(this,_s,Xt(this,Us)._backup_multi_dispense_queue),$t(this,Gs,Xt(this,Us)._arr_multi_dispense),$t(this,fs,Xt(this,Us)._waiting_withdrawal),$t(this,gs,Xt(this,Us)._waiting_withdrawal_timer),$t(this,bs,Xt(this,Us)._waiting_withdrawal_interval),$t(this,Ds,Xt(this,Us)._quantity_dispensed_cart),$t(this,vs,Xt(this,Us)._waiting_aux),this.extSoftReload()}},{key:"connect",value:function(){for(var e=[],t=0;t<Xt(this,cs).length;t++)e.push(Xt(this,cs)[t].toLowerCase().replaceAll("0x",""));Zt(this,hn,Hn).call(this,e,"connect")}},{key:"deviceConnected",value:function(e){var t=this;$t(this,es,!0),window["owl_jof"+Xt(this,ps)+"_connected"]=Xt(this,es),Xt(this,ts).ondisconnect=function(e){Zt(t,_n,Gn).call(t,e)},Xt(this,ts).onconnect=function(e){t.deviceConnected(e)},dd.log(e)}},{key:"machineStatus",value:function(){var e=["02","30","30",(128+Xt(this,ps)).toString(16),"53","FF","FF"];Zt(this,hn,Hn).call(this,e,"status")}},{key:"dispense",value:function(e,t){var s=["02","30","30",(128+Xt(this,ps)).toString(16),"56",e.toString(),t.toString()],n=this;Zt(this,hn,Hn).call(this,s,"dispense"),setTimeout((function(){$t(n,Es,setInterval((function(){n.machineStatus()}),2e3))}),4e3)}},{key:"addMultiDispense",value:function(e,t,s,n){Xt(this,Gs).push({tray:e,channel:t,uuid:s,id:n})}},{key:"beginMultiDispense",value:function(){var e=this,t=!1;$t(this,Ys,!0),$t(this,_s,[]);for(var s=function(s){Xt(e,Gs).length-1===s&&(t=!0,setTimeout((function(){Zt(e,kn,Kn).call(e),setTimeout((function(){e.continueMultiple()}),10)}),50*(s+1))),setTimeout((function(){Zt(e,mn,$n).call(e,Xt(e,Gs)[s].tray,Xt(e,Gs)[s].channel,t)}),40*(s+1))},n=0;n<Xt(this,Gs).length;n++)s(n)}},{key:"continueMultiple",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Xt(this,vs))Xt(this,Js)<Xt(this,Gs).length+1&&setTimeout((function(){e.continueMultiple(t)}),1e3);else if(void 0!==Xt(this,Ss)&&0!==Xt(this,Ss)||void 0!==Xt(this,Ss)&&0!==Xt(this,Ss)||!(Xt(this,xs).length>0))Xt(this,xs).length>0&&setTimeout((function(){e.continueMultiple(t)}),1e3);else{if($t(this,Js,+Xt(this,Js)+1),$t(this,qs,0),$t(this,vs,!0),!0===t){var s=Xt(this,Js)-2;if($t(this,xs,Xt(this,_s)),s>0){$t(this,Js,Xt(this,Js)-1);var n=JSON.parse(JSON.stringify(Xt(this,_s)));$t(this,xs,Xt(this,xs).splice(s)),$t(this,_s,n)}}dd.log(dd.__("Dispensing product: ")+Xt(this,Js));var i=Xt(this,xs)[0].tray,a=Xt(this,xs)[0].channel,l=Xt(this,xs)[0].end;this.waitingForSense(0,0);var o=["02","30","30",(128+Xt(this,ps)).toString(16),"4D",i.toString(),a.toString()];Zt(this,hn,Hn).call(this,o,"multi_dispense"),$t(this,Ns,!(!0===l||"80"===i&&"80"===a)),setTimeout((function(){$t(e,Es,setInterval((function(){e.machineStatus()}),2e3))}),4e3),$t(this,xs,Xt(this,xs).splice(1))}}},{key:"isMultiple",value:function(){return Xt(this,xs).length>0}},{key:"multiDispenseQueue",get:function(){return Xt(this,xs)}},{key:"channelsMachine",get:function(){return Xt(this,ds)}},{key:"collect",value:function(){var e=["02","30","30",(128+Xt(this,ps)).toString(16),"4E","FF","FF"];Zt(this,hn,Hn).call(this,e,"collect")}},{key:"reset",value:function(e){var t=["02","30","30",(128+Xt(this,ps)).toString(16),"52",e,"FF"];Zt(this,hn,Hn).call(this,t,"reset")}},{key:"resetAll",value:function(){var e=this;if("function"==typeof window.Swal.fire){var t,s=this;Swal.fire({title:dd.__("Reset errors, wait..."),html:dd.__("The window will close automatically en [b] seconds").replaceAll("[b]","<b></b>"),timer:21e3,timerProgressBar:!0,allowOutsideClick:!1,didOpen:function(){setTimeout((function(){s.reset("80"),setTimeout((function(){s.reset("81"),setTimeout((function(){s.reset("FF")}),500)}),500)}),100),Swal.showLoading();var e=Swal.getHtmlContainer().querySelector("b");t=setInterval((function(){e.textContent=parseInt((1+Swal.getTimerLeft()/1e3).toString()).toString()}),1e3)},willClose:function(){clearInterval(t)}})}else this.reset("80"),setTimeout((function(){e.reset("81"),setTimeout((function(){e.reset("FF")}),500)}),500)}},{key:"lights",value:function(e){var t=["02","30","30",(128+Xt(this,ps)).toString(16),"4C",e,"FF"];Zt(this,hn,Hn).call(this,t,"light")}},{key:"program",value:function(e,t){var s=["02","30","30",(128+Xt(this,ps)).toString(16),"50",e,t];Zt(this,hn,Hn).call(this,s,"program")}},{key:"motorVoltage",value:function(e,t){var s=["02","30","30",(128+Xt(this,ps)).toString(16),"47",e,t];Zt(this,hn,Hn).call(this,s,"voltage")}},{key:"pushOutProduct",value:function(e,t){var s=["02","30","30",(128+Xt(this,ps)).toString(16),"4F",e,t];Zt(this,hn,Hn).call(this,s,"push_out")}},{key:"afterDispensing",value:function(e,t){var s=["02","30","30",(128+Xt(this,ps)).toString(16),"45",e,t];Zt(this,hn,Hn).call(this,s,"after_dispensing")}},{key:"consult",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FF",s=["02","30","30",(128+Xt(this,ps)).toString(16),"43",e,t];Zt(this,hn,Hn).call(this,s,"check_data")}},{key:"displayConfig",value:function(e,t){for(var s=["02","30","30",(128+Xt(this,ps)).toString(16),"44",e],n=0;n<t.length;n++)s.push(t[n]);Zt(this,hn,Hn).call(this,s,"display")}},{key:"watch",value:function(e){var t=["02","30","30",(128+Xt(this,ps)).toString(16),"72"];e.split(" ").forEach((function(e){t.push(e)})),Zt(this,hn,Hn).call(this,t,"watch")}},{key:"statusEvent",value:function(e){var t=["02","30","30",(128+Xt(this,ps)).toString(16),"41","41",e];Zt(this,hn,Hn).call(this,t,"event-status")}},{key:"custom",value:function(e){for(var t=[],s=e.split(" "),n=0;n<s.length;n++)t.push(dd.hexMaker(s[n]));Zt(this,hn,Hn).call(this,t,"custom")}},{key:"assignChannels",value:function(){var e=this;$t(this,Rs,Xt(this,Is)-Xt(this,Us)._channel_start_verification),$t(this,js,100*Xt(this,Ws)/Xt(this,Rs));var t=this;"function"==typeof Swal.fire&&(Swal.isVisible()||Swal.fire({title:"¡En proceso!",html:"¡Espera se están asignando los canales activos!. Este mensaje se cerrará cuando termine.<br/><b></b>",icon:"warning",showCancelButton:!1,showConfirmButton:!1,didOpen:function(){Swal.showLoading();var e=Swal.getHtmlContainer().querySelector("b");$t(t,Ls,setInterval((function(){e.textContent=Xt(t,js).format(0,3,",",".")+"%"}),100))},allowOutsideClick:!1})),Xt(this,Bs)<=Xt(this,Is)?($t(this,Fs,Xt(this,Bs)),this.consult("43",Xt(this,Bs).toString(16)),setTimeout((function(){$t(e,Bs,+Xt(e,Bs)+1),$t(e,Ws,+Xt(e,Ws)+1),e.assignChannels()}),700)):("function"==typeof Swal.fire&&Swal.isVisible()&&Swal.close(),$t(this,Bs,Xt(this,Us)._channel_start_verification),$t(this,Fs,void 0),$t(this,Ws,0),clearInterval(Xt(this,Ls)),$t(this,Ls,0),$t(this,Rs,0),$t(this,js,0),this.extActiveChannels(Xt(this,ds)))}},{key:"waitingForSense",value:function(e,t){var s=this;this.__sense_selection=e,this.__sense_id_movement=t;var n=this;$t(this,Ss,setInterval((function(){void 0===Xt(n,Ts)?(!0===Xt(n,Ys)?dd.log("dispensing... Multiple #timeout:",Xt(n,qs)+"/50"):dd.log("dispensing... #timeout:",Xt(n,qs)+"/50"),Xt(n,qs)>=50?($t(n,qs,0),$t(n,Ts,!1)):$t(n,qs,+Xt(n,qs)+1),!0===Xt(n,Ys)?n.extWaitingForSenseCart("undefined",Xt(n,Ns)):n.extWaitingForSense("undefined",Xt(n,Ns))):!0===Xt(n,Ts)?(n.clearSenseProduct(),!0===Xt(n,Ys)?(Xt(n,Gs).length+1!==Xt(n,Js)&&(dd.log(dd.__("Product dispensed successfully: "),Xt(n,Js)),$t(n,Ds,+Xt(n,Ds)+1)),void 0!==Xt(n,Gs)[Xt(n,Js)-1]&&n.extStockMinus(JSON.stringify({uuid:Xt(n,Gs)[Xt(n,Js)-1].uuid,id:Xt(n,Gs)[Xt(n,Js)-1].id})),Xt(n,Js)<Xt(n,Gs).length+1&&setTimeout((function(){Xt(n,fs)?(n.extPickupAndContinue(),clearInterval(Xt(n,bs)),$t(n,bs,void 0),$t(n,bs,setInterval((function(){var e=Xt(n,gs)/1e3;$t(s,gs,Xt(s,gs)-1e3),n.extPickupAndContinue(e),Xt(n,gs)<=0&&(clearInterval(Xt(n,bs)),$t(n,bs,void 0),$t(n,gs,0),$t(n,vs,!1),$t(n,fs,!1),n.continueMultiple(!0))}),1e3))):n.continueMultiple()}),400),Xt(n,Gs).length+1===Xt(n,Js)&&(dd.log(dd.__("Multi dispense finished, delivered: ")+Xt(n,Ds)),0===Xt(n,Ds)?n.extFailedStock():n.extWaitingForSenseCart("dispensed",{dispensed_quantity:Xt(n,Ds),arr_multi_dispense:Xt(n,Gs)}))):(dd.log("dispensing: "+Xt(n,Ts)),n.continueMultiple(),n.extWaitingForSense("dispensed",Xt(n,Ns)))):!1===Xt(n,Ts)&&(n.clearSenseProduct(),!0===Xt(n,Ys)?(Xt(n,Gs).length+1!==Xt(n,Js)&&dd.warn(dd.__("Product not-dispensed: "),Xt(n,Js)),void 0!==Xt(n,Gs)[Xt(n,Js)-1]&&n.extStockMinus(JSON.stringify({uuid:Xt(n,Gs)[Xt(n,Js)-1].uuid,id:Xt(n,Gs)[Xt(n,Js)-1].id,zero:!0})),Xt(n,Js)<Xt(n,Gs).length+1&&setTimeout((function(){Xt(n,fs)?(n.extPickupAndContinue(),clearInterval(Xt(n,bs)),$t(n,bs,void 0),$t(n,bs,setInterval((function(){var e=Xt(n,gs)/1e3;$t(s,gs,Xt(s,gs)-1e3),n.extPickupAndContinue(e),Xt(n,gs)<=0&&(clearInterval(Xt(n,bs)),$t(n,bs,void 0),$t(n,gs,0),$t(n,vs,!1),$t(n,fs,!1),n.continueMultiple(!0))}),1e3))):n.continueMultiple()}),400),Xt(n,Gs).length+1===Xt(n,Js)&&(dd.log(dd.__("Multi dispense finished, delivered: ")+Xt(n,Ds)),0===Xt(n,Ds)?n.extFailedStock():n.extWaitingForSenseCart("not-dispensed",{dispensed_quantity:Xt(n,Ds),arr_multi_dispense:Xt(n,Gs)}))):(n.continueMultiple(),n.extWaitingForSense("not-dispensed",Xt(n,Ns)))),"ELEVATOR"===Xt(n,Ts)&&(Xt(n,Gs).length+1!==Xt(s,Js)&&dd.warn(dd.__("Elevator full, pickup some products, will continue after 1 minute")),Xt(n,Js)<Xt(n,Gs).length+1?(dd.warn("Elevator full, pickup some products"),n.collect(),$t(n,Ts,void 0),n.clearSenseProduct(),setTimeout((function(){n.extPickupAndContinue(),clearInterval(Xt(n,bs)),$t(n,bs,void 0),$t(n,bs,setInterval((function(){var e=Xt(n,gs)/1e3;$t(s,gs,Xt(s,gs)-1e3),n.extPickupAndContinue(e),Xt(n,gs)<=0&&(clearInterval(Xt(n,bs)),$t(n,bs,void 0),$t(n,gs,0),$t(n,vs,!1),$t(n,fs,!1),n.continueMultiple(!0))}),1e3))}),400)):(dd.log(dd.__("Pickup all products from elevator, no more products will been dispensed")),n.collect(),$t(n,Ts,!0)))}),Xt(n,Hs)))}},{key:"waitingForSenseTest",value:function(e,t){this.__sense_selection=e,this.__sense_id_movement=t;var s=this;$t(s,Ss,setInterval((function(){void 0===Xt(s,Ts)?(dd.log("dispensing... #timeout:",Xt(s,qs)+"/50"),Xt(s,qs)>=50?($t(s,qs,0),$t(s,Ts,!1)):$t(s,qs,+Xt(s,qs)+1),s.extWaitingForSenseTest("undefined")):Xt(s,Ts)?(dd.log("dispensing: "+Xt(s,Ts)),s.clearSenseProduct(),s.extWaitingForSenseTest("dispensed")):Xt(s,Ts)||(s.clearSenseProduct(),s.extWaitingForSenseTest("not-dispensed"))}),Xt(s,Hs)))}},{key:"readCurrentTemperature",value:function(){var e=["02","30","30",(128+Xt(this,ps)).toString(16),"43","74","FF"];Zt(this,hn,Hn).call(this,e,"current temperature")}},{key:"readWorkingTemperature",value:function(){var e=["02","30","30",(128+Xt(this,ps)).toString(16),"43","54","FF"];Zt(this,hn,Hn).call(this,e,"working temperature")}},{key:"setWorkingTemperature",value:function(e){this.program("54",e);var t=this;setTimeout((function(){t.readWorkingTemperature()}),2e3)}},{key:"extSerialMessage",value:function(e){dd.log(e)}},{key:"extAppMessage",value:function(e){dd.log(e)}},{key:"extReconnectionMessage",value:function(){dd.log(dd.__("Trying reconnect"))}},{key:"extTimeoutMessage",value:function(e,t){dd.warn("Timeout",e,t)}},{key:"extConnectionLost",value:function(e){dd.log("Make your own function with this same name","Example: jof1.extConnectionLost = function(){console.log('stuffs')}")}},{key:"extSoftReload",value:function(){dd.log("Make your own function with this same name","Example: jof1.extSoftReload = function(){console.log('stuffs')}")}},{key:"extSentData",value:function(e){dd.log(e)}},{key:"extUnexpectedDisconnection",value:function(e){dd.warn(dd.__("There was an unexpected disconnection. an attempt was made to disconnect the port but it was already disconnected"),e)}},{key:"extDividedCodeMessage",value:function(e,t){dd.log(e,t)}},{key:"extDefaultLoad",value:function(){dd.log(dd.__("Change this function if you want do some after receive 'ok' in status request"))}},{key:"extWithDevice",value:function(){dd.log(dd.__("Device connected"))}},{key:"extWithoutDevice",value:function(){dd.log(dd.__("Without device"))}},{key:"extDoorOpen",value:function(){dd.log(dd.__("Door open"))}},{key:"extDoorClose",value:function(){dd.log(dd.__("Door closed"))}},{key:"extWorkingTemp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jof1_assigned_working_temp",s=document.getElementById(t);null!==s&&(s.innerText=dd.__("Current cutoff temperature: ")+e.temp+"°C"),dd.log(dd.__("Cutting temperature"),e)}},{key:"extCurrentTemp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jof1_current_temp",s=document.getElementById(t);null!==s&&(s.innerText=e.str),dd.log(e)}},{key:"extErrorDisplay",value:function(e){"error"===e.type?dd.error(e):dd.warn(e)}},{key:"extWaitingForSense",value:function(e){var t=this;switch(e){case"dispensed":dd.log('Result of dispense: "dispensed"'),setTimeout((function(){t.softReload()}),Xt(this,zs));break;case"not-dispensed":dd.log('not-Result of dispense: "dispensed"'),setTimeout((function(){t.softReload()}),Xt(this,zs))}}},{key:"extWaitingForSenseCart",value:function(e){var t=this;switch(e){case"dispensed":dd.log('Result of dispense: "dispensed"'),setTimeout((function(){t.softReload()}),Xt(this,zs));break;case"not-dispensed":dd.log('not-Result of dispense: "dispensed"'),setTimeout((function(){t.softReload()}),Xt(this,zs))}}},{key:"extWaitingForSenseTest",value:function(e){var t=this;switch(e){case"dispensed":dd.log('Result of test dispense: "dispensed"'),setTimeout((function(){t.softReload()}),Xt(this,zs));break;case"not-dispensed":dd.log('not-Result of test dispense: "not dispensed"'),setTimeout((function(){t.softReload()}),Xt(this,zs))}}},{key:"extActiveChannels",value:function(e){dd.log(e)}},{key:"extPickupAndContinue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e?dd.warn("pickup and continue started"):dd.warn("continue in "+e)}},{key:"extStockMinus",value:function(e){dd.log(e)}},{key:"extFailedStock",value:function(){dd.log("Nothing dispensed")}},{key:"extThermometer",value:function(e){switch(e.code){case 6027:dd.warn(e,"Will be remove the thermometer request"),this.program("54","80");break;case 6028:dd.warn(e);break;case 6029:dd.error(e)}dd.log("Nothing dispensed")}},{key:"extEmulate",value:function(e){Zt(this,yn,ei).call(this,e)}}],n&&Yt(s.prototype,n),i&&Yt(s,i),Object.defineProperty(s,"prototype",{writable:!1}),e}();function Sn(){Object.freeze(Xt(this,Us))}function En(){return Tn.apply(this,arguments)}function Tn(){return(Tn=zt(t().mark((function e(){var s,n,i,a,l,o=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=this._serial_filters,e.next=4,navigator.serial.getPorts({filters:s});case 4:if(!((n=e.sent).length>0)){e.next=46;break}if(e.prev=6,!(Xt(this,hs)<n.length)){e.next=21;break}if(i=Xt(this,hs),a=n[i].getInfo(),!(s.length>0)){e.next=18;break}if(a.usbProductId!==s[0].usbProductId||a.usbVendorId!==s[0].usbVendorId){e.next=15;break}$t(this,ts,n[i]),e.next=16;break;case 15:throw new Error("The port is already open.");case 16:e.next=19;break;case 18:$t(this,ts,n[i]);case 19:e.next=36;break;case 21:return $t(this,hs,0),e.prev=22,e.t0=$t,e.t1=this,e.t2=ts,e.next=28,navigator.serial.requestPort({filters:s});case 28:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3),e.next=36;break;case 32:return e.prev=32,e.t4=e.catch(22),Zt(this,en,Fn).call(this,e.t4),e.abrupt("return");case 36:if(Xt(this,ts)){e.next=38;break}throw new Error("Select another port please");case 38:e.next=44;break;case 40:return e.prev=40,e.t5=e.catch(6),Zt(this,en,Fn).call(this,e.t5),e.abrupt("return");case 44:e.next=60;break;case 46:return e.prev=46,e.t6=$t,e.t7=this,e.t8=ts,e.next=52,navigator.serial.requestPort({filters:s});case 52:e.t9=e.sent,(0,e.t6)(e.t7,e.t8,e.t9),e.next=60;break;case 56:return e.prev=56,e.t10=e.catch(46),Zt(this,en,Fn).call(this,e.t10),e.abrupt("return");case 60:e.next=65;break;case 62:e.prev=62,e.t11=e.catch(0),Zt(this,en,Fn).call(this,e.t11);case 65:return e.prev=65,Zt(this,tn,Wn).call(this,!0),e.next=69,Xt(this,ts).open(this._serial_config_port);case 69:return l=this,Xt(this,ts).ondisconnect=function(e){Zt(l,_n,Gn).call(l,e)},Xt(this,ts).onconnect=function(e){Zt(l,_n,Gn).call(l,e)},this.extSentData({message:"Jofemar  "+dd.__("Opening with"),hex:Xt(this,cs)}),$t(this,us,[]),$t(this,xs,[]),$t(this,ms,setTimeout(zt(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zt(o,Ks,Bn).call(o,Xt(o,cs),"connect_start");case 2:case"end":return e.stop()}}),e)}))),Xt(this,ws))),Zt(this,nn,Rn).call(this,Xt(this,cs)),e.next=79,Zt(this,Xs,Pn).call(this);case 79:e.next=84;break;case 81:e.prev=81,e.t12=e.catch(65),Zt(this,en,Fn).call(this,e.t12);case 84:return e.abrupt("return",0);case 85:case"end":return e.stop()}}),e,this,[[0,62],[6,40],[22,32],[46,56],[65,81]])})))).apply(this,arguments)}function Dn(){return Mn.apply(this,arguments)}function Mn(){return(Mn=zt(t().mark((function e(){var s,n=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Xt(this,ss)){e.next=8;break}return(s=Xt(this,ss).cancel())&&s.then((function(e){e&&dd.log(e)})).catch((function(e){Zt(n,en,Fn).call(n,e)})),e.next=6,Xt(this,ns);case 6:$t(this,ss,null),$t(this,ns,null);case 8:if(!Xt(this,as)){e.next=17;break}return e.next=11,Xt(this,as).getWriter().close();case 11:return e.next=13,Xt(this,as).getWriter().close();case 13:return e.next=15,Xt(this,is);case 15:$t(this,as,null),$t(this,is,null);case 17:$t(this,ts,null),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),Zt(this,en,Fn).call(this,e.t0);case 23:case"end":return e.stop()}}),e,this,[[0,20]])})))).apply(this,arguments)}function Pn(){return An.apply(this,arguments)}function An(){return(An=zt(t().mark((function e(){var s,n,i=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xt(this,ts).readable||!Xt(this,ls)){e.next=28;break}$t(this,ss,Xt(this,ts).readable.getReader()),e.prev=2;case 3:return e.next=6,Xt(this,ss).read();case 6:if(s=e.sent,n=s.value,!s.done){e.next=13;break}return Xt(this,ss).releaseLock(),$t(this,ls,!1),e.abrupt("break",18);case 13:Zt(this,sn,Ln).call(this,n),void 0!==Xt(this,rs)&&(clearTimeout(Xt(this,rs)),$t(this,rs,void 0)),$t(this,rs,setTimeout((function(){var e=[];for(var t in Xt(i,os))e.push(Xt(i,os)[t].toString(16));Xt(i,os)&&Zt(i,an,On).call(i,e),$t(i,os,new Uint8Array(0))}),400)),e.next=3;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),Zt(this,en,Fn).call(this,e.t0);case 23:return e.prev=23,Xt(this,ss).releaseLock(),e.finish(23);case 26:e.next=0;break;case 28:return $t(this,ls,!0),e.next=31,Xt(this,ts).close();case 31:case"end":return e.stop()}}),e,this,[[2,20,23,26]])})))).apply(this,arguments)}function Bn(e,t){return In.apply(this,arguments)}function In(){return(In=zt(t().mark((function e(s,n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._last_error.message=dd.__("Operation response timed out."),this._last_error.handler=n,this._last_error.code=s,clearTimeout(Xt(this,ms)),$t(this,ms,void 0),"connect"!==this._last_error.handler){e.next=10;break}Zt(this,bn,Zn).call(this),Zt(this,dn,Yn).call(this),e.next=17;break;case 10:if("connect_start"!==this._last_error.handler){e.next=17;break}return Zt(this,Zs,Dn).call(this),$t(this,es,!1),window["owl_jof"+Xt(this,ps)+"_connected"]=Xt(this,es),$t(this,hs,Xt(this,hs)+1),e.next=17,Zt(this,Vs,En).call(this);case 17:this.extTimeoutMessage(s,n);case 18:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Fn(e){var s=this;if(null===document.getElementById(_id_vl_btn_open_modal_permissions))return dd.error(e),void dd.error("_id_vl_btn_open_modal_permissions doesn't exist in DOM");e.toString().includes("Failed to execute 'requestPort' on 'Serial': Must be handling a user gesture to show a permission request")?(document.getElementById(window["_id_jof"+Xt(this,ps)+"_btn_connect_serial"]).classList.remove("hidden"),document.getElementById(_id_vl_btn_open_modal_permissions).click()):e.toString().includes("The port is already open.")?(dd.warn(dd.__("Failed to open serial port. Trying again.")),Zt(this,gn,Vn).call(this),Zt(this,Zs,Dn).call(this),setTimeout(zt(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $t(s,hs,Xt(s,hs)+1),e.next=3,Zt(s,Vs,En).call(s);case 3:case"end":return e.stop()}}),e)}))),500),document.getElementById(_id_vl_btn_open_modal_permissions).click()):e.toString().includes("Failed to execute 'open' on 'SerialPort': A call to open() is already in progress.")?dd.warn(dd.__("Failed to execute 'open' on 'SerialPort': A call to open() is already in progress.")):e.toString().includes("The port is closed.")?document.getElementById(_id_vl_btn_open_modal_permissions).click():e.toString().includes("Select another port please")||e.toString().includes("No port selected by the user")||e.toString().includes("Cannot read property 'writable' of null")?(document.getElementById(window["_id_jof"+Xt(this,ps)+"_btn_connect_serial"]).classList.remove("hidden"),document.getElementById(_id_vl_btn_open_modal_permissions).click()):e.toString().includes("Cannot read property 'writable' of undefined")?(document.getElementById(window["_id_jof"+Xt(this,ps)+"_btn_connect_serial"]).classList.remove("hidden"),Zt(this,bn,Zn).call(this),setTimeout(zt(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.initSerial();case 2:case"end":return e.stop()}}),e)}))),100)):e.toString().includes("The device has been lost")?(document.getElementById(window["_id_jof"+Xt(this,ps)+"_btn_connect_serial"]).classList.remove("hidden"),Zt(this,bn,Zn).call(this)):e.toString().includes("Failed to open serial port")?(dd.warn(dd.__("Failed to open serial port. Trying again.")),Zt(this,bn,Zn).call(this),Zt(this,Zs,Dn).call(this),setTimeout(zt(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zt(s,Vs,En).call(s);case 2:case"end":return e.stop()}}),e)}))),500)):e.toString().includes("Cannot read properties of undefined (reading 'writable')")?(dd.warn(dd.__("The port isn't open.")),Zt(this,bn,Zn).call(this),Zt(this,Zs,Dn).call(this),setTimeout(zt(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zt(s,Vs,En).call(s);case 2:case"end":return e.stop()}}),e)}))),500)):e.toString().includes("Cannot read properties of null (reading 'writable')")?(dd.warn(dd.__("The port isn't open.")),Zt(this,bn,Zn).call(this),Zt(this,Zs,Dn).call(this),setTimeout(zt(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zt(s,Vs,En).call(s);case 2:case"end":return e.stop()}}),e)}))),500)):e.toString().includes("navigator.serial is undefined")?document.getElementById(Xt(this,As)).classList.remove("hidden"):e.toString().includes("This readable stream reader has been released and cannot be used to cancel its previous owner stream")?(document.getElementById(window["_id_jof"+Xt(this,ps)+"_btn_connect_serial"]).classList.remove("hidden"),Zt(this,bn,Zn).call(this),dd.checkDevicesConnected(),this.extUnexpectedDisconnection(e)):dd.error(e)}function Wn(e){$t(this,es,e),window["owl_jof"+Xt(this,ps)+"_connected"]=Xt(this,es),dd.setDeviceStatus("jofemar",Xt(this,ps),e);var t=dd.__("Connect");if(e?t=dd.__("Disconnect"):(this.__connected_devices-=1,dd.checkDevicesConnected()),null!==this._serial_btn_connect_serial)for(var s=0;s<this._serial_btn_connect_serial.length;s++)this._serial_btn_connect_serial[s].textContent=t}function Ln(e){if(void 0!==e){var t=new Uint8Array(Xt(this,os).length+e.byteLength);t.set(Xt(this,os),0),t.set(new Uint8Array(e),Xt(this,os).length),$t(this,os,t)}}function Rn(e){try{var t=new Uint8Array(e),s=Xt(this,ts).writable.getWriter();s.write(t).then((function(e){e&&dd.log(e)})),s.releaseLock()}catch(e){Zt(this,en,Fn).call(this,e)}}function On(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0===e)Zt(this,pn,zn).call(this,t);else if(e&&e.length>0){var s=!1;Xt(this,es)||(s=!0),$t(this,es,!0),window["owl_jof"+Xt(this,ps)+"_connected"]=Xt(this,es),void 0!==Xt(this,Cs)&&(clearInterval(Xt(this,Cs)),$t(this,Cs,void 0)),clearTimeout(Xt(this,ms)),$t(this,ms,void 0),Zt(this,cn,qn).call(this,e,s)}else Zt(this,vn,Qn).call(this,e,t)}function jn(e){var t=this;"open"===e?this.extDoorOpen():"close"===e?(this.extDoorClose(),this.clearSenseProduct(),setTimeout((function(){t.resetAll()}),100)):dd.error(dd.__("Type unrecognized",e))}function Nn(e){var t=null,s=null,n=!1,i=!1;switch(e){case"35":n=!0,s=dd.__("Elevator motor failure (possible jam)");break;case"37":n=!0,s=dd.__("Failure in one of the photo transistors in the tank.");break;case"38":n=!0,s=dd.__("No channel detected.");break;case"44":n=!0,s=dd.__("Button panel fault.");break;case"45":n=!0,s=dd.__("WRITING ERROR TO EEPROM.");break;case"47":n=!0,s=dd.__("THERMOMETER DISCONNECTED.");break;case"4A":n=!0,s=dd.__("ERROR IN DETECTION OF EXTRACTOR CONSUMPTION.");break;case"4C":n=!0,s=dd.__("PRODUCT OUTLET SEARCH ERROR.");break;case"4D":n=!0,s=dd.__("INTERIOR OF ELEVATOR BLOCKED.");break;case"4E":n=!0,s=dd.__("ERROR IN PRODUCT DETECTOR CHECKER.")}if(Xt(this,Os))switch(t=n?dd.__("Error in machine")+" "+Xt(this,ps):dd.__("Warning in machine")+" "+Xt(this,ps),e){case"32":i=!0,s=dd.__("This tray is invalid.");break;case"33":i=!0,s=dd.__("invalid channel.");break;case"34":i=!0,s=dd.__("empty channel.");break;case"39":i=!0,s=dd.__("Product detector fault.");break;case"41":i=!0,s=dd.__("Failure on the 485 bus (ignore if it does not have a display).");break;case"43":i=!0,s=dd.__("Elevator adjustment alarm at 24v.");break;case"46":i=!0,s=dd.__("COMMUNICATION ERROR WITH THE CONTROL TEMPERATURE.");break;case"48":i=!0,s=dd.__("THERMOMETER UNCONFIGURED.");break;case"49":i=!0,s=dd.__("FAULTY THERMOMETER.");break;case"4B":i=!0,s=dd.__("CHANNEL SEARCH ERROR.");break;case"50":i=!0,s=dd.__("PRODUCT EXPIRED BY TEMPERATURE.")}else n&&(t=dd.__("Error in machine")+" "+Xt(this,ps));(n||i)&&this.extErrorDisplay({title:t,message:s,type:n?"error":"warn"})}function Un(e){var t={message:null,description:null,request:null,code:5999,additional:null};switch(e[1].toString().toUpperCase()){case"30":t.message=dd.__("Machine ready"),t.description=dd.__("The machine is now ready"),t.code=6010,void 0!==Xt(this,Es)&&($t(this,Ts,!0),clearInterval(Xt(this,Es)),$t(this,Es,void 0),$t(this,vs,!1));break;case"31":t.message=dd.__("Machine busy"),t.description=dd.__("The machine is now busy with other thing"),t.code=6011;break;case"32":t.message=dd.__("Invalid tray"),t.description=dd.__("The tray requested is invalid"),t.code=6012,void 0!==Xt(this,Es)&&($t(this,Ts,!1),dd.error(dd.__("Invalid Tray requested")),clearInterval(Xt(this,Es)),$t(this,Es,void 0),$t(this,vs,!1));break;case"33":t.message=dd.__("Invalid Channel"),t.description=dd.__("The channel was invalid for use"),t.code=6013,void 0!==Xt(this,Es)&&($t(this,Ts,!1),dd.error(dd.__("Invalid channel requested")),clearInterval(Xt(this,Es)),$t(this,Es,void 0),$t(this,vs,!1));break;case"34":t.message=dd.__("Empty Channel"),t.description=dd.__("The channel is empty right now, reset errors if that not the case"),t.code=6014,void 0!==Xt(this,Es)&&($t(this,Ts,!1),clearInterval(Xt(this,Es)),$t(this,Es,void 0),$t(this,vs,!1));break;case"35":t.message=dd.__("Jam"),t.description=dd.__("Jam in engine of elevator"),t.code=6015,void 0!==Xt(this,Es)&&($t(this,Ts,!1),dd.error(dd.__("Jam in engine of elevator")),clearInterval(Xt(this,Es)),$t(this,Es,void 0),$t(this,vs,!1));break;case"36":t.message=dd.__("Malfunction"),t.description=dd.__("Malfunction in the elevator belt or product detector"),t.code=6016,void 0!==Xt(this,Es)&&($t(this,Ts,!1),dd.error(dd.__("Malfunction in the elevator belt or product detector")),clearInterval(Xt(this,Es)),$t(this,Es,void 0),$t(this,vs,!1));break;case"37":t.message=dd.__("Phototransistors"),t.description=dd.__("Failure in one of the phototransistors in the cabinet (Cabinet)"),t.code=6017,void 0!==Xt(this,Es)&&($t(this,Ts,!1),dd.error(dd.__("Failure in one of the phototransistors in the cabinet (Cabinet)")),clearInterval(Xt(this,Es)),$t(this,Es,void 0),$t(this,vs,!1));break;case"38":t.message=dd.__("Empty channels"),t.description=dd.__("no channel detected"),t.code=6018,void 0!==Xt(this,Es)&&($t(this,Ts,!1),dd.error(dd.__("no channel detected")),clearInterval(Xt(this,Es)),$t(this,Es,void 0),$t(this,vs,!1));break;case"39":t.message=dd.__("Product detector fault"),t.description=dd.__("Product detector fault"),t.code=6019,void 0!==Xt(this,Es)&&($t(this,Ts,"ELEVATOR"),clearInterval(Xt(this,Es)),$t(this,Es,void 0),this.collect(),$t(this,vs,!1),$t(this,fs,!0),$t(this,gs,6e4));break;case"40":t.message="I dont know",t.description="If you know... well change this",t.code=6020;break;case"41":t.message=dd.__("485 BUS fault"),t.description=dd.__("Display of machine is disconnected"),t.code=6021,void 0!==Xt(this,Es)&&($t(this,Ts,!0),clearInterval(Xt(this,Es)),$t(this,Es,void 0),$t(this,vs,!1));break;case"42":t.message=dd.__("Product under elevator"),t.description=dd.__("Product alarm under the elevator"),t.code=6022;break;case"43":t.message=dd.__("Elevator setting alarm"),t.description=dd.__("Elevator setting alarm A24V"),t.code=6023;break;case"44":t.message=dd.__("Button panel fault"),t.description=dd.__("Button panel fault"),t.code=6024;break;case"45":t.message=dd.__("Write error in EEPROM"),t.description=dd.__("Write error in EEPROM"),t.code=6025;break;case"46":t.message=dd.__("Error temperature control"),t.description=dd.__("Communication error with temperature control"),t.code=6026;break;case"47":t.message=dd.__("Thermometer disconnected"),t.description=dd.__("Thermometer disconnected"),t.code=6027,this.extThermometer(t);break;case"48":t.message=dd.__("Thermometer misconfigured"),t.description=dd.__("Thermometer misconfigured"),t.code=6028,this.extThermometer(t);break;case"49":t.message=dd.__("Thermometer fault"),t.description=dd.__("Thermometer fault"),t.code=6029,this.extThermometer(t);break;case"4A":t.message=dd.__("Error extractor consumption"),t.description=dd.__("Extractor consumption detection error"),t.code=6030;break;case"4B":t.message=dd.__("Channel search error"),t.description=dd.__("Channel search error"),t.code=6031;break;case"4C":t.message=dd.__("Product exit mouth search error"),t.description=dd.__("Product exit mouth search error"),t.code=6032;break;case"4D":t.message=dd.__("Elevator interior locked"),t.description=dd.__("Elevator interior locked"),t.code=6033;break;case"4E":t.message=dd.__("Product detector verifier error"),t.description=dd.__("Product detector verifier error"),t.code=6034,void 0!==Xt(this,Es)&&($t(this,Ts,!1),clearInterval(Xt(this,Es)),$t(this,Es,void 0),this.collect(),$t(this,vs,!1));break;case"4F":t.message=dd.__("Waiting for product recall"),t.description=dd.__("Waiting for product recall"),t.code=6035,void 0!==Xt(this,Es)&&($t(this,Ts,"ELEVATOR"),clearInterval(Xt(this,Es)),$t(this,Es,void 0),this.collect(),$t(this,vs,!1),$t(this,fs,!0),$t(this,gs,6e4));break;case"50":t.message=dd.__("Product expired by temperature"),t.description=dd.__("Product expired by temperature"),t.code=6036;break;case"51":t.message=dd.__("Faulty automatic door"),t.description=dd.__("Faulty automatic door"),t.code=6037}return Zt(this,on,Nn).call(this,e[1].toString().toUpperCase()),t}function qn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s={},n={},i=this;switch(e[0].toString().toUpperCase()){case"2":if(e[1]&&e[2]){var a={message:null,description:null,request:"event",code:6100,additional:null};switch(n={machine:{hex:null,desc:null}},e[1]&&(n.machine.hex=e[1],n.machine.dec=dd.hexToDec(e[1])-128),e[2].toString().toUpperCase()){case"54":switch(n.key={hex:e[3],dec:dd.hexToDec(e[3]),ascii:null},e[3].toString().toUpperCase()){case"31":n.key.ascii="1";break;case"32":n.key.ascii="2";break;case"33":n.key.ascii="3";break;case"34":n.key.ascii="4";break;case"35":n.key.ascii="5";break;case"36":n.key.ascii="6";break;case"37":n.key.ascii="7";break;case"38":n.key.ascii="8";break;case"39":n.key.ascii="9";break;case"30":n.key.ascii="0";break;case"2A":n.key.ascii="*";break;case"23":n.key.ascii="#";break;case"41":n.key.ascii="A";break;case"42":n.key.ascii="B";break;case"43":n.key.ascii="C";break;case"44":n.key.ascii="D"}a.message=dd.__("Key pressed");var l=dd.__("The key {{key_pressed}} was pressed in the machine");l=l.replaceAll("{{key_pressed}}",n.key.ascii),a.description=l,a.additional=dd.__("Complete code received: ")+JSON.stringify(e),a.code=6101;break;case"50":switch(e[3].toString().toUpperCase()){case"4F":Zt(this,ln,jn).call(this,"open"),a.message=dd.__("Door open"),a.description=dd.__("The door of machine was open"),a.code=6102,n.door={},n.door.status="open";break;case"43":Zt(this,ln,jn).call(this,"close"),a.message=dd.__("Door closed"),a.description=dd.__("The door of machine was closed"),a.code=6103,n.door={},n.door.status="closed"}break;case"43":switch(e[3].toString().toUpperCase()){case"43":e[4].toString().toUpperCase(),a.code=6115,"FD"===e[5].toString().toUpperCase()?(a.message=dd.__("Disabled"),a.description=dd.__("This channel is disconnected"),n.machine.channel=Xt(this,Fs),n.machine.status=0):"FC"===e[5].toString().toUpperCase()?(a.message=dd.__("Enabled"),a.description=dd.__("This channel is enabled"),n.machine.channel=Xt(this,Fs),n.machine.status=1):(a.message=dd.__("Sold out"),a.description=dd.__("This channel is empty"),n.machine.channel=Xt(this,Fs),n.machine.status=1),a.additional=JSON.stringify(n),Xt(i,ds).push({machine:Xt(i,ps),selection:Xt(this,Fs),status:n.machine.status});break;case"54":n.working_temp=e[4],n.temp=(dd.hexToDec(e[4])-dd.hexToDec("80"))/2,this.extWorkingTemp(n,"jof"+Xt(this,ps)+"_assigned_working_temp");break;case"74":switch(e[4].toString().toUpperCase()){case"2B":n.sign="+";break;case"2E":n.sign="-";break;default:n.sign=null}switch(e[5].toString().toUpperCase()){case"30":case"31":case"32":case"33":case"34":case"35":case"36":case"37":case"38":case"39":n.temp_tens=dd.hexToDec(e[5])-48;break;default:n.temp_tens=null}switch(e[6].toString().toUpperCase()){case"30":case"31":case"32":case"33":case"34":case"35":case"36":case"37":case"38":case"39":n.temp_units=dd.hexToDec(e[6])-48;break;default:n.temp_units=null}switch(n.dec_point="?","2E"===e[7].toString().toUpperCase()&&(n.dec_point="."),e[8].toString().toUpperCase()){case"30":case"31":case"32":case"33":case"34":case"35":case"36":case"37":case"38":case"39":n.temp_decimals=dd.hexToDec(e[8])-48;break;default:n.temp_decimals=null}n.degradees="?","7F"===e[9].toString().toUpperCase()&&(n.degradees="°"),n.type_degradees="?","43"===e[10].toString().toUpperCase()?n.type_degradees="C":"46"===e[10].toString().toUpperCase()&&(n.type_degradees="F"),n.str=n.sign+n.temp_tens+n.temp_units+n.dec_point+n.temp_decimals+n.degradees+n.type_degradees,this.extCurrentTemp(n,"jof"+Xt(this,ps)+"_current_temp")}}s=a}else s.name=dd.__("Ok"),s.description=dd.__("The last command was executed successfully"),s.request=null,s.no_code=6001,s.additional=dd.__("Usually this happens when the request is made, however; You must begin to request the 'status' of the machine until it responds.");break;case"6":t&&dd.checkDevicesConnected(),e[1]&&!e[2]?s=Zt(this,rn,Un).call(this,e):e[1]?(s.name=dd.__("Ok"),s.description=dd.__("The last command was executed successfully"),s.request=null,s.code=6001,s.additional=dd.__("Usually this happens when the request is made, however; You must begin to request the 'status' of the machine until it responds.")):(s.name=dd.__("Ok"),s.description=dd.__("The last command was executed successfully"),s.request=null,s.no_code=6001,s.additional=dd.__("Usually this happens when the request is made, however; You must begin to request the 'status' of the machine until it responds."),void 0!==Xt(this,Es)&&($t(this,Ts,!1),clearInterval(Xt(this,Es)),$t(this,Es,void 0)));break;case"15":s.name=dd.__("Error"),s.description=dd.__("The CheckSum is incorrect"),s.request=null,s.code=6e3,s.additional=dd.__("One or both checksums are wrong, please check the calculation.");break;default:s.request=dd.__("undefined"),s.name=dd.__("Response unrecognized"),s.description=dd.__("The response of application was received, but dont identify with any of current parameters"),s.no_code=404}this.extSerialMessage({code:e,message:s.name,description:s.description,request:s.request,no_code:s.no_code})}function zn(e){clearTimeout(Xt(this,ms));var t={};switch(t.name="",t.description="",e.no_code){case 700:t.name=e.message,t.description=dd.__("The application connect successfully with website");break;case 701:t.name=e.message,t.description=dd.__("The connection with the serial device was ended by system request");break;case 702:t.name=e.message,t.description=dd.__("The last instruction is not compatible with this version of the application");break;case 703:Zt(this,bn,Zn).call(this),t.name=dd.__("Serial device disconnected"),t.description=e.description;break;case 704:t.name=e.message,t.description=e.description;break;case 705:Zt(this,bn,Zn).call(this),t.name=dd.__("Connection with the serial device is not complete"),t.description=dd.__("Check the device is connected correctly");break;case 706:t.name=e.message,t.description=dd.__("The port was not linked to the serial device, so we closed");break;case 707:t.name=e.message,t.description=dd.__("The response was not received in the time specified by the application");break;default:t.name=e.message,t.description=dd.__("Oops! you ran into an unknown error")}this.extAppMessage({message:t.name,description:t.description,no_code:e.no_code})}function Hn(e){var s=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=[];e.forEach((function(e){i.push(dd.hexMaker(e))})),i=dd.jofemarMakeBytes(i),void 0!==Xt(this,ms)?(Xt(this,us).push({bytes:i,to_do:n}),dd.warn(dd.__("You send a new command to serial device before have an answer")+". "+dd.__("Commands in queue:")+" "+Xt(this,us).length),$t(this,Ms,setInterval((function(){void 0===Xt(s,ms)&&Xt(s,us).length>0&&(dd.log(dd.__("Sending in delay mode")+". "+dd.__("Commands in queue:")+" "+Xt(s,us).length),clearInterval(Xt(s,Ms)),$t(s,Ms,void 0),$t(s,ms,setTimeout(zt(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xt(s,us)[0].bytes){e.next=3;break}return e.next=3,Zt(s,Ks,Bn).call(s,Xt(s,us)[0].bytes,Xt(s,us)[0].to_do);case 3:case"end":return e.stop()}}),e)}))),"dispense"===Xt(s,us)[0].to_do?Xt(s,ys):Xt(s,ks))),s.extSentData({message:n,hex:Xt(s,us)[0].bytes}),Zt(s,nn,Rn).call(s,Xt(s,us)[0].bytes),$t(s,us,Xt(s,us).splice(1)))}),500))):($t(this,us,[]),$t(this,ms,setTimeout(zt(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zt(s,Ks,Bn).call(s,i,n);case 2:case"end":return e.stop()}}),e)}))),Xt(this,"dispense"===n?ys:ks))),this.extSentData({message:n,hex:i}),Zt(this,nn,Rn).call(this,i))}function Yn(){this.extReconnectionMessage()}function Jn(e){$t(this,es,!1),window["owl_jof"+Xt(this,ps)+"_connected"]=Xt(this,es),dd.warn(e),this.extConnectionLost(e)}function Gn(e){var s=this;$t(this,es,!1),window["owl_jof"+Xt(this,ps)+"_connected"]=Xt(this,es),Zt(this,un,Jn).call(this,e),$t(this,hs,0),setTimeout(zt(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.disconnect();case 2:case"end":return e.stop()}}),e)}))),100)}function Qn(e,t){this.extDividedCodeMessage(e,t)}function Vn(){this.extWithDevice()}function Zn(){this.extWithoutDevice()}function $n(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Xt(this,xs).push({tray:e,channel:t,end:s}),Zt(this,wn,Xn).call(this,e,t,s)}function Xn(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Xt(this,_s).push({tray:e,channel:t,end:s})}function Kn(){Zt(this,mn,$n).call(this,"80","80",!0)}function ei(e){"object"===Ut(e.code)?(dd.warn(dd.__("Executing emulator be carefully")),Xt(this,es)||($t(this,es,!0),window["owl_jof"+Xt(this,ps)+"_connected"]=Xt(this,es),void 0!==Xt(this,Cs)&&(clearInterval(Xt(this,Cs)),$t(this,Cs,void 0))),clearTimeout(Xt(this,ms)),$t(this,ms,void 0),Zt(this,cn,qn).call(this,e.code)):dd.error(dd.__("Invalid data to emulate"))}function ti(e){return ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ti(e)}function si(e,t,s,n,i,a,l){try{var o=e[a](l),r=o.value}catch(e){return void s(e)}o.done?t(r):Promise.resolve(r).then(n,i)}function ni(e){return function(){var t=this,s=arguments;return new Promise((function(n,i){var a=e.apply(t,s);function l(e){si(a,n,i,l,o,"next",e)}function o(e){si(a,n,i,l,o,"throw",e)}l(void 0)}))}}function ii(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ai(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function li(e,t){ri(e,t),t.add(e)}function oi(e,t,s){ri(e,t),t.set(e,s)}function ri(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ci(e,t,s){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return s}function pi(e,t,s){return function(e,t,s){if(t.set)t.set.call(e,s);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=s}}(e,di(e,t,"set"),s),s}function hi(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,di(e,t,"get"))}function di(e,t,s){if(!t.has(e))throw new TypeError("attempted to "+s+" private field on non-instance");return t.get(e)}var ui=new WeakMap,xi=new WeakMap,_i=new WeakMap,vi=new WeakMap,fi=new WeakMap,gi=new WeakMap,bi=new WeakMap,mi=new WeakMap,wi=new WeakMap,ki=new WeakMap,yi=new WeakMap,Ci=new WeakMap,Si=new WeakMap,Ei=new WeakMap,Ti=new WeakMap,Di=new WeakMap,Mi=new WeakMap,Pi=new WeakMap,Ai=new WeakMap,Bi=new WeakMap,Ii=new WeakMap,Fi=new WeakMap,Wi=new WeakMap,Li=new WeakMap,Ri=new WeakMap,Oi=new WeakMap,ji=new WeakMap,Ni=new WeakMap,Ui=new WeakMap,qi=new WeakSet,zi=new WeakSet,Hi=new WeakSet,Yi=new WeakSet,Ji=new WeakSet,Gi=new WeakSet,Qi=new WeakSet,Vi=new WeakSet,Zi=new WeakSet,$i=new WeakSet,Xi=new WeakSet,Ki=new WeakSet,ea=new WeakSet,ta=new WeakSet,sa=new WeakSet,na=new WeakSet,ia=new WeakSet,aa=new WeakSet,la=new WeakSet,oa=new WeakSet,ra=new WeakMap,ca=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ii(this,e),li(this,oa),li(this,la),li(this,aa),li(this,ia),li(this,na),li(this,sa),li(this,ta),li(this,ea),li(this,Ki),li(this,Xi),li(this,$i),li(this,Zi),li(this,Vi),li(this,Qi),li(this,Gi),li(this,Ji),li(this,Yi),li(this,Hi),li(this,zi),li(this,qi),oi(this,ui,{writable:!0,value:!1}),oi(this,xi,{writable:!0,value:void 0}),oi(this,_i,{writable:!0,value:void 0}),oi(this,vi,{writable:!0,value:void 0}),oi(this,fi,{writable:!0,value:void 0}),oi(this,gi,{writable:!0,value:void 0}),oi(this,bi,{writable:!0,value:void 0}),oi(this,mi,{writable:!0,value:!0}),oi(this,wi,{writable:!0,value:new Uint8Array(0)}),oi(this,ki,{writable:!0,value:void 0}),oi(this,yi,{writable:!0,value:dd.setLockerConnectionConstant(1)}),oi(this,Ci,{writable:!0,value:1}),oi(this,Si,{writable:!0,value:0}),oi(this,Ei,{writable:!0,value:void 0}),oi(this,Ti,{writable:!0,value:500}),oi(this,Di,{writable:!0,value:void 0}),oi(this,Mi,{writable:!0,value:void 0}),oi(this,Pi,{writable:!0,value:"_id_vl_not_support"}),oi(this,Ai,{writable:!0,value:{_interval_reconnection:void 0,_timer_until_response:void 0,_status_dispense:void 0,_time_response_general:2e3,_time_response_connect_start:500,_time_to_reconnect:7e3,_last_error:{message:null,handler:null,code:null,no_code:666}}}),oi(this,Bi,{writable:!0,value:[]}),oi(this,Ii,{writable:!0,value:{baudRate:9600,dataBits:8,stopBits:1,parity:"none",bufferSize:32768,flowControl:"none"}}),oi(this,Fi,{writable:!0,value:7e3}),oi(this,Wi,{writable:!0,value:void 0}),oi(this,Li,{writable:!0,value:2e3}),oi(this,Ri,{writable:!0,value:null}),oi(this,Oi,{writable:!0,value:null}),oi(this,ji,{writable:!0,value:[]}),oi(this,Ni,{writable:!0,value:!0}),oi(this,Ui,{writable:!0,value:{message:null,handler:null,code:null,no_code:666}}),oi(this,ra,{writable:!0,value:{open:{g1:["02","09","40","03","01","74","26","B0","5C","A0","4A","03","1E"],g2:["02","09","40","03","02","A1","35","08","E3","08","CE","03","F0"],g3:["02","09","40","03","03","29","63","B8","7B","48","0D","03","84"],g4:["02","09","40","03","04","64","21","48","2C","20","20","03","6E"],g5:["02","09","40","03","05","0D","04","C0","27","68","68","03","A0"],g6:["02","09","40","03","06","BE","94","A0","3A","F0","25","03","28"],g7:["02","09","40","03","07","93","86","10","B9","98","84","03","EC"],g8:["02","09","40","03","08","75","7C","40","5F","A8","43","03","BE"],g9:["02","09","40","03","09","61","75","C8","23","08","D5","03","60"],g10:["02","09","40","03","0A","C6","97","B8","52","30","A4","03","6E"],g11:["02","09","40","03","0B","ED","A4","40","C7","68","0E","03","E8"],g12:["02","09","40","03","0C","0A","58","C0","1E","50","9F","03","04"],g13:["02","09","40","03","0D","4A","18","00","DE","50","A0","03","3A"],g14:["02","09","40","03","0E","5A","1E","70","0E","D0","D7","03","78"],g15:["02","09","40","03","0F","94","31","88","BC","A0","BB","03","CE"],g16:["02","09","40","03","10","B4","E6","70","1C","A0","D9","03","1C"],g17:["02","09","40","03","11","7D","29","E8","77","E8","01","03","78"],g18:["02","09","40","03","12","D6","F2","90","82","B0","9F","03","40"],g19:["02","09","40","03","13","48","C2","90","D8","40","C8","03","12"],g20:["02","09","40","03","14","BC","3E","30","34","E0","55","03","6C"],g21:["02","09","40","03","15","A0","35","A8","E0","00","75","03","F6"],g22:["02","09","40","03","16","A4","E1","C8","EC","20","72","03","6E"],g23:["02","09","40","03","17","8A","83","D8","9E","50","ED","03","AE"],g24:["02","09","40","03","18","3E","14","20","BA","F0","37","03","24"],g25:["02","09","40","03","19","43","C1","68","C9","18","69","03","00"],g26:["02","09","40","03","1A","E1","F5","08","A3","08","A6","03","40"],g27:["02","09","40","03","1B","16","07","78","42","B0","A5","03","6E"],g28:["02","09","40","03","1C","0C","04","60","24","60","13","03","68"],g29:["02","09","40","03","1D","54","1C","60","FC","A0","8C","03","AE"],g30:["02","09","40","03","1E","8F","85","48","AD","78","A2","03","60"],g31:["02","09","40","03","1F","13","06","10","39","98","1C","03","EC"],g32:["02","09","40","03","20","88","D8","80","98","40","DB","03","B8"],g33:["02","09","40","03","21","2D","B9","68","87","68","61","03","18"],g34:["02","09","40","03","22","32","10","00","96","90","8D","03","C0"],g35:["02","09","40","03","23","0F","5A","30","2D","78","64","03","3C"],g36:["02","09","40","03","24","E7","A2","B0","B5","38","4D","03","5A"],g37:["02","09","40","03","25","71","D0","A0","53","88","E4","03","50"],g38:["02","09","40","03","26","19","08","A0","4B","C8","FD","03","A2"],g39:["02","09","40","03","27","96","87","78","C2","B0","31","03","46"],g40:["02","09","40","03","28","ED","F9","28","C7","68","68","03","98"],g41:["02","09","40","03","29","11","5B","F8","33","88","4B","03","20"],g42:["02","09","40","03","2A","5E","1F","F8","1A","F0","AC","03","9E"],g43:["02","09","40","03","2B","5A","73","58","0E","D0","31","03","FE"],g44:["02","09","40","03","2C","24","0C","A0","6C","20","8B","03","28"],g45:["02","09","40","03","2D","DF","F5","88","9D","F8","21","03","80"],g46:["02","09","40","03","2E","9D","34","80","D7","E8","41","03","32"],g47:["02","09","40","03","2F","9F","35","08","DD","F8","E3","03","00"],g48:["02","09","40","03","30","DF","4A","F0","9D","F8","E1","03","9A"],g49:["02","09","40","03","31","66","CC","20","32","30","E8","03","1A"],g50:["02","09","40","03","32","00","AA","90","00","00","6F","03","2C"],g51:["02","09","40","03","33","C7","42","70","55","38","3C","03","DC"],g52:["02","09","40","03","34","CA","43","18","5E","50","0A","03","EA"],g53:["02","09","40","03","35","AD","39","68","07","68","F5","03","18"],g54:["02","09","40","03","36","19","B3","F8","4B","C8","10","03","BC"],g55:["02","09","40","03","37","47","17","18","D5","38","BD","03","64"],g56:["02","09","40","03","38","31","65","08","93","88","F4","03","C0"],g57:["02","09","40","03","39","19","08","60","4B","C8","D0","03","50"],g58:["02","09","40","03","3A","58","72","D0","08","C0","9F","03","DC"],g59:["02","09","40","03","3B","B9","E8","E0","2B","C8","B2","03","90"],g60:["02","09","40","03","3C","E5","A1","68","AF","28","04","03","D8"],g61:["02","09","40","03","3D","95","31","28","BF","A8","95","03","78"],g62:["02","09","40","03","3E","A8","38","00","F8","40","59","03","04"],g63:["02","09","40","03","3F","EE","A4","60","CA","70","6E","03","8A"],g64:["02","09","40","03","40","25","0C","C0","6F","28","CB","03","6E"],g65:["02","09","40","03","41","C2","96","F0","46","10","E2","03","1A"],g66:["02","09","40","03","42","F0","A5","68","D0","80","92","03","F6"],g67:["02","09","40","03","43","4F","C5","88","ED","78","47","03","D8"],g68:["02","09","40","03","44","0C","04","60","24","60","3B","03","18"],g69:["02","09","40","03","45","DA","F3","D8","8E","D0","4B","03","EA"],g70:["02","09","40","03","46","31","BB","38","93","88","88","03","2C"],g71:["02","09","40","03","47","5F","CA","B0","1D","F8","38","03","F4"],g72:["02","09","40","03","48","F5","51","E8","DF","A8","00","03","38"],g73:["02","09","40","03","49","0C","04","A0","24","60","80","03","6E"],g74:["02","09","40","03","4A","40","15","E8","C0","00","4A","03","36"],g75:["02","09","40","03","4B","67","CD","C8","35","38","B7","03","D8"],g76:["02","09","40","03","4C","2D","64","80","87","68","4F","03","6E"],g77:["02","09","40","03","4D","F1","A5","48","D3","88","89","03","C8"],g78:["02","09","40","03","4E","30","65","68","90","80","5E","03","76"],g79:["02","09","40","03","4F","C3","EB","38","49","18","99","03","DC"],g80:["02","09","40","03","50","2C","B9","08","84","60","24","03","46"],g81:["02","09","40","03","51","3C","14","20","B4","E0","58","03","1E"],g82:["02","09","40","03","52","02","56","30","06","10","F3","03","98"],g83:["02","09","40","03","53","B7","92","F0","25","B8","6C","03","3C"],g84:["02","09","40","03","54","B1","90","60","13","88","93","03","56"],g85:["02","09","40","03","55","AE","3A","90","0A","70","4A","03","2A"],g86:["02","09","40","03","56","02","AB","D8","06","10","F4","03","8E"],g87:["02","09","40","03","57","72","7B","98","56","90","C5","03","8E"],g88:["02","09","40","03","58","50","1A","90","F0","80","C5","03","7C"],g89:["02","09","40","03","59","17","07","18","45","B8","8F","03","68"],g90:["02","09","40","03","5A","9E","34","A0","DA","F0","99","03","A8"]},activate:{g1:["02","09","30","03","01","01","01","28","87","68","1D","03","E0"],g2:["02","09","30","03","01","02","01","48","E3","08","3A","03","A0"],g3:["02","09","30","03","01","03","01","68","42","B0","62","03","C0"],g4:["02","09","30","03","01","04","01","88","71","D8","DA","03","C4"],g5:["02","09","30","03","01","05","01","A8","9D","F8","47","03","B4"],g6:["02","09","30","03","01","06","01","C8","56","90","B9","03","8A"],g7:["02","09","30","03","01","07","01","E8","B2","30","D6","03","80"],g8:["02","09","30","03","01","08","01","08","11","D8","FE","03","0C"],g9:["02","09","30","03","01","09","01","28","6D","78","1B","03","14"],g10:["02","09","30","03","02","01","01","68","99","98","A0","03","F0"],g11:["02","09","30","03","02","02","01","88","C8","C0","18","03","A2"],g12:["02","09","30","03","02","03","01","A8","24","60","35","03","E2"],g13:["02","09","30","03","02","04","01","C8","53","88","AD","03","82"],g14:["02","09","30","03","02","05","01","E8","82","B0","25","03","C2"],g15:["02","09","30","03","02","06","01","08","26","10","4A","03","4A"],g16:["02","09","30","03","02","07","01","28","97","E8","B4","03","DC"],g17:["02","09","30","03","02","08","01","48","F6","90","DC","03","C2"],g18:["02","09","30","03","02","09","01","68","52","30","F9","03","C2"],g19:["02","09","30","03","03","01","01","A8","AE","D0","2E","03","C0"],g20:["02","09","30","03","03","02","01","C8","DD","F8","A6","03","70"],g21:["02","09","30","03","03","03","01","E8","39","98","C3","03","B0"],g22:["02","09","30","03","03","04","01","08","68","C0","3B","03","A6"],g23:["02","09","30","03","03","05","01","28","94","E0","A8","03","C8"],g24:["02","09","30","03","03","06","01","48","3B","48","D8","03","DC"],g25:["02","09","30","03","03","07","01","68","A9","18","37","03","D0"],g26:["02","09","30","03","03","08","01","88","08","C0","5F","03","2E"],g27:["02","09","30","03","03","09","01","A8","64","60","7C","03","E0"],g28:["02","09","30","03","04","01","01","E8","C0","00","B1","03","A6"],g29:["02","09","30","03","04","02","01","08","EC","20","1E","03","E6"],g30:["02","09","30","03","04","03","01","28","48","C0","3B","03","A6"],g31:["02","09","30","03","04","04","01","48","A4","60","58","03","EE"],g32:["02","09","30","03","04","05","01","68","18","40","CD","03","C6"],g33:["02","09","30","03","04","06","01","88","47","68","45","03","DA"],g34:["02","09","30","03","04","07","01","A8","B8","40","AF","03","C6"],g35:["02","09","30","03","04","08","01","C8","14","E0","CC","03","C6"],g36:["02","09","30","03","04","09","01","E8","40","00","39","03","A6"],g37:["02","09","30","03","05","01","01","28","9F","A8","79","03","58"],g38:["02","09","30","03","05","02","01","48","FB","48","96","03","50"],g39:["02","09","30","03","05","03","01","68","27","68","03","03","18"],g40:["02","09","30","03","05","04","01","88","86","10","2B","03","0E"],g41:["02","09","30","03","05","05","01","A8","B2","30","98","03","88"],g42:["02","09","30","03","05","06","01","C8","29","18","18","03","D8"],g43:["02","09","30","03","05","07","01","E8","58","40","90","03","58"],g44:["02","09","30","03","05","08","01","08","B4","E0","AD","03","C6"],g45:["02","09","30","03","05","09","01","28","E0","00","1A","03","E4"],g46:["02","09","30","03","06","01","01","68","0C","20","9F","03","E6"],g47:["02","09","30","03","06","02","01","88","3B","48","17","03","D2"],g48:["02","09","30","03","06","03","01","A8","AC","20","81","03","9A"],g49:["02","09","30","03","06","04","01","C8","08","C0","9E","03","A6"],g50:["02","09","30","03","06","05","01","E8","64","60","BB","03","6E"],g51:["02","09","30","03","06","06","01","08","08","C0","E0","03","1A"],g52:["02","09","30","03","06","07","01","28","37","E8","58","03","94"],g53:["02","09","30","03","06","08","01","48","66","10","D0","03","DA"],g54:["02","09","30","03","06","09","01","68","C2","B0","ED","03","C2"],g55:["02","09","30","03","07","01","01","A8","F1","D8","7D","03","C0"],g56:["02","09","30","03","07","02","01","C8","1D","F8","EA","03","F8"],g57:["02","09","30","03","07","03","01","E8","79","98","07","03","30"],g58:["02","09","30","03","07","04","01","08","EA","70","71","03","DA"],g59:["02","09","30","03","07","05","01","28","49","18","99","03","D8"],g60:["02","09","30","03","07","06","01","48","ED","78","BE","03","58"],g61:["02","09","30","03","07","07","01","68","49","18","DB","03","D8"],g62:["02","09","30","03","07","08","01","88","78","40","53","03","D6"],g63:["02","09","30","03","07","09","01","A8","D4","E0","70","03","D8"],g64:["02","09","30","03","08","01","01","E8","30","80","A5","03","CE"],g65:["02","09","30","03","08","02","01","08","5F","A8","1D","03","D2"],g66:["02","09","30","03","08","03","01","28","8B","C8","8A","03","D0"],g67:["02","09","30","03","08","04","01","48","F9","98","E9","03","F6"],g68:["02","09","30","03","08","05","01","68","55","38","06","03","34"],g69:["02","09","30","03","08","06","01","88","FC","A0","36","03","D6"],g70:["02","09","30","03","08","07","01","A8","58","40","53","03","D6"],g71:["02","09","30","03","08","08","01","C8","84","60","C0","03","D6"],g72:["02","09","30","03","08","09","01","E8","B3","88","38","03","D0"],g73:["02","09","30","03","09","01","01","28","0F","28","6D","03","50"],g74:["02","09","30","03","09","02","01","48","3E","50","E5","03","F2"],g75:["02","09","30","03","09","03","01","68","6A","70","52","03","10"],g76:["02","09","30","03","09","04","01","88","96","90","BF","03","06"],g77:["02","09","30","03","09","05","01","A8","F5","38","E7","03","B4"],g78:["02","09","30","03","09","06","01","C8","69","18","5C","03","D0"],g79:["02","09","30","03","09","07","01","E8","95","38","C9","03","B8"],g80:["02","09","30","03","09","08","01","08","06","10","33","03","16"],g81:["02","09","30","03","09","09","01","28","65","B8","5B","03","94"],g82:["02","09","30","03","0A","01","01","68","C1","58","90","03","50"],g83:["02","09","30","03","0A","02","01","88","F0","80","08","03","C2"],g84:["02","09","30","03","0A","03","01","A8","4C","20","25","03","D2"],g85:["02","09","30","03","0A","04","01","C8","78","40","92","03","56"],g86:["02","09","30","03","0A","05","01","E8","A7","68","0A","03","18"],g87:["02","09","30","03","0A","06","01","08","48","C0","24","03","92"],g88:["02","09","30","03","0A","07","01","28","A4","60","41","03","9A"],g89:["02","09","30","03","0A","08","01","48","D0","80","AE","03","8E"],g90:["02","09","30","03","0A","09","01","68","FF","A8","26","03","20"]},deactivate:{g1:["02","09","30","03","01","01","00","20","F6","90","AB","03","D6"],g2:["02","09","30","03","01","02","00","40","AF","28","1D","03","E2"],g3:["02","09","30","03","01","03","00","60","FC","A0","03","03","06"],g4:["02","09","30","03","01","04","00","80","49","18","E9","03","06"],g5:["02","09","30","03","01","05","00","A0","99","98","DA","03","44"],g6:["02","09","30","03","01","06","00","C0","DD","F8","9F","03","46"],g7:["02","09","30","03","01","07","00","E0","3C","A0","C7","03","86"],g8:["02","09","30","03","01","08","00","00","8C","20","B8","03","26"],g9:["02","09","30","03","01","09","00","20","D3","88","88","03","C0"],g10:["02","09","30","03","02","01","00","60","1A","F0","70","03","C2"],g11:["02","09","30","03","02","02","00","80","6A","70","61","03","C0"],g12:["02","09","30","03","02","03","00","A0","B7","E8","47","03","82"],g13:["02","09","30","03","02","04","00","C0","01","58","22","03","86"],g14:["02","09","30","03","02","05","00","E0","4B","C8","FD","03","A2"],g15:["02","09","30","03","02","06","00","00","68","C0","33","03","A4"],g16:["02","09","30","03","02","07","00","20","8B","C8","7F","03","22"],g17:["02","09","30","03","02","08","00","40","E4","60","91","03","64"],g18:["02","09","30","03","02","09","00","60","31","D8","77","03","CE"],g19:["02","09","30","03","03","01","00","A0","7B","48","6A","03","C0"],g20:["02","09","30","03","03","02","00","C0","C8","C0","50","03","A2"],g21:["02","09","30","03","03","03","00","E0","1B","48","4C","03","C4"],g22:["02","09","30","03","03","04","00","00","5F","A8","11","03","DA"],g23:["02","09","30","03","03","05","00","20","AF","28","02","03","98"],g24:["02","09","30","03","03","06","00","40","08","C0","14","03","A2"],g25:["02","09","30","03","03","07","00","60","46","10","C3","03","CA"],g26:["02","09","30","03","03","08","00","80","AE","D0","0C","03","C2"],g27:["02","09","30","03","03","09","00","A0","CB","C8","42","03","D0"],g28:["02","09","30","03","04","01","00","E0","F1","D8","B1","03","46"],g29:["02","09","30","03","04","02","00","00","3E","50","97","03","C4"],g30:["02","09","30","03","04","03","00","20","52","30","AC","03","D2"],g31:["02","09","30","03","04","04","00","40","AB","C8","BE","03","A6"],g32:["02","09","30","03","04","05","00","60","F8","40","A4","03","46"],g33:["02","09","30","03","04","06","00","80","39","98","5E","03","46"],g34:["02","09","30","03","04","07","00","A0","83","08","39","03","2A"],g35:["02","09","30","03","04","08","00","C0","21","58","48","03","C6"],g36:["02","09","30","03","04","09","00","E0","6B","C8","23","03","56"],g37:["02","09","30","03","05","01","00","20","A9","18","EA","03","44"],g38:["02","09","30","03","05","02","00","40","F9","98","DB","03","C6"],g39:["02","09","30","03","05","03","00","60","43","08","B6","03","A0"],g40:["02","09","30","03","05","04","00","80","6C","20","18","03","EE"],g41:["02","09","30","03","05","05","00","A0","B3","88","E8","03","48"],g42:["02","09","30","03","05","06","00","C0","D6","90","34","03","8A"],g43:["02","09","30","03","05","07","00","E0","20","00","0F","03","F6"],g44:["02","09","30","03","05","08","00","00","61","58","C9","03","C6"],g45:["02","09","30","03","05","09","00","20","FC","A0","CD","03","86"],g46:["02","09","30","03","06","01","00","60","3A","F0","94","03","02"],g47:["02","09","30","03","06","02","00","80","99","98","BC","03","02"],g48:["02","09","30","03","06","03","00","A0","D4","E0","60","03","CA"],g49:["02","09","30","03","06","04","00","C0","2D","78","72","03","DE"],g50:["02","09","30","03","06","05","00","E0","7A","F0","58","03","0A"],g51:["02","09","30","03","06","06","00","00","C4","60","33","03","AC"],g52:["02","09","30","03","06","07","00","20","0E","D0","0E","03","CA"],g53:["02","09","30","03","06","08","00","40","4F","28","C8","03","DA"],g54:["02","09","30","03","06","09","00","60","E1","58","AB","03","46"],g55:["02","09","30","03","07","01","00","A0","28","C0","93","03","E6"],g56:["02","09","30","03","07","02","00","C0","84","60","B0","03","AA"],g57:["02","09","30","03","07","03","00","E0","CE","D0","8B","03","4A"],g58:["02","09","30","03","07","04","00","00","1E","50","7C","03","0A"],g59:["02","09","30","03","07","05","00","20","59","98","20","03","F8"],g60:["02","09","30","03","07","06","00","40","A9","18","11","03","DA"],g61:["02","09","30","03","07","07","00","60","F9","98","02","03","38"],g62:["02","09","30","03","07","08","00","80","40","00","D2","03","26"],g63:["02","09","30","03","07","09","00","A0","9F","A8","FA","03","58"],g64:["02","09","30","03","08","01","00","E0","E6","10","E2","03","C6"],g65:["02","09","30","03","08","02","00","00","39","98","DE","03","4E"],g66:["02","09","30","03","08","03","00","20","8F","28","E5","03","52"],g67:["02","09","30","03","08","04","00","40","D9","98","C0","03","F6"],g68:["02","09","30","03","08","05","00","60","23","08","9B","03","E6"],g69:["02","09","30","03","08","06","00","80","61","58","4A","03","C6"],g70:["02","09","30","03","08","07","00","A0","BA","F0","5C","03","82"],g71:["02","09","30","03","08","08","00","C0","F5","38","00","03","36"],g72:["02","09","30","03","08","09","00","E0","99","98","25","03","FE"],g73:["02","09","30","03","09","01","00","20","DD","F8","02","03","34"],g74:["02","09","30","03","09","02","00","40","09","18","6F","03","0E"],g75:["02","09","30","03","09","03","00","60","50","80","3F","03","BE"],g76:["02","09","30","03","09","04","00","80","A0","00","30","03","26"],g77:["02","09","30","03","09","05","00","A0","EA","70","0B","03","06"],g78:["02","09","30","03","09","06","00","C0","34","E0","E6","03","C6"],g79:["02","09","30","03","09","07","00","E0","84","60","D7","03","E6"],g80:["02","09","30","03","09","08","00","00","C8","C0","9C","03","AE"],g81:["02","09","30","03","09","09","00","20","63","08","A0","03","D0"],g82:["02","09","30","03","0A","01","00","60","A4","60","72","03","E6"],g83:["02","09","30","03","0A","02","00","80","F4","E0","63","03","C4"],g84:["02","09","30","03","0A","03","00","A0","3B","48","33","03","D2"],g85:["02","09","30","03","0A","04","00","C0","91","D8","3A","03","86"],g86:["02","09","30","03","0A","05","00","E0","DB","48","15","03","52"],g87:["02","09","30","03","0A","06","00","00","25","B8","F0","03","5A"],g88:["02","09","30","03","0A","07","00","20","75","38","E1","03","BA"],g89:["02","09","30","03","0A","08","00","40","BF","A8","BC","03","D2"],g90:["02","09","30","03","0A","09","00","60","54","E0","AA","03","46"]}}});var n="text-shadow: -1px -1px hsl(0,100%,50%), 1px 1px hsl(5.4, 100%, 50%), 3px 2px hsl(10.8, 100%, 50%), 5px 3px hsl(16.2, 100%, 50%), 7px 4px hsl(21.6, 100%, 50%), 9px 5px hsl(27, 100%, 50%), 11px 6px hsl(32.4, 100%, 50%), 13px 7px hsl(37.8, 100%, 50%), 14px 8px hsl(43.2, 100%, 50%), 16px 9px hsl(48.6, 100%, 50%), 18px 10px hsl(54, 100%, 50%), 20px 11px hsl(59.4, 100%, 50%), 22px 12px hsl(64.8, 100%, 50%), 23px 13px hsl(70.2, 100%, 50%), 25px 14px hsl(75.6, 100%, 50%), 27px 15px hsl(81, 100%, 50%), 28px 16px hsl(86.4, 100%, 50%), 30px 17px hsl(91.8, 100%, 50%), 32px 18px hsl(97.2, 100%, 50%), 33px 19px hsl(102.6, 100%, 50%), 35px 20px hsl(108, 100%, 50%), 36px 21px hsl(113.4, 100%, 50%), 38px 22px hsl(118.8, 100%, 50%), 39px 23px hsl(124.2, 100%, 50%), 41px 24px hsl(129.6, 100%, 50%), 42px 25px hsl(135, 100%, 50%), 43px 26px hsl(140.4, 100%, 50%), 45px 27px hsl(145.8, 100%, 50%), 46px 28px hsl(151.2, 100%, 50%), 47px 29px hsl(156.6, 100%, 50%), 48px 30px hsl(162, 100%, 50%), 49px 31px hsl(167.4, 100%, 50%), 50px 32px hsl(172.8, 100%, 50%), 51px 33px hsl(178.2, 100%, 50%), 52px 34px hsl(183.6, 100%, 50%), 53px 35px hsl(189, 100%, 50%), 54px 36px hsl(194.4, 100%, 50%), 55px 37px hsl(199.8, 100%, 50%), 55px 38px hsl(205.2, 100%, 50%), 56px 39px hsl(210.6, 100%, 50%), 57px 40px hsl(216, 100%, 50%), 57px 41px hsl(221.4, 100%, 50%), 58px 42px hsl(226.8, 100%, 50%), 58px 43px hsl(232.2, 100%, 50%), 58px 44px hsl(237.6, 100%, 50%), 59px 45px hsl(243, 100%, 50%), 59px 46px hsl(248.4, 100%, 50%), 59px 47px hsl(253.8, 100%, 50%), 59px 48px hsl(259.2, 100%, 50%), 59px 49px hsl(264.6, 100%, 50%), 60px 50px hsl(270, 100%, 50%), 59px 51px hsl(275.4, 100%, 50%), 59px 52px hsl(280.8, 100%, 50%), 59px 53px hsl(286.2, 100%, 50%), 59px 54px hsl(291.6, 100%, 50%), 59px 55px hsl(297, 100%, 50%), 58px 56px hsl(302.4, 100%, 50%), 58px 57px hsl(307.8, 100%, 50%), 58px 58px hsl(313.2, 100%, 50%), 57px 59px hsl(318.6, 100%, 50%), 57px 60px hsl(324, 100%, 50%), 56px 61px hsl(329.4, 100%, 50%), 55px 62px hsl(334.8, 100%, 50%), 55px 63px hsl(340.2, 100%, 50%), 54px 64px hsl(345.6, 100%, 50%), 53px 65px hsl(351, 100%, 50%), 52px 66px hsl(356.4, 100%, 50%), 51px 67px hsl(361.8, 100%, 50%), 50px 68px hsl(367.2, 100%, 50%), 49px 69px hsl(372.6, 100%, 50%), 48px 70px hsl(378, 100%, 50%), 47px 71px hsl(383.4, 100%, 50%), 46px 72px hsl(388.8, 100%, 50%), 45px 73px hsl(394.2, 100%, 50%), 43px 74px hsl(399.6, 100%, 50%), 42px 75px hsl(405, 100%, 50%), 41px 76px hsl(410.4, 100%, 50%), 39px 77px hsl(415.8, 100%, 50%), 38px 78px hsl(421.2, 100%, 50%), 36px 79px hsl(426.6, 100%, 50%), 35px 80px hsl(432, 100%, 50%), 33px 81px hsl(437.4, 100%, 50%), 32px 82px hsl(442.8, 100%, 50%), 30px 83px hsl(448.2, 100%, 50%), 28px 84px hsl(453.6, 100%, 50%), 27px 85px hsl(459, 100%, 50%), 25px 86px hsl(464.4, 100%, 50%), 23px 87px hsl(469.8, 100%, 50%), 22px 88px hsl(475.2, 100%, 50%), 20px 89px hsl(480.6, 100%, 50%), 18px 90px hsl(486, 100%, 50%), 16px 91px hsl(491.4, 100%, 50%), 14px 92px hsl(496.8, 100%, 50%), 13px 93px hsl(502.2, 100%, 50%), 11px 94px hsl(507.6, 100%, 50%), 9px 95px hsl(513, 100%, 50%), 7px 96px hsl(518.4, 100%, 50%), 5px 97px hsl(523.8, 100%, 50%), 3px 98px hsl(529.2, 100%, 50%), 1px 99px hsl(534.6, 100%, 50%), 7px 100px hsl(540, 100%, 50%), -1px 101px hsl(545.4, 100%, 50%), -3px 102px hsl(550.8, 100%, 50%), -5px 103px hsl(556.2, 100%, 50%), -7px 104px hsl(561.6, 100%, 50%), -9px 105px hsl(567, 100%, 50%), -11px 106px hsl(572.4, 100%, 50%), -13px 107px hsl(577.8, 100%, 50%), -14px 108px hsl(583.2, 100%, 50%), -16px 109px hsl(588.6, 100%, 50%), -18px 110px hsl(594, 100%, 50%), -20px 111px hsl(599.4, 100%, 50%), -22px 112px hsl(604.8, 100%, 50%), -23px 113px hsl(610.2, 100%, 50%), -25px 114px hsl(615.6, 100%, 50%), -27px 115px hsl(621, 100%, 50%), -28px 116px hsl(626.4, 100%, 50%), -30px 117px hsl(631.8, 100%, 50%), -32px 118px hsl(637.2, 100%, 50%), -33px 119px hsl(642.6, 100%, 50%), -35px 120px hsl(648, 100%, 50%), -36px 121px hsl(653.4, 100%, 50%), -38px 122px hsl(658.8, 100%, 50%), -39px 123px hsl(664.2, 100%, 50%), -41px 124px hsl(669.6, 100%, 50%), -42px 125px hsl(675, 100%, 50%), -43px 126px hsl(680.4, 100%, 50%), -45px 127px hsl(685.8, 100%, 50%), -46px 128px hsl(691.2, 100%, 50%), -47px 129px hsl(696.6, 100%, 50%), -48px 130px hsl(702, 100%, 50%), -49px 131px hsl(707.4, 100%, 50%), -50px 132px hsl(712.8, 100%, 50%), -51px 133px hsl(718.2, 100%, 50%), -52px 134px hsl(723.6, 100%, 50%), -53px 135px hsl(729, 100%, 50%), -54px 136px hsl(734.4, 100%, 50%), -55px 137px hsl(739.8, 100%, 50%), -55px 138px hsl(745.2, 100%, 50%), -56px 139px hsl(750.6, 100%, 50%), -57px 140px hsl(756, 100%, 50%), -57px 141px hsl(761.4, 100%, 50%), -58px 142px hsl(766.8, 100%, 50%), -58px 143px hsl(772.2, 100%, 50%), -58px 144px hsl(777.6, 100%, 50%), -59px 145px hsl(783, 100%, 50%), -59px 146px hsl(788.4, 100%, 50%), -59px 147px hsl(793.8, 100%, 50%), -59px 148px hsl(799.2, 100%, 50%), -59px 149px hsl(804.6, 100%, 50%), -60px 150px hsl(810, 100%, 50%), -59px 151px hsl(815.4, 100%, 50%), -59px 152px hsl(820.8, 100%, 50%), -59px 153px hsl(826.2, 100%, 50%), -59px 154px hsl(831.6, 100%, 50%), -59px 155px hsl(837, 100%, 50%), -58px 156px hsl(842.4, 100%, 50%), -58px 157px hsl(847.8, 100%, 50%), -58px 158px hsl(853.2, 100%, 50%), -57px 159px hsl(858.6, 100%, 50%), -57px 160px hsl(864, 100%, 50%), -56px 161px hsl(869.4, 100%, 50%), -55px 162px hsl(874.8, 100%, 50%), -55px 163px hsl(880.2, 100%, 50%), -54px 164px hsl(885.6, 100%, 50%), -53px 165px hsl(891, 100%, 50%), -52px 166px hsl(896.4, 100%, 50%), -51px 167px hsl(901.8, 100%, 50%), -50px 168px hsl(907.2, 100%, 50%), -49px 169px hsl(912.6, 100%, 50%), -48px 170px hsl(918, 100%, 50%), -47px 171px hsl(923.4, 100%, 50%), -46px 172px hsl(928.8, 100%, 50%), -45px 173px hsl(934.2, 100%, 50%), -43px 174px hsl(939.6, 100%, 50%), -42px 175px hsl(945, 100%, 50%), -41px 176px hsl(950.4, 100%, 50%), -39px 177px hsl(955.8, 100%, 50%), -38px 178px hsl(961.2, 100%, 50%), -36px 179px hsl(966.6, 100%, 50%), -35px 180px hsl(972, 100%, 50%), -33px 181px hsl(977.4, 100%, 50%), -32px 182px hsl(982.8, 100%, 50%), -30px 183px hsl(988.2, 100%, 50%), -28px 184px hsl(993.6, 100%, 50%), -27px 185px hsl(999, 100%, 50%), -25px 186px hsl(1004.4, 100%, 50%), -23px 187px hsl(1009.8, 100%, 50%), -22px 188px hsl(1015.2, 100%, 50%), -20px 189px hsl(1020.6, 100%, 50%), -18px 190px hsl(1026, 100%, 50%), -16px 191px hsl(1031.4, 100%, 50%), -14px 192px hsl(1036.8, 100%, 50%), -13px 193px hsl(1042.2, 100%, 50%), -11px 194px hsl(1047.6, 100%, 50%), -9px 195px hsl(1053, 100%, 50%), -7px 196px hsl(1058.4, 100%, 50%), -5px 197px hsl(1063.8, 100%, 50%), -3px 198px hsl(1069.2, 100%, 50%), -1px 199px hsl(1074.6, 100%, 50%), -1px 200px hsl(1080, 100%, 50%), 1px 201px hsl(1085.4, 100%, 50%), 3px 202px hsl(1090.8, 100%, 50%), 5px 203px hsl(1096.2, 100%, 50%), 7px 204px hsl(1101.6, 100%, 50%), 9px 205px hsl(1107, 100%, 50%), 11px 206px hsl(1112.4, 100%, 50%), 13px 207px hsl(1117.8, 100%, 50%), 14px 208px hsl(1123.2, 100%, 50%), 16px 209px hsl(1128.6, 100%, 50%), 18px 210px hsl(1134, 100%, 50%), 20px 211px hsl(1139.4, 100%, 50%), 22px 212px hsl(1144.8, 100%, 50%), 23px 213px hsl(1150.2, 100%, 50%), 25px 214px hsl(1155.6, 100%, 50%), 27px 215px hsl(1161, 100%, 50%), 28px 216px hsl(1166.4, 100%, 50%), 30px 217px hsl(1171.8, 100%, 50%), 32px 218px hsl(1177.2, 100%, 50%), 33px 219px hsl(1182.6, 100%, 50%), 35px 220px hsl(1188, 100%, 50%), 36px 221px hsl(1193.4, 100%, 50%), 38px 222px hsl(1198.8, 100%, 50%), 39px 223px hsl(1204.2, 100%, 50%), 41px 224px hsl(1209.6, 100%, 50%), 42px 225px hsl(1215, 100%, 50%), 43px 226px hsl(1220.4, 100%, 50%), 45px 227px hsl(1225.8, 100%, 50%), 46px 228px hsl(1231.2, 100%, 50%), 47px 229px hsl(1236.6, 100%, 50%), 48px 230px hsl(1242, 100%, 50%), 49px 231px hsl(1247.4, 100%, 50%), 50px 232px hsl(1252.8, 100%, 50%), 51px 233px hsl(1258.2, 100%, 50%), 52px 234px hsl(1263.6, 100%, 50%), 53px 235px hsl(1269, 100%, 50%), 54px 236px hsl(1274.4, 100%, 50%), 55px 237px hsl(1279.8, 100%, 50%), 55px 238px hsl(1285.2, 100%, 50%), 56px 239px hsl(1290.6, 100%, 50%), 57px 240px hsl(1296, 100%, 50%), 57px 241px hsl(1301.4, 100%, 50%), 58px 242px hsl(1306.8, 100%, 50%), 58px 243px hsl(1312.2, 100%, 50%), 58px 244px hsl(1317.6, 100%, 50%), 59px 245px hsl(1323, 100%, 50%), 59px 246px hsl(1328.4, 100%, 50%), 59px 247px hsl(1333.8, 100%, 50%), 59px 248px hsl(1339.2, 100%, 50%), 59px 249px hsl(1344.6, 100%, 50%), 60px 250px hsl(1350, 100%, 50%), 59px 251px hsl(1355.4, 100%, 50%), 59px 252px hsl(1360.8, 100%, 50%), 59px 253px hsl(1366.2, 100%, 50%), 59px 254px hsl(1371.6, 100%, 50%), 59px 255px hsl(1377, 100%, 50%), 58px 256px hsl(1382.4, 100%, 50%), 58px 257px hsl(1387.8, 100%, 50%), 58px 258px hsl(1393.2, 100%, 50%), 57px 259px hsl(1398.6, 100%, 50%), 57px 260px hsl(1404, 100%, 50%), 56px 261px hsl(1409.4, 100%, 50%), 55px 262px hsl(1414.8, 100%, 50%), 55px 263px hsl(1420.2, 100%, 50%), 54px 264px hsl(1425.6, 100%, 50%), 53px 265px hsl(1431, 100%, 50%), 52px 266px hsl(1436.4, 100%, 50%), 51px 267px hsl(1441.8, 100%, 50%), 50px 268px hsl(1447.2, 100%, 50%), 49px 269px hsl(1452.6, 100%, 50%), 48px 270px hsl(1458, 100%, 50%), 47px 271px hsl(1463.4, 100%, 50%), 46px 272px hsl(1468.8, 100%, 50%), 45px 273px hsl(1474.2, 100%, 50%), 43px 274px hsl(1479.6, 100%, 50%), 42px 275px hsl(1485, 100%, 50%), 41px 276px hsl(1490.4, 100%, 50%), 39px 277px hsl(1495.8, 100%, 50%), 38px 278px hsl(1501.2, 100%, 50%), 36px 279px hsl(1506.6, 100%, 50%), 35px 280px hsl(1512, 100%, 50%), 33px 281px hsl(1517.4, 100%, 50%), 32px 282px hsl(1522.8, 100%, 50%), 30px 283px hsl(1528.2, 100%, 50%), 28px 284px hsl(1533.6, 100%, 50%), 27px 285px hsl(1539, 100%, 50%), 25px 286px hsl(1544.4, 100%, 50%), 23px 287px hsl(1549.8, 100%, 50%), 22px 288px hsl(1555.2, 100%, 50%), 20px 289px hsl(1560.6, 100%, 50%), 18px 290px hsl(1566, 100%, 50%), 16px 291px hsl(1571.4, 100%, 50%), 14px 292px hsl(1576.8, 100%, 50%), 13px 293px hsl(1582.2, 100%, 50%), 11px 294px hsl(1587.6, 100%, 50%), 9px 295px hsl(1593, 100%, 50%), 7px 296px hsl(1598.4, 100%, 50%), 5px 297px hsl(1603.8, 100%, 50%), 3px 298px hsl(1609.2, 100%, 50%), 1px 299px hsl(1614.6, 100%, 50%), 2px 300px hsl(1620, 100%, 50%), -1px 301px hsl(1625.4, 100%, 50%), -3px 302px hsl(1630.8, 100%, 50%), -5px 303px hsl(1636.2, 100%, 50%), -7px 304px hsl(1641.6, 100%, 50%), -9px 305px hsl(1647, 100%, 50%), -11px 306px hsl(1652.4, 100%, 50%), -13px 307px hsl(1657.8, 100%, 50%), -14px 308px hsl(1663.2, 100%, 50%), -16px 309px hsl(1668.6, 100%, 50%), -18px 310px hsl(1674, 100%, 50%), -20px 311px hsl(1679.4, 100%, 50%), -22px 312px hsl(1684.8, 100%, 50%), -23px 313px hsl(1690.2, 100%, 50%), -25px 314px hsl(1695.6, 100%, 50%), -27px 315px hsl(1701, 100%, 50%), -28px 316px hsl(1706.4, 100%, 50%), -30px 317px hsl(1711.8, 100%, 50%), -32px 318px hsl(1717.2, 100%, 50%), -33px 319px hsl(1722.6, 100%, 50%), -35px 320px hsl(1728, 100%, 50%), -36px 321px hsl(1733.4, 100%, 50%), -38px 322px hsl(1738.8, 100%, 50%), -39px 323px hsl(1744.2, 100%, 50%), -41px 324px hsl(1749.6, 100%, 50%), -42px 325px hsl(1755, 100%, 50%), -43px 326px hsl(1760.4, 100%, 50%), -45px 327px hsl(1765.8, 100%, 50%), -46px 328px hsl(1771.2, 100%, 50%), -47px 329px hsl(1776.6, 100%, 50%), -48px 330px hsl(1782, 100%, 50%), -49px 331px hsl(1787.4, 100%, 50%), -50px 332px hsl(1792.8, 100%, 50%), -51px 333px hsl(1798.2, 100%, 50%), -52px 334px hsl(1803.6, 100%, 50%), -53px 335px hsl(1809, 100%, 50%), -54px 336px hsl(1814.4, 100%, 50%), -55px 337px hsl(1819.8, 100%, 50%), -55px 338px hsl(1825.2, 100%, 50%), -56px 339px hsl(1830.6, 100%, 50%), -57px 340px hsl(1836, 100%, 50%), -57px 341px hsl(1841.4, 100%, 50%), -58px 342px hsl(1846.8, 100%, 50%), -58px 343px hsl(1852.2, 100%, 50%), -58px 344px hsl(1857.6, 100%, 50%), -59px 345px hsl(1863, 100%, 50%), -59px 346px hsl(1868.4, 100%, 50%), -59px 347px hsl(1873.8, 100%, 50%), -59px 348px hsl(1879.2, 100%, 50%), -59px 349px hsl(1884.6, 100%, 50%), -60px 350px hsl(1890, 100%, 50%), -59px 351px hsl(1895.4, 100%, 50%), -59px 352px hsl(1900.8, 100%, 50%), -59px 353px hsl(1906.2, 100%, 50%), -59px 354px hsl(1911.6, 100%, 50%), -59px 355px hsl(1917, 100%, 50%), -58px 356px hsl(1922.4, 100%, 50%), -58px 357px hsl(1927.8, 100%, 50%), -58px 358px hsl(1933.2, 100%, 50%), -57px 359px hsl(1938.6, 100%, 50%), -57px 360px hsl(1944, 100%, 50%), -56px 361px hsl(1949.4, 100%, 50%), -55px 362px hsl(1954.8, 100%, 50%), -55px 363px hsl(1960.2, 100%, 50%), -54px 364px hsl(1965.6, 100%, 50%), -53px 365px hsl(1971, 100%, 50%), -52px 366px hsl(1976.4, 100%, 50%), -51px 367px hsl(1981.8, 100%, 50%), -50px 368px hsl(1987.2, 100%, 50%), -49px 369px hsl(1992.6, 100%, 50%), -48px 370px hsl(1998, 100%, 50%), -47px 371px hsl(2003.4, 100%, 50%), -46px 372px hsl(2008.8, 100%, 50%), -45px 373px hsl(2014.2, 100%, 50%), -43px 374px hsl(2019.6, 100%, 50%), -42px 375px hsl(2025, 100%, 50%), -41px 376px hsl(2030.4, 100%, 50%), -39px 377px hsl(2035.8, 100%, 50%), -38px 378px hsl(2041.2, 100%, 50%), -36px 379px hsl(2046.6, 100%, 50%), -35px 380px hsl(2052, 100%, 50%), -33px 381px hsl(2057.4, 100%, 50%), -32px 382px hsl(2062.8, 100%, 50%), -30px 383px hsl(2068.2, 100%, 50%), -28px 384px hsl(2073.6, 100%, 50%), -27px 385px hsl(2079, 100%, 50%), -25px 386px hsl(2084.4, 100%, 50%), -23px 387px hsl(2089.8, 100%, 50%), -22px 388px hsl(2095.2, 100%, 50%), -20px 389px hsl(2100.6, 100%, 50%), -18px 390px hsl(2106, 100%, 50%), -16px 391px hsl(2111.4, 100%, 50%), -14px 392px hsl(2116.8, 100%, 50%), -13px 393px hsl(2122.2, 100%, 50%), -11px 394px hsl(2127.6, 100%, 50%), -9px 395px hsl(2133, 100%, 50%), -7px 396px hsl(2138.4, 100%, 50%), -5px 397px hsl(2143.8, 100%, 50%), -3px 398px hsl(2149.2, 100%, 50%), -1px 399px hsl(2154.6, 100%, 50%); font-size: 40px;";console.debug("%cLocker webserial. %s",n,"Created by danidoble"),dd.addButtonToPermissions("Locker",hi(this,Ci)),null!==t&&pi(this,Bi,t),null!==s&&pi(this,Ii,{baudRate:s.baudRate?s.baudRate:9600,dataBits:s.dataBits?s.dataBits:8,stopBits:s.stopBits?s.stopBits:1,parity:s.parity?s.parity:"none",bufferSize:s.bufferSize?s.bufferSize:32768,flowControl:s.flowControl?s.flowControl:"none"}),ci(this,Ji,ga).call(this)}var s,n,i,a,l;return s=e,n=[{key:"clickConnect",value:function(){var e=ni(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hi(this,xi)){e.next=5;break}return e.next=3,ci(this,zi,da).call(this);case 3:return ci(this,Qi,ma).call(this,!1),e.abrupt("return");case 5:return e.next=7,ci(this,qi,pa).call(this);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:(l=ni(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ci(this,zi,da).call(this);case 2:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"initSerial",value:(a=ni(t().mark((function e(){var s,n=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.length>0&&void 0!==n[0]?n[0]:1,dd.isWebserialSupported(hi(this,Pi))){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,ci(this,qi,pa).call(this,s);case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"setBytesConnection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;pi(this,Ci,e),pi(this,yi,dd.setLockerConnectionConstant(e)),dd.addButtonToPermissions("Locker",hi(this,Ci))}},{key:"setDOMElLog",value:function(e){pi(this,Ri,document.getElementById(e))}},{key:"setDOMElsBtnConnect",value:function(e){pi(this,Oi,document.querySelectorAll(e))}},{key:"softReload",value:function(){pi(this,Di,hi(this,Ai)._interval_reconnection),pi(this,Ei,hi(this,Ai)._timer_until_response),pi(this,Wi,hi(this,Ai)._status_dispense),pi(this,Li,hi(this,Ai)._time_response_general),pi(this,Fi,hi(this,Ai)._time_to_reconnect),pi(this,Ui,hi(this,Ai)._last_error),this._log_time_door_open=[{name:"open",listen_since:(new Date).getTime(),listen_until:(new Date).getTime()}],this._log_time_door_close=[{name:"close",listen_since:(new Date).getTime(),listen_until:(new Date).getTime()}],this._counter_sense_door=1,this._interval_sense_door=void 0,this._limit_sense_door=30,this.extSoftReload()}},{key:"sentBytes",value:function(e){dd.log("Sent to device",e)}},{key:"connect",value:function(){ci(this,ea,Ea).call(this,hi(this,yi),"connect")}},{key:"reconnect",value:function(){this.extReconnectionMessage()}},{key:"customCode",value:function(e){ci(this,ea,Ea).call(this,e,"custom code")}},{key:"clearErrors",value:function(){pi(this,Ui,hi(this,Ai)._last_error)}},{key:"reloadPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];void 0===hi(this,Ni)?dd.error(dd.__("You must declare a boolean value for '#_reload_when_finished'")):hi(this,Ni)&&(!0===e?location.reload():this.softReload())}},{key:"open",value:function(e){ci(this,ia,Ma).call(this,e)&&ci(this,ea,Ea).call(this,hi(this,ra).open["g"+parseInt(e)],"open cell")}},{key:"activate",value:function(e){ci(this,ia,Ma).call(this,e)&&ci(this,ea,Ea).call(this,hi(this,ra).activate["g"+e],"config cell")}},{key:"deactivate",value:function(e){ci(this,ia,Ma).call(this,e)&&ci(this,ea,Ea).call(this,hi(this,ra).deactivate["g"+e],"config cell")}},{key:"testMatrix",value:function(){var e=1,t=this,s=setInterval((function(){if(e>=90)return clearInterval(s),s=0,void(e=0);t.open(e),e+=1}),1)}},{key:"enableAllMatrix",value:function(){var e=1,t=setInterval((function(){if(e>=90)return clearInterval(t),t=0,void(e=0);(void 0).activate(e),e+=1}),900)}},{key:"disableAllMatrix",value:function(){var e=1,t=this,s=setInterval((function(){if(e>=90)return clearInterval(s),s=0,void(e=0);t.deactivate(e),e+=1}),900)}},{key:"dividedCodeMessage",value:function(e,t){dd.warn(e,t)}},{key:"__isConnected",get:function(){return hi(this,ui)},set:function(e){pi(this,ui,e),window["owl_lock"+hi(this,Ci)+"_connected"]=hi(this,ui)}},{key:"__originalValues",get:function(){return hi(this,Ai)}},{key:"__serialPort",get:function(){return hi(this,xi)}},{key:"toString",value:function(){var e=this;return JSON.stringify({__class:"Locker",__number_device:hi(e,Ci),__connected:hi(e,ui),__connection:hi(e,yi)})}},{key:"extSerialMessage",value:function(e){dd.log(e)}},{key:"extAppMessage",value:function(e){dd.log(e)}},{key:"extReconnectionMessage",value:function(){dd.log(dd.__("Trying reconnect"))}},{key:"extTimeoutMessage",value:function(e,t){dd.warn("Timeout",e,t)}},{key:"extConnectionLost",value:function(){dd.log("Make your own function with this same name","Example: lock1.extConnectionLost = function(){console.log('Customize me')}")}},{key:"extSoftReload",value:function(){dd.log("Make your own function with this same name","Example: lock1.extSoftReload = function(){console.log('Customize me')}")}},{key:"extSentData",value:function(e){dd.log(e)}},{key:"extUnexpectedDisconnection",value:function(e){dd.warn(dd.__("There was an unexpected disconnection. an attempt was made to disconnect the port but it was already disconnected"),e)}},{key:"extWithDevice",value:function(){dd.log(dd.__("Device connected"))}},{key:"extWithoutDevice",value:function(){dd.log(dd.__("Without device"))}},{key:"extEmulate",value:function(e){ci(this,oa,Ba).call(this,e)}}],n&&ai(s.prototype,n),i&&ai(s,i),Object.defineProperty(s,"prototype",{writable:!1}),e}();function pa(){return ha.apply(this,arguments)}function ha(){return ha=ni(t().mark((function e(){var s,n,i,a,l,o=this,r=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>0&&void 0!==r[0]?r[0]:0,e.prev=1,s=hi(this,Bi),e.next=5,navigator.serial.getPorts({filters:s});case 5:if(!((n=e.sent).length>0)){e.next=47;break}if(e.prev=7,!(hi(this,Si)<n.length)){e.next=22;break}if(i=hi(this,Si),a=n[i].getInfo(),!(s.length>0)){e.next=19;break}if(a.usbProductId!==s[0].usbProductId||a.usbVendorId!==s[0].usbVendorId){e.next=16;break}pi(this,xi,n[i]),e.next=17;break;case 16:throw new Error("The port is already open.");case 17:e.next=20;break;case 19:pi(this,xi,n[i]);case 20:e.next=37;break;case 22:return pi(this,Si,0),e.prev=23,e.t0=pi,e.t1=this,e.t2=xi,e.next=29,navigator.serial.requestPort({filters:s});case 29:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3),e.next=37;break;case 33:return e.prev=33,e.t4=e.catch(23),ci(this,Gi,ba).call(this,e.t4),e.abrupt("return");case 37:if(hi(this,xi)){e.next=39;break}throw new Error("Select another port please");case 39:e.next=45;break;case 41:return e.prev=41,e.t5=e.catch(7),ci(this,Gi,ba).call(this,e.t5),e.abrupt("return");case 45:e.next=61;break;case 47:return e.prev=47,e.t6=pi,e.t7=this,e.t8=xi,e.next=53,navigator.serial.requestPort({filters:s});case 53:e.t9=e.sent,(0,e.t6)(e.t7,e.t8,e.t9),e.next=61;break;case 57:return e.prev=57,e.t10=e.catch(47),ci(this,Gi,ba).call(this,e.t10),e.abrupt("return");case 61:e.next=66;break;case 63:e.prev=63,e.t11=e.catch(1),ci(this,Gi,ba).call(this,e.t11);case 66:return e.prev=66,ci(this,Qi,ma).call(this,!0),e.next=70,hi(this,xi).open(hi(this,Ii));case 70:return l=this,hi(this,xi).ondisconnect=function(e){ci(l,sa,Da).call(l,e)},hi(this,xi).onconnect=function(e){ci(l,sa,Da).call(l,e)},this.extSentData({message:"Locker  "+dd.__("Opening with"),hex:hi(this,yi)}),pi(this,ji,[]),pi(this,Ei,setTimeout(ni(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ci(o,Yi,va).call(o,hi(o,yi),"connect_start");case 2:case"end":return e.stop()}}),e)}))),hi(this,Ti))),ci(this,Zi,ka).call(this,hi(this,yi)),e.next=79,ci(this,Hi,xa).call(this);case 79:e.next=84;break;case 81:e.prev=81,e.t12=e.catch(66),ci(this,Gi,ba).call(this,e.t12);case 84:return e.abrupt("return",0);case 85:case"end":return e.stop()}}),e,this,[[1,63],[7,41],[23,33],[47,57],[66,81]])}))),ha.apply(this,arguments)}function da(){return ua.apply(this,arguments)}function ua(){return(ua=ni(t().mark((function e(){var s,n=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!hi(this,_i)){e.next=8;break}return(s=hi(this,_i).cancel())&&s.then((function(e){e&&dd.log(e)})).catch((function(e){ci(n,Gi,ba).call(n,e)})),e.next=6,hi(this,vi);case 6:pi(this,_i,null),pi(this,vi,null);case 8:if(!hi(this,bi)){e.next=17;break}return e.next=11,hi(this,bi).getWriter().close();case 11:return e.next=13,hi(this,bi).getWriter().close();case 13:return e.next=15,hi(this,fi);case 15:pi(this,bi,null),pi(this,fi,null);case 17:pi(this,xi,null),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),ci(this,Gi,ba).call(this,e.t0);case 23:case"end":return e.stop()}}),e,this,[[0,20]])})))).apply(this,arguments)}function xa(){return _a.apply(this,arguments)}function _a(){return(_a=ni(t().mark((function e(){var s,n,i=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hi(this,xi).readable||!hi(this,mi)){e.next=28;break}pi(this,_i,hi(this,xi).readable.getReader()),e.prev=2;case 3:return e.next=6,hi(this,_i).read();case 6:if(s=e.sent,n=s.value,!s.done){e.next=13;break}return hi(this,_i).releaseLock(),pi(this,mi,!1),e.abrupt("break",18);case 13:ci(this,Vi,wa).call(this,n),void 0!==hi(this,ki)&&(clearTimeout(hi(this,ki)),pi(this,ki,void 0)),pi(this,ki,setTimeout((function(){var e=[];for(var t in hi(i,wi))e.push(hi(i,wi)[t].toString(16));hi(i,wi)&&ci(i,$i,ya).call(i,e),pi(i,wi,new Uint8Array(0))}),400)),e.next=3;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),ci(this,Gi,ba).call(this,e.t0);case 23:return e.prev=23,hi(this,_i).releaseLock(),e.finish(23);case 26:e.next=0;break;case 28:return pi(this,mi,!0),e.next=31,hi(this,xi).close();case 31:case"end":return e.stop()}}),e,this,[[2,20,23,26]])})))).apply(this,arguments)}function va(e,t){return fa.apply(this,arguments)}function fa(){return(fa=ni(t().mark((function e(s,n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dd.log("code",n),hi(this,Ui).message=dd.__("Operation response timed out."),hi(this,Ui).handler=n,hi(this,Ui).code=s,clearTimeout(hi(this,Ei)),pi(this,Ei,void 0),"connect"!==hi(this,Ui).handler){e.next=11;break}ci(this,la,Aa).call(this),this.reconnect(),e.next=18;break;case 11:if("connect_start"!==hi(this,Ui).handler){e.next=18;break}return ci(this,zi,da).call(this),pi(this,ui,!1),window["owl_lock"+hi(this,Ci)+"_connected"]=hi(this,ui),pi(this,Si,hi(this,Si)+1),e.next=18,ci(this,qi,pa).call(this);case 18:this.extTimeoutMessage(s,n);case 19:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ga(){Object.freeze(hi(this,Ai))}function ba(e){var s=this;if(null===document.getElementById(_id_vl_btn_open_modal_permissions))return dd.error(e),void dd.error("_id_vl_btn_open_modal_permissions doesn't exist in DOM");e.toString().includes("Failed to execute 'requestPort' on 'Serial': Must be handling a user gesture to show a permission request")?(document.getElementById(window["_id_lock"+hi(this,Ci)+"_btn_connect_serial"]).classList.remove("hidden"),document.getElementById(_id_vl_btn_open_modal_permissions).click()):e.toString().includes("The port is already open.")?(dd.debug(e),dd.warn(dd.__("Failed to open serial port. Trying again.")),ci(this,aa,Pa).call(this),ci(this,zi,da).call(this),setTimeout(ni(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pi(s,Si,hi(s,Si)+1),e.next=3,ci(s,qi,pa).call(s);case 3:case"end":return e.stop()}}),e)}))),500),document.getElementById(_id_vl_btn_open_modal_permissions).click()):e.toString().includes("Cannot read properties of undefined (reading 'writable')")?(dd.warn(dd.__("The port isn't open.")),ci(this,la,Aa).call(this),ci(this,zi,da).call(this),setTimeout(ni(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ci(s,qi,pa).call(s);case 2:case"end":return e.stop()}}),e)}))),500)):e.toString().includes("Cannot read properties of null (reading 'writable')")?(dd.warn(dd.__("The port isn't open.")),ci(this,la,Aa).call(this),ci(this,zi,da).call(this),setTimeout(ni(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ci(s,qi,pa).call(s);case 2:case"end":return e.stop()}}),e)}))),500)):e.toString().includes("Failed to execute 'open' on 'SerialPort': A call to open() is already in progress.")?dd.warn(dd.__("Failed to execute 'open' on 'SerialPort': A call to open() is already in progress.")):e.toString().includes("The port is closed.")?document.getElementById(_id_vl_btn_open_modal_permissions).click():e.toString().includes("Select another port please")||e.toString().includes("No port selected by the user")||e.toString().includes("Cannot read property 'writable' of null")?(document.getElementById(window["_id_lock"+hi(this,Ci)+"_btn_connect_serial"]).classList.remove("hidden"),document.getElementById(_id_vl_btn_open_modal_permissions).click()):e.toString().includes("Cannot read property 'writable' of undefined")?(document.getElementById(window["_id_lock"+hi(this,Ci)+"_btn_connect_serial"]).classList.remove("hidden"),ci(this,la,Aa).call(this),setTimeout(ni(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.initSerial();case 2:case"end":return e.stop()}}),e)}))),100)):e.toString().includes("The device has been lost")?(document.getElementById(window["_id_lock"+hi(this,Ci)+"_btn_connect_serial"]).classList.remove("hidden"),ci(this,la,Aa).call(this)):e.toString().includes("Failed to open serial port")?(dd.warn(dd.__("Failed to open serial port. Trying again.")),ci(this,la,Aa).call(this),ci(this,zi,da).call(this),setTimeout(ni(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ci(s,qi,pa).call(s);case 2:case"end":return e.stop()}}),e)}))),500)):e.toString().includes("navigator.serial is undefined")?document.getElementById(hi(this,Pi)).classList.remove("hidden"):e.toString().includes("This readable stream reader has been released and cannot be used to cancel its previous owner stream")?(document.getElementById(window["_id_lock"+hi(this,Ci)+"_btn_connect_serial"]).classList.remove("hidden"),ci(this,la,Aa).call(this),dd.checkDevicesConnected(),this.extUnexpectedDisconnection(e)):dd.error(e)}function ma(e){pi(this,ui,e),window["owl_lock"+hi(this,Ci)+"_connected"]=hi(this,ui),dd.setDeviceStatus("Locker",hi(this,Ci),e);var t=dd.__("Connect");if(e?t=dd.__("Disconnect"):(this.__connected_devices-=1,dd.checkDevicesConnected()),null!==hi(this,Oi))for(var s=0;s<hi(this,Oi).length;s++)hi(this,Oi)[s].textContent=t}function wa(e){if(void 0!==e){var t=new Uint8Array(hi(this,wi).length+e.byteLength);t.set(hi(this,wi),0),t.set(new Uint8Array(e),hi(this,wi).length),pi(this,wi,t)}}function ka(e){try{if(void 0===hi(this,xi))throw new Error("The port is closed.");var t=new Uint8Array(e),s=hi(this,xi).writable.getWriter();s.write(t).then((function(e){e&&dd.log(e)})),s.releaseLock()}catch(e){ci(this,Gi,ba).call(this,e)}}function ya(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;0===e?ci(this,Ki,Sa).call(this,t):e&&e.length>0?(pi(this,ui,!0),window["owl_lock"+hi(this,Ci)+"_connected"]=hi(this,ui),void 0!==hi(this,Di)&&(clearInterval(hi(this,Di)),pi(this,Di,void 0)),clearTimeout(hi(this,Ei)),pi(this,Ei,void 0),ci(this,Xi,Ca).call(this,e)):this.dividedCodeMessage(e,t)}function Ca(e){var t={};switch(e[1].toString().toUpperCase()){case"8":dd.checkDevicesConnected(),t.name=__("Connection with the serial device completed."),t.description=__("Your connection with the serial device was successfully completed."),t.request=__("connect"),t.no_code=100;break;case"7":if("5"===e[4].toString().toUpperCase())t.name=__("Cell inactive."),t.description=__("The selected cell is inactive or doesn't exist."),t.request=__("open cell"),t.no_code=101;else t.name=__("Cell open."),t.description=__("The selected cell was open successfully."),t.request=__("open cell"),t.no_code=102;break;case"6":t.name=__("Configuration applied."),t.description=__("The configuration was successfully applied."),t.request=__("configure cell"),t.no_code=103;break;default:t.request=dd.__("undefined"),t.name=dd.__("Response unrecognized"),t.description=dd.__("The response of application was received, but dont identify with any of current parameters"),t.no_code=404}this.extSerialMessage({code:e,message:t.name,description:t.description,request:t.request,no_code:t.no_code})}function Sa(e){clearTimeout(hi(this,Ei));var t={},s=this;switch(t.name="",t.description="",e.no_code){case 700:t.name=e.message,t.description=dd.__("The application connect successfully with website");break;case 701:t.name=e.message,t.description=dd.__("The connection with the serial device was ended by system request");break;case 702:t.name=e.message,t.description=dd.__("The last instruction is not compatible with this version of the application");break;case 703:ci(this,la,Aa).call(this),void 0===hi(this,Di)&&pi(this,Di,setInterval((function(){s.reconnect()}),hi(s,Fi))),t.name=dd.__("Serial device disconnected"),t.description=e.description;break;case 704:t.name=e.message,t.description=e.description;break;case 705:ci(this,la,Aa).call(this),void 0===hi(this,Di)&&pi(this,Di,setInterval((function(){s.reconnect()}),hi(s,Fi))),t.name=dd.__("Connection with the serial device is not complete"),t.description=dd.__("Check the device is connected correctly");break;case 706:t.name=e.message,t.description=dd.__("The port was not linked to the serial device, so we closed");break;case 707:t.name=e.message,t.description=dd.__("The response was not received in the time specified by the application");break;default:t.name=e.message,t.description=dd.__("Oops! you ran into an unknown error")}this.extAppMessage({message:t.name,description:t.description,no_code:e.no_code})}function Ea(e){var s=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=[];e.forEach((function(e){i.push(dd.hexMaker(e))})),i=dd.add0x(i),void 0!==hi(this,Ei)?(hi(this,ji).push({bytes:i,to_do:n}),dd.warn(dd.__("You send a new command to serial device before have an answer")+". "+dd.__("Commands in queue:")+" "+hi(this,ji).length),pi(this,Mi,setInterval((function(){void 0===hi(s,Ei)&&hi(s,ji).length>0&&(dd.log(dd.__("Sending in delay mode")+". "+dd.__("Commands in queue:")+" "+hi(s,ji).length),clearInterval(hi(s,Mi)),pi(s,Mi,void 0),pi(s,Ei,setTimeout(ni(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hi(s,ji)[0].bytes){e.next=3;break}return e.next=3,ci(s,Yi,va).call(s,hi(s,ji)[0].bytes,hi(s,ji)[0].to_do);case 3:case"end":return e.stop()}}),e)}))),hi(s,Li))),s.extSentData({message:n,hex:hi(s,ji)[0].bytes}),ci(s,Zi,ka).call(s,hi(s,ji)[0].bytes),pi(s,ji,hi(s,ji).splice(1)))}),500))):(pi(this,ji,[]),pi(this,Ei,setTimeout(ni(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ci(s,Yi,va).call(s,i,n);case 2:case"end":return e.stop()}}),e)}))),hi(this,Li))),this.extSentData({message:n,hex:i}),ci(this,Zi,ka).call(this,i))}function Ta(e){pi(this,ui,!1),window["owl_lock"+hi(this,Ci)+"_connected"]=hi(this,ui),dd.warn(e),this.extConnectionLost(e)}function Da(e){var s=this;pi(this,ui,!1),window["owl_lock"+hi(this,Ci)+"_connected"]=hi(this,ui),ci(this,ta,Ta).call(this,e),pi(this,Si,0),setTimeout(ni(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.disconnect();case 2:case"end":return e.stop()}}),e)}))),100)}function Ma(e){var t=parseInt(e);return!isNaN(t)&&t>0&&t<91&&void 0!==hi(this,ra).open["g"+t]&&void 0!==hi(this,ra).activate["g"+t]&&void 0!==hi(this,ra).deactivate["g"+t]||(dd.error("The number isn't valid"),!1)}function Pa(){this.extWithDevice()}function Aa(){this.extWithoutDevice()}function Ba(e){"object"===ti(e.code)?(dd.warn(dd.__("Executing emulator be carefully")),hi(this,ui)||(pi(this,ui,!0),window["owl_lock"+hi(this,Ci)+"_connected"]=hi(this,ui),void 0!==hi(this,Di)&&(clearInterval(hi(this,Di)),pi(this,Di,void 0))),clearTimeout(hi(this,Ei)),pi(this,Ei,void 0),ci(this,Xi,Ca).call(this,e.code)):dd.error(dd.__("Invalid data to emulate"))}function Ia(e,t,s,n,i,a,l){try{var o=e[a](l),r=o.value}catch(e){return void s(e)}o.done?t(r):Promise.resolve(r).then(n,i)}function Fa(e){return function(){var t=this,s=arguments;return new Promise((function(n,i){var a=e.apply(t,s);function l(e){Ia(a,n,i,l,o,"next",e)}function o(e){Ia(a,n,i,l,o,"throw",e)}l(void 0)}))}}window.Danidoble=E,window.Boardroid=xt,window.Jofemar=Cn,window.Locker=ca,window.Emulate=R;var Wa=new E;window.__=Wa.__,document.addEventListener("DOMContentLoaded",(function(){Wa.htmlData(),document.querySelector("body").innerHTML+=window.__webserial_html__,document.getElementById(window._id_vl_btn_open_modal_permissions).addEventListener("click",Fa(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById(window._id_vl_open_modal_permissions).classList.remove("hidden");case 1:case"end":return e.stop()}}),e)})))),document.getElementById(window._id_vl_btn_close_not_support).addEventListener("click",Fa(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById(window._id_vl_not_support).classList.add("hidden");case 1:case"end":return e.stop()}}),e)})))),"https:"!==window.location.protocol&&"function"==typeof Swal.fire&&Swal.fire({title:Wa.__("Security breach!"),html:Wa.__("Webserial needs 'HTTPS' to work. Also please upgrade your request to avoid security breaches."),icon:"error",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:Wa.__("Upgrade"),cancelButtonText:Wa.__("Leave me alone"),allowOutsideClick:!1}).then((function(e){e.isConfirmed?location.href=location.href.replace("http://","https://"):console.error(Wa.__("Security breach!"),Wa.__("Webserial it will not work"))}))}))})()})();
//# sourceMappingURL=webserial.js.map